<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Architectural overview · ADRIA.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="ADRIA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">ADRIA.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../synopsis/">Synopsis</a></li><li><span class="tocitem">Usage</span><ul><li><a class="tocitem" href="../../usage/getting_started/">Getting Started</a></li><li><a class="tocitem" href="../../usage/domain/">Loading a Domain</a></li><li><a class="tocitem" href="../../usage/scenario_generation/">Generating scenarios</a></li><li><a class="tocitem" href="../../usage/scenario_runs/">Running scenarios</a></li><li><a class="tocitem" href="../../usage/analysis/">Analysis</a></li><li><a class="tocitem" href="../../usage/cookbook/">Cookbook examples</a></li></ul></li><li><a class="tocitem" href="../../dMCDA/">Dynamic Multi-Criteria Decision Analysis</a></li><li><span class="tocitem">Architecture</span><ul><li class="is-active"><a class="tocitem" href>Architectural overview</a><ul class="internal"><li><a class="tocitem" href="#General-Structure"><span>General Structure</span></a></li><li><a class="tocitem" href="#Model-Factors"><span>Model Factors</span></a></li><li class="toplevel"><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><a class="tocitem" href="../domain_and_resultsets/">Inputs and Outputs</a></li></ul></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../../development/development_setup/">Development setup</a></li><li><a class="tocitem" href="../../development/metrics/">Contributing a metric</a></li><li><a class="tocitem" href="../../development/release_guide/">Release Guide</a></li><li><a class="tocitem" href="../../development/building_docs/">Building Documentation</a></li></ul></li><li><a class="tocitem" href="../../API/">ADRIA API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Architecture</a></li><li class="is-active"><a href>Architectural overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Architectural overview</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/open-AIMS/ADRIA.jl/blob/main/docs/src/architecture/architecture.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Architectural-overview"><a class="docs-heading-anchor" href="#Architectural-overview">Architectural overview</a><a id="Architectural-overview-1"></a><a class="docs-heading-anchor-permalink" href="#Architectural-overview" title="Permalink"></a></h1><p>ADRIA consists of three overarching components:</p><ol><li>a set of Multi-Criteria Decision Analysis methods used to emulate decision-makers</li><li>a coral ecosystem model (referred to as ADRIAmod)</li><li>a suite of analysis and assessment methods</li></ol><p>Each component may be applied separately, or altogether to perform an end-to-end analysis. This page documents the underlying architectural implementation of ADRIA, detailing how the above components interact.</p><h2 id="General-Structure"><a class="docs-heading-anchor" href="#General-Structure">General Structure</a><a id="General-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#General-Structure" title="Permalink"></a></h2><p>The primary purpose of ADRIA is to support reef restoration and adaptation through the development of robust intervention strategies under deep uncertainty. Here, &quot;robustness&quot; refers to the ability of an intervention strategy to meet desired outcomes under uncertain future conditions, which themselves are unknown and may be unexpected. To do so, ADRIA adopts an Exploratory Scenario Modelling framework to explore the range of possible futures and their outcomes.</p><p>Exploratory Scenario Modelling (ESM) itself leverages uncertainty and sensitivity analysis (UA/SA). Uncertainty analysis quantifies the variability of uncertainties in a given system and its expected range of outcomes. Sensitivity analysis examines the effect of a change in a model&#39;s inputs to its outputs. Common workflows to such analyses involve a three-step process (as discussed in Pianosi et al., 2016):</p><ol><li>Input sampling</li><li>Model evaluation</li><li>Post-processing</li></ol><p>When ADRIA is applied in its entirety, &quot;input sampling&quot; is analogous to scenario generation: all model parameters (the inputs) are collated and are sampled through a quasi-monte carlo process and subsequently adjusted to produce plausible combinations of parameter values. The Sobol&#39; sampling method is adopted as the default, although any method provided by the <a href="https://github.com/SciML/QuasiMonteCarlo.jl">QuasiMonteCarlo.jl</a> package can be used. Sample adjustment is required to map sampled values (which are continuous) to categorical or whole number values (e.g., Baroni and Tarantola, 2014) as may be expected by some parameters. Values are also adjusted to avoid implausible factor combinations, such as active intervention parameters in the case of non-intervention scenarios.</p><p>Model evaluation is simply running the model with the generated scenario set.</p><p>Post-processing is the analysis and visualization step.</p><h2 id="Model-Factors"><a class="docs-heading-anchor" href="#Model-Factors">Model Factors</a><a id="Model-Factors-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Factors" title="Permalink"></a></h2><p>Factors in ADRIA are defined across four sub-components:</p><ol><li>Intervention</li><li>Criteria</li><li>EnvironmentalLayers</li><li>Coral</li></ol><p>Each sub-component is represented by a struct with fields for each parameter. The <code>Intervention</code> sub-component holds parameters that define a given adopted intervention strategy/option: how many (and type of) corals are to be seeded, the length of any deployment, the start/end years, and so on. The <code>Criteria</code> sub-component relates to the preferences for the Multi-Criteria Decision Analysis methods, further detailed in <a href="../../dMCDA/#Dynamic-Multi-Criteria-Decision-Analysis">Dynamic Multi-Criteria Decision Analysis</a>. For the ADRIA ecosystem model (ADRIAmod), <code>EnviromentalLayers</code> relate to the environmental scenarios available for a given simulation (a time series of DHW and Wave stress), itself determined on the loading of data (see <a href="../../usage/scenario_runs/#Running-scenarios">Running scenarios</a>).</p><p>The <code>Coral</code> sub-component relates to ADRIAmod, currently representing six coral species:</p><ol><li>Arborescent Acropora</li><li>Tabular Acropora</li><li>Corymbose Acropora</li><li>Corymbose non-Acropora</li><li>Small massives and encrusting</li><li>Large massives</li></ol><p>ADRIAmod represents these across six size classes, with six parameter sets for each coral species and size class. These six parameter sets are further detailed in <a href="#Model-Factors">Model Factors</a>, however, it results in a large number of unique factors (6 groups x 6 size classes x 6 parameters: 216 factors). Instead of specifying all coral factors by hand, ADRIA instead auto-generates the sub-component using a common template (see <code>coral_spec()</code> and <code>create_coral_struct()</code> in <a href="../../API/#General-API">General API</a>).Through discussion with expert stakeholders, factor bounds were set to +/- 10% of their default values following a triangular distribution, the peak of which is the default value.</p><p>The <a href="https://github.com/rafaqz/ModelParameters.jl">ModelParameters.jl</a> package is used to provide a simple table-like interface to model factors. Using the <code>Param</code> type provided by ModelParameters.jl allows the default value, the factor bounds, their expected distribution, and other associated metadata (e.g., a human-readable name and description) to be attached. An example from the <code>Intervention</code> sub-component is shown below.</p><pre><code class="language-julia hljs">guided::N = Param(0, ptype=&quot;integer&quot;, bounds=(-1, 3 + 1), dists=&quot;unif&quot;,
        name=&quot;Guided&quot;, description=&quot;Choice of MCDA approach.&quot;)</code></pre><p>Note the <code>+ 1</code> in the example above when specifying the upper bound. Usual sampling approaches, such as the Sobol&#39; method mentioned above, provide a continous value. These need to be transformed to a whole number when working with categorical factors or parameters which expect a whole number. A &quot;flooring trick&quot; (as it is referred to here) is adopted to handle this transformation. The process is described in <a href="https://doi.org/10.1016/j.envsoft.2013.09.022">Baroni and Tarantola (2014)</a> and is illustrated here with the example below.</p><p>Let <span>$x_i$</span> be a factor that is expected to be a discrete value between 1 and 3 (inclusive). In other words, there are 3 valid options: <span>$x_i = \{1, 2, 3\}$</span>.</p><ol><li>The upper bound is increased by 1, such that <span>$x_i = \{1, 2, 3, 4\}$</span></li><li>Sample from this extended range with the given sampler, which returns a value <span>$1 \le v_i \lt 4$</span>, where <span>$v_i \in \mathbb{R}$</span></li><li>Take the <code>floor</code> of <span>$v_i$</span>. For example, if <span>$v_i = 3.9$</span>, then <span>$\text{floor}(v_i) = 3$</span>.</li></ol><p>In this manner the expected probability of a possible value being selected is maintained.</p><p>These factor definitions are collectively known as the model specification, and can be collated as a DataFrame.</p><div class="admonition is-info"><header class="admonition-header">Parameter Collation and Scenario Generation</header><div class="admonition-body"><p>See <a href="../../usage/cookbook/#Cookbook-examples">Cookbook examples</a> for an example how-to on collating model factors and generating samples.</p></div></div><p>Combination of the realized factor values then represent a &quot;scenario&quot;.</p><h1 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h1><p>Baroni, G., and S. Tarantola. 2014. A General Probabilistic Framework for uncertainty and global sensitivity analysis of deterministic models: A hydrological case study. Environmental Modelling &amp; Software 51:26–34.</p><p>Pianosi, F., K. Beven, J. Freer, J. W. Hall, J. Rougier, D. B. Stephenson, and T. Wagener. 2016. Sensitivity analysis of environmental models: A systematic review with practical workflow. Environmental Modelling &amp; Software 79:214–232.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../dMCDA/">« Dynamic Multi-Criteria Decision Analysis</a><a class="docs-footer-nextpage" href="../domain_and_resultsets/">Inputs and Outputs »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 25 September 2023 00:30">Monday 25 September 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
