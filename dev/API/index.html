<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ADRIA API · ADRIA.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="ADRIA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ADRIA.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../synopsis/">Synopsis</a></li><li><span class="tocitem">Usage</span><ul><li><a class="tocitem" href="../usage/getting_started/">Getting Started</a></li><li><a class="tocitem" href="../usage/domain/">Loading a Domain</a></li><li><a class="tocitem" href="../usage/scenario_generation/">Generating scenarios</a></li><li><a class="tocitem" href="../usage/scenario_runs/">Running scenarios</a></li><li><a class="tocitem" href="../usage/analysis/">Analysis</a></li><li><a class="tocitem" href="../usage/cookbook/">Cookbook examples</a></li></ul></li><li><a class="tocitem" href="../dMCDA/">Dynamic Multi-Criteria Decision Analysis</a></li><li><span class="tocitem">Architecture</span><ul><li><a class="tocitem" href="../architecture/architecture/">Architectural overview</a></li><li><a class="tocitem" href="../architecture/domain_and_resultsets/">Inputs and Outputs</a></li></ul></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../development/development_setup/">Development setup</a></li><li><a class="tocitem" href="../development/metrics/">Contributing a metric</a></li><li><a class="tocitem" href="../development/release_guide/">Release Guide</a></li><li><a class="tocitem" href="../development/building_docs/">Building Documentation</a></li></ul></li><li class="is-active"><a class="tocitem" href>ADRIA API</a><ul class="internal"><li><a class="tocitem" href="#Metrics"><span>Metrics</span></a></li><li><a class="tocitem" href="#Performance-indicators"><span>Performance indicators</span></a></li><li><a class="tocitem" href="#Sensitivity"><span>Sensitivity</span></a></li><li><a class="tocitem" href="#General-API"><span>General API</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>ADRIA API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ADRIA API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/open-AIMS/ADRIA.jl/blob/main/docs/src/API.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ADRIA-API"><a class="docs-heading-anchor" href="#ADRIA-API">ADRIA API</a><a id="ADRIA-API-1"></a><a class="docs-heading-anchor-permalink" href="#ADRIA-API" title="Permalink"></a></h1><h2 id="Metrics"><a class="docs-heading-anchor" href="#Metrics">Metrics</a><a id="Metrics-1"></a><a class="docs-heading-anchor-permalink" href="#Metrics" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.absolute_juveniles" href="#ADRIA.metrics.absolute_juveniles"><code>ADRIA.metrics.absolute_juveniles</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">absolute_juveniles(X::AbstractArray{T}, coral_spec::DataFrame, area::AbstractVector{T})::AbstractArray{T} where {T&lt;:Real}
absolute_juveniles(rs::ResultSet)::AbstractArray</code></pre><p>Juvenile coral cover in m².</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L311-L316">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.absolute_shelter_volume" href="#ADRIA.metrics.absolute_shelter_volume"><code>ADRIA.metrics.absolute_shelter_volume</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">absolute_shelter_volume(X::NamedDimsArray, site_area::Vector{&lt;:Real}, inputs::Union{DataFrame,DataFrameRow})
absolute_shelter_volume(rs::ResultSet)</code></pre><p>Provide indication of shelter volume in volume of cubic meters.</p><p>The metric applies log-log linear models developed by Urbina-Barreto et al., [1] which uses colony diameter and planar area (2D metrics) to estimate shelter volume (a 3D metric).</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : raw results</li><li><code>site_area</code> : area in m^2 for each site</li><li><code>max_cover</code> : maximum possible coral cover for each site (in percentage of site_area)</li><li><code>inputs</code> : DataFrame of scenario inputs</li></ul><p><strong>References</strong></p><ol><li>Urbina-Barreto, I., Chiroleu, F., Pinel, R., Fréchon, L., Mahamadaly, V.,   Elise, S., Kulbicki, M., Quod, J.-P., Dutrieux, E., Garnier, R.,   Henrich Bruggemann, J., Penin, L., &amp; Adjeroud, M. (2021). Quantifying the shelter capacity of coral reefs using photogrammetric   3D modeling: From colonies to reefscapes. Ecological Indicators, 121, 107151. https://doi.org/10.1016/j.ecolind.2020.107151</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L564-L589">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.coral_evenness" href="#ADRIA.metrics.coral_evenness"><code>ADRIA.metrics.coral_evenness</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">coral_evenness(r_taxa_cover::AbstractArray{T})::Array{T} where {T&lt;:Real}
coral_evenness(rs::ResultSet)::AbstractArray{T} where {T}</code></pre><p>Calculates evenness across functional coral groups in ADRIA as a diversity metric. Inverse Simpsons diversity indicator.</p><p><strong>References</strong></p><ol><li>Hill, M. O. (1973).  Diversity and Evenness: A Unifying Notation and Its Consequences. Ecology, 54(2), 427-432. https://doi.org/10.2307/1934352</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L378-L390">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.juvenile_indicator" href="#ADRIA.metrics.juvenile_indicator"><code>ADRIA.metrics.juvenile_indicator</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">juvenile_indicator(X::AbstractArray{T}, coral_params::DataFrame, area::Vector{Float64}, k_area::Vector{Float64}) where {T&lt;:Real}
juvenile_indicator(rs::ResultSet)</code></pre><p>Indicator for juvenile density (0 - 1), where 1 indicates the maximum theoretical density for juveniles have been achieved.</p><p><strong>Notes</strong></p><p>Maximum density is 51.8 juveniles / m², where juveniles are defined as &lt; 5cm diameter. See email correspondence from: Dr. A Thompson; to: Dr. K. Anthony Subject: RE: Max density of juvenile corals on the GBR Sent: Friday, 14 October 2022 2:58 PM</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L344-L357">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.reef_condition_index" href="#ADRIA.metrics.reef_condition_index"><code>ADRIA.metrics.reef_condition_index</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">reef_condition_index(rc::AbstractArray, evenness::AbstractArray, sv::AbstractArray, juves::AbstractArray)::AbstractArray
reef_condition_index(rs)</code></pre><p>Estimates a Reef Condition Index (RCI) providing a single value that indicates the condition of a reef across four metrics:</p><ul><li>coral cover</li><li>evenness (coral diversity)</li><li>shelter volume, and</li><li>abundance of juveniles</li></ul><p><strong>Notes</strong></p><p>Juveniles are made relative to maximum observed juvenile density (51.8/m²) See notes for <code>juvenile_indicator()</code></p><p><strong>Arguments</strong></p><ul><li><code>rc</code> : Relative coral cover across all groups</li><li><code>evenness</code> : Evenness across all coral groups</li><li><code>sv</code> : Shelter volume based on coral sizes and abundances</li><li><code>juves</code> : Abundance of coral juveniles &lt; 5 cm diameter</li></ul><p><strong>Returns</strong></p><p>NamedArray[timesteps ⋅ locations ⋅ scenarios]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/reef_indices.jl#L74-L97">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.reef_fish_index" href="#ADRIA.metrics.reef_fish_index"><code>ADRIA.metrics.reef_fish_index</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">reef_fish_index(rc::AbstractArray)
reef_fish_index(rs::ResultSet)</code></pre><p>The Reef Fish Index (RFI) estimates fish biomass from relative coral cover.</p><p>A linear regression (developed by Dr. R. Heneghan, Queensland University of Technology) is used to indicate the relationship between coral cover and fish biomass. The regression was developed with digitized data from Figures 4a and 6b in Graham &amp; Nash (2013; see [1]).</p><p>Values are provided ∈ [0, 1], where 1 indicates maximum fish biomass.</p><p>Note: Coral cover here is relative to coral habitable area (<span>$k$</span> area).</p><p><strong>Arguments</strong></p><ul><li><code>rc</code> : Relative cover</li></ul><p><strong>Returns</strong></p><p>NamedArray[timesteps ⋅ locations ⋅ scenarios], values in kg/km²</p><p><strong>References</strong></p><ol><li>Graham, N.A.J., Nash, K.L., 2013.</li></ol><p>The importance of structural complexity in coral reef ecosystems. Coral Reefs 32, 315–326. https://doi.org/10.1007/s00338-012-0984-y</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/reef_indices.jl#L215-L241">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.reef_tourism_index" href="#ADRIA.metrics.reef_tourism_index"><code>ADRIA.metrics.reef_tourism_index</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">reef_tourism_index(rc::AbstractArray, evenness::AbstractArray, sv::AbstractArray, juves::AbstractArray)::AbstractArray
reef_tourism_index(rs::ResultSet)::AbstractArray</code></pre><p>Estimate tourism index.</p><p>Note: This metric assumes all inputs (relative cover, evenness, shelter volume, coral juveniles) are scaled between 0 and 1. For evenness, shelter volume and coral juveniles, a value of 1 may represent a theoretical maximum.</p><p><strong>Arguments</strong></p><ul><li><code>rc</code> : Relative coral cover across all groups</li><li><code>evenness</code> : Evenness across all coral groups</li><li><code>sv</code> : Shelter volume based on coral sizes and abundances</li><li><code>juves</code> : Abundance of coral juveniles &lt; 5 cm diameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/reef_indices.jl#L150-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.relative_cover" href="#ADRIA.metrics.relative_cover"><code>ADRIA.metrics.relative_cover</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">relative_cover(X::AbstractArray{&lt;:Real})::AbstractArray{&lt;:Real}
relative_cover(rs::ResultSet)::AbstractArray{&lt;:Real}</code></pre><p>Indicate coral cover relative to available hard substrate (<span>$k$</span> area).</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Matrix of raw model results</li></ul><p><strong>Returns</strong></p><p>Coral cover [0 - 1], relative to available <span>$k$</span> area for a given location.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L176-L187">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.relative_juveniles" href="#ADRIA.metrics.relative_juveniles"><code>ADRIA.metrics.relative_juveniles</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">relative_juveniles(X::AbstractArray{T})::AbstractArray{T} where {T}
relative_juveniles(rs::ResultSet)::AbstractArray</code></pre><p>Juvenile coral cover relative to total site area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L295-L300">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.relative_shelter_volume" href="#ADRIA.metrics.relative_shelter_volume"><code>ADRIA.metrics.relative_shelter_volume</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">_relative_shelter_volume(X::AbstractArray{T,3}, k_area::Vector{T}, inputs::DataFrame)::AbstractArray{T} where {T&lt;:Real}
_relative_shelter_volume(X::AbstractArray{T,3}, k_area::Vector{T}, inputs::DataFrameRow)::AbstractArray{T} where {T&lt;:Real}
_relative_shelter_volume(X::AbstractArray{T,3}, k_area::Vector{T}, inputs::NamedDimsArray)::NamedDimsArray where {T&lt;:Real}
_relative_shelter_volume(X::AbstractArray{T,4}, k_area::Vector{T}, inputs::DataFrame)::NamedDimsArray where {T&lt;:Real}
_relative_shelter_volume(X::AbstractArray{T,4}, k_area::Vector{T}, inputs::DataFrameRow)::NamedDimsArray where {T&lt;:Real}
_relative_shelter_volume(X::AbstractArray{T,4}, k_area::Vector{T}, inputs::NamedDimsArray)::NamedDimsArray where {T&lt;:Real}
relative_shelter_volume(rs::ResultSet)</code></pre><p>Provide indication of shelter volume relative to theoretical maximum volume for the area covered by coral.</p><p>The metric applies log-log linear models developed by Urbina-Barreto et al., [1] which uses colony diameter and planar area (2D metrics) to estimate shelter volume (a 3D metric).</p><p class="math-container">\[RSV = \begin{cases}
TASV / MSV &amp; TASV &gt; 0, \\
0 &amp; \text{otherwise}
\end{cases}\]</p><p>where <span>$TASV$</span> represents Total Absolute Shelter Volume and <span>$MSV$</span> represents the maximum shelter volume possible.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : raw results</li><li><code>k_area</code> : area in m^2 for each site</li><li><code>inputs</code> : DataFrame of scenario inputs</li></ul><p><strong>Returns</strong></p><p>Shelter volume relative to a theoretical maximum volume for the available <span>$k$</span> area.</p><p><strong>References</strong></p><ol><li>Urbina-Barreto, I., Chiroleu, F., Pinel, R., Fréchon, L., Mahamadaly, V.,   Elise, S., Kulbicki, M., Quod, J.-P., Dutrieux, E., Garnier, R.,   Henrich Bruggemann, J., Penin, L., &amp; Adjeroud, M. (2021). Quantifying the shelter capacity of coral reefs using photogrammetric   3D modeling: From colonies to reefscapes. Ecological Indicators, 121, 107151. https://doi.org/10.1016/j.ecolind.2020.107151</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L652-L694">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.relative_taxa_cover" href="#ADRIA.metrics.relative_taxa_cover"><code>ADRIA.metrics.relative_taxa_cover</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">relative_taxa_cover(X::AbstractArray{T}, k_area::Vector{T}) where {T&lt;:Real}
relative_taxa_cover(rs::ResultSet)</code></pre><p>Results grouped by taxa/species.</p><p>TODO: Number of size classes is hard coded.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Raw model results for a single scenario</li><li><code>k_area</code> : the coral habitable area</li><li><code>area</code> : total location area</li></ul><p><strong>Returns</strong></p><p>Coral cover, grouped by taxa for the given scenario, relative to location k area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L242-L257">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_absolute_juveniles" href="#ADRIA.metrics.scenario_absolute_juveniles"><code>ADRIA.metrics.scenario_absolute_juveniles</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_absolute_juveniles(data::NamedDimsArray, coral_spec::DataFrame, k_area::AbstractVector{&lt;:Real}; kwargs...)::AbstractArray{&lt;:Real}
scenario_absolute_juveniles(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean absolute juvenile population for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/scenario.jl#L101-L106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_asv" href="#ADRIA.metrics.scenario_asv"><code>ADRIA.metrics.scenario_asv</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_asv(sv::NamedDimsArray; kwargs...)::AbstractArray{&lt;:Real}
scenario_asv(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean absolute shelter volumes for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/scenario.jl#L140-L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_evenness" href="#ADRIA.metrics.scenario_evenness"><code>ADRIA.metrics.scenario_evenness</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_evenness(ev::NamedDimsArray; kwargs...)::AbstractArray{&lt;:Real}
scenario_evenness(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean coral evenness for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/scenario.jl#L174-L179">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_juvenile_indicator" href="#ADRIA.metrics.scenario_juvenile_indicator"><code>ADRIA.metrics.scenario_juvenile_indicator</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_juvenile_indicator(data::NamedDimsArray, coral_spec::DataFrame, k_area::AbstractVector{&lt;:Real}; kwargs...)::AbstractArray{&lt;:Real}
scenario_juvenile_indicator(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Determine juvenile indicator ∈ [0, 1], where 1 indicates maximum mean juvenile density (51.8) has been achieved.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/scenario.jl#L123-L128">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_rci" href="#ADRIA.metrics.scenario_rci"><code>ADRIA.metrics.scenario_rci</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_rci(rci::NamedDimsArray, tac::NamedDimsArray; kwargs...)
scenario_rci(rs::ResultSet; kwargs...)</code></pre><p>Extract the total populated area of locations with Reef Condition Index of &quot;Good&quot; or higher for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/reef_indices.jl#L115-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_relative_cover" href="#ADRIA.metrics.scenario_relative_cover"><code>ADRIA.metrics.scenario_relative_cover</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_relative_cover(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean relative coral cover for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/scenario.jl#L55-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_relative_juveniles" href="#ADRIA.metrics.scenario_relative_juveniles"><code>ADRIA.metrics.scenario_relative_juveniles</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_relative_juveniles(data::NamedDimsArray, coral_spec::DataFrame, area::AbstractVector{&lt;:Real}; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean relative juvenile population for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/scenario.jl#L79-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_rfi" href="#ADRIA.metrics.scenario_rfi"><code>ADRIA.metrics.scenario_rfi</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_rfi(rfi::NamedDimsArray; kwargs...)
scenario_rfi(rs::ResultSet; kwargs...)</code></pre><p>Calculate the mean Reef Fish Index (RFI) for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/reef_indices.jl#L253-L258">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_rsv" href="#ADRIA.metrics.scenario_rsv"><code>ADRIA.metrics.scenario_rsv</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_rsv(sv::NamedDimsArray; kwargs...)::AbstractArray{&lt;:Real}
scenario_rsv(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean relative shelter volumes for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/scenario.jl#L156-L161">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_rti" href="#ADRIA.metrics.scenario_rti"><code>ADRIA.metrics.scenario_rti</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_rti(rti::NamedDimsArray; kwargs...)
scenario_rti(rs::ResultSet; kwargs...)</code></pre><p>Calculate the mean Reef Tourism Index (RTI) for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/reef_indices.jl#L178-L183">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_total_cover" href="#ADRIA.metrics.scenario_total_cover"><code>ADRIA.metrics.scenario_total_cover</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">scenario_total_cover(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean absolute coral for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/scenario.jl#L40-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.total_absolute_cover" href="#ADRIA.metrics.total_absolute_cover"><code>ADRIA.metrics.total_absolute_cover</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">total_absolute_cover(X::AbstractArray{&lt;:Real}, k_area::Vector{&lt;:Real})::AbstractArray{&lt;:Real}
total_absolute_cover(rs::ResultSet)::AbstractArray{&lt;:Real}</code></pre><p>The Total Absolute Coral Cover. Sum of proportional area taken up by all corals, multiplied by total site area.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Matrix of raw model results</li><li><code>k_area</code> : Site areas, with sites following the same order as given indicated in X.</li></ul><p><strong>Returns</strong></p><p>Absolute coral cover for a given location in m².</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L201-L214">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._collate_ranks-Tuple{ADRIA.ResultSet, Any}" href="#ADRIA.metrics._collate_ranks-Tuple{ADRIA.ResultSet, Any}"><code>ADRIA.metrics._collate_ranks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_collate_ranks(rs, selected)</code></pre><p>Collates ranks into seed/shade ranking results into a common structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/ranks.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._colony_Lcm2_to_m3m2-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics._colony_Lcm2_to_m3m2-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics._colony_Lcm2_to_m3m2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_colony_Lcm2_to_m3_m2(inputs::DataFrame)::Tuple</code></pre><p>Helper function to convert coral colony values from Litres/cm² to m³/m²</p><p><strong>Arguments</strong></p><ul><li><code>inputs</code> : Scenario values for the simulation</li></ul><p><strong>Returns</strong></p><p>Tuple : Assumed colony volume (m³/m²) for each species/size class, theoretical maximum for each species/size class</p><p><strong>References</strong></p><ol><li>Aston Eoghan A., Duce Stephanie, Hoey Andrew S., Ferrari Renata (2022).  A Protocol for Extracting Structural Metrics From 3D Reconstructions of Corals.  Frontiers in Marine Science, 9.  https://doi.org/10.3389/fmars.2022.854395</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L393-L410">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._get_ranks-Tuple{ADRIA.ResultSet, Int64}" href="#ADRIA.metrics._get_ranks-Tuple{ADRIA.ResultSet, Int64}"><code>ADRIA.metrics._get_ranks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_get_ranks(rs::ResultSet, intervention::Int64; kwargs...)</code></pre><p>Extracts results for a specific intervention (seeding [1] or shading [2])</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/ranks.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._max_juvenile_area" href="#ADRIA.metrics._max_juvenile_area"><code>ADRIA.metrics._max_juvenile_area</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">_max_juvenile_area(coral_params::DataFrame, max_juv_density::Float64=51.8)</code></pre><p>Calculate the maximum possible area that can be covered by juveniles for a given m².</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L320-L324">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._shelter_species_loop!-Union{Tuple{V}, Tuple{T1}, Tuple{T1, T1, Int64, V, V}} where {T1&lt;:NamedDims.NamedDimsArray{(:timesteps, :species, :sites), Float64, 3, Array{Float64, 3}}, V&lt;:(AbstractVector{&lt;:Float64})}" href="#ADRIA.metrics._shelter_species_loop!-Union{Tuple{V}, Tuple{T1}, Tuple{T1, T1, Int64, V, V}} where {T1&lt;:NamedDims.NamedDimsArray{(:timesteps, :species, :sites), Float64, 3, Array{Float64, 3}}, V&lt;:(AbstractVector{&lt;:Float64})}"><code>ADRIA.metrics._shelter_species_loop!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_shelter_species_loop!(X::T1, ASV::T1, nspecies::Int64, colony_vol_m3_per_m2::V, k_area::V) where {T1&lt;:NamedDims.NamedDimsArray{(:timesteps, :species, :sites),Float64,3,Array{Float64,3}},V&lt;:AbstractVector{&lt;:Float64}}</code></pre><p>Helper method to calculate absolute shelter volume metric across each species/size class for a given scenario.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : raw results (proportional coral cover relative to full site area)</li><li><code>ASV</code> : matrix to hold shelter volume results</li><li><code>nspecies</code> : number of species (taxa and size classes) considered</li><li><code>scen</code> : scenario number to calculate metric for</li><li><code>colony_vol_m3_per_m2</code> : estimated cubic volume per m² of coverage for each species/size class (36)</li><li><code>k_area</code> : habitable area of site in m²</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L497-L509">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._shelter_species_loop-Union{Tuple{F}, Tuple{T1}, Tuple{AbstractArray{T1, 3}, Int64, Array{F}, Array{F}, Array{F}}} where {T1&lt;:Real, F&lt;:Float64}" href="#ADRIA.metrics._shelter_species_loop-Union{Tuple{F}, Tuple{T1}, Tuple{AbstractArray{T1, 3}, Int64, Array{F}, Array{F}, Array{F}}} where {T1&lt;:Real, F&lt;:Float64}"><code>ADRIA.metrics._shelter_species_loop</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_shelter_species_loop(X, nspecies::Int64, scen::Int64, colony_vol_m3_per_m2, max_colony_vol_m3_per_m2, site_area)</code></pre><p>Helper method to calculate relative shelter volume metric across each species/size class for a given scenario.</p><p>Note: Species dimension is an amalgamation of taxa and size class. e.g., X[species=1:6] is Taxa 1, size classes 1-6; X[species=7:12] is Taxa 2, size class 1-6, etc.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : raw results (proportional coral cover relative to full site area)</li><li><code>n_species</code> : number of species (taxa and size classes) considered</li><li><code>scen</code> : scenario number to calculate metric for</li><li><code>colony_vol_m3_per_m2</code> : estimated cubic volume per m² of coverage for each species/size class (36)</li><li><code>max_colony_vol_m3_per_m2</code> : theoretical maximum volume per m² of coverage for each taxa (6)</li><li><code>site_area</code> : total area of site in m²</li><li><code>k_area</code> : habitable area of site in m² (i.e., <code>k</code> area)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L454-L470">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.call_metric-Tuple{Union{Function, ADRIA.metrics.Metric}, NamedDims.NamedDimsArray, Vararg{Any}}" href="#ADRIA.metrics.call_metric-Tuple{Union{Function, ADRIA.metrics.Metric}, NamedDims.NamedDimsArray, Vararg{Any}}"><code>ADRIA.metrics.call_metric</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">call_metric(metric, data, args...; timesteps=(:), species=(:), sites=(:), scens=(:))</code></pre><p>Convenience method that slices the data in the specified manner.</p><p><strong>Arguments</strong></p><ul><li><code>metric</code> : Function, the metric function to apply to &quot;raw&quot; data.</li><li><code>data</code> : NamedDimsArray, data to pass into <code>metric</code></li><li><code>args</code> : Additional positional arguments to pass into <code>metric</code></li><li><code>dims</code> : dummy keyword argument, not used but defined to allow use with other methods</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L129-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.dims-Tuple{ADRIA.metrics.Metric}" href="#ADRIA.metrics.dims-Tuple{ADRIA.metrics.Metric}"><code>ADRIA.metrics.dims</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dims(m::Metric)::Tuple</code></pre><p>Get dimension names for a given outcome/metric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L109-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.dominates-Tuple{AbstractVector{&lt;:Real}, AbstractVector{&lt;:Real}}" href="#ADRIA.metrics.dominates-Tuple{AbstractVector{&lt;:Real}, AbstractVector{&lt;:Real}}"><code>ADRIA.metrics.dominates</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dominates(x::Vector{&lt;:Real}, y::Vector{&lt;:Real})::Vector</code></pre><p>Adapted from: https://discourse.julialang.org/t/fast-optimized-non-dominated-sorting-algorithms/86793/7</p><p>Original function name is <code>dominates2()</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/pareto.jl#L4-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.loc_trajectory-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{Any, NamedDims.NamedDimsArray{D, T, N, A}}} where {D, T, N, A}" href="#ADRIA.metrics.loc_trajectory-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{Any, NamedDims.NamedDimsArray{D, T, N, A}}} where {D, T, N, A}"><code>ADRIA.metrics.loc_trajectory</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">loc_trajectory(metric, data::NamedDimsArray{D,T,N,A})::NamedDimsArray where {D,T,N,A}</code></pre><p>Alias for summarize(data, [:scenarios], metric). Collate trajectory for each location.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using Statistics

rs = ADRIA.load_results(&quot;some results&quot;)
tac = ADRIA.metrics.total_absolute_cover(rs)

# Get median trajectory for each site
ADRIA.metrics.loc_trajectory(median, tac)
# 2-dimensional NamedDimsArray(KeyedArray(...)) with keys:
# ↓   timesteps ∈ 75-element Vector{Any}
# →   sites ∈ 216-element Vector{Any}
# And data, 75×216 Matrix{Float32}:

# Get upper 95% CI for each site
ADRIA.metrics.loc_trajectory(x -&gt; quantile(x, 0.975), tac)
# 2-dimensional NamedDimsArray(KeyedArray(...)) with keys:
# ↓   timesteps ∈ 75-element Vector{Any}
# →   sites ∈ 216-element Vector{Any}
# And data, 75×216 Matrix{Float32}:</code></pre><p><strong>Arguments</strong></p><ul><li>metric : Any function (nominally from the Statistics package) to be applied to <code>data</code></li><li>data : Data set to apply metric to</li></ul><p><strong>Returns</strong></p><p>2D array of <span>$T ⋅ S$</span>, where <span>$T$</span> is total number of time steps and <span>$S$</span> is number of sites</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/site_level.jl#L26-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.metric_label-Tuple{ADRIA.metrics.Metric}" href="#ADRIA.metrics.metric_label-Tuple{ADRIA.metrics.Metric}"><code>ADRIA.metrics.metric_label</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">metric_label(m::Metric)::String
metric_label(f::Function, unit::String)</code></pre><p>Return name of metric in the format: &quot;Title Case [Unit]&quot;, suitable for use as a label.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">m_label = metric_label(scenario_total_cover)
# &quot;Scenario Total Cover [m²]&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L85-L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.nds" href="#ADRIA.metrics.nds"><code>ADRIA.metrics.nds</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">nds(X::AbstractArray{&lt;:Real}, dist::Int64=0)::Vector{Vector{&lt;:Int}}</code></pre><p>Naive n-dimensional non-dominated sorting.</p><p>Adapted from: https://discourse.julialang.org/t/fast-optimized-non-dominated-sorting-algorithms/86793/7</p><p>Original function name is <code>nds4()</code></p><p><strong>Arguments</strong></p><p>X : outcomes, where rows are scenarios and columns are metric results. dist : distance from front, where 0 is on the frontier.</p><p><strong>Returns</strong></p><p>Vector of Vectors with row indices for each <code>dist</code> from frontier, where 0 is on the frontier.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/pareto.jl#L23-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.per_loc-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{Any, NamedDims.NamedDimsArray{D, T, N, A}}} where {D, T, N, A}" href="#ADRIA.metrics.per_loc-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{Any, NamedDims.NamedDimsArray{D, T, N, A}}} where {D, T, N, A}"><code>ADRIA.metrics.per_loc</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">per_loc(metric, data::NamedDimsArray{D,T,N,A})::NamedDimsArray where {D,T,N,A}</code></pre><p>Alias for summarize(data, [:scenarios, :timesteps], metric). Get metric results applied to the location-level at indicated time (or across timesteps).</p><p><strong>Arguments</strong></p><ul><li>metric : Any function (nominally from the Statistics package) to be applied to <code>data</code></li><li>data : Data set to apply metric to</li><li>timesteps : timesteps to apply <code>metric</code> across</li></ul><p><strong>Returns</strong></p><p>Named Vector of <span>$N$</span> elements, where <span>$N$</span> is the number of sites.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/site_level.jl#L3-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_outcomes-Tuple{ADRIA.ResultSet, Vector{&lt;:ADRIA.metrics.Metric}}" href="#ADRIA.metrics.scenario_outcomes-Tuple{ADRIA.ResultSet, Vector{&lt;:ADRIA.metrics.Metric}}"><code>ADRIA.metrics.scenario_outcomes</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scenario_outcomes(rs::ResultSet, metrics::Vector{Metric})::NamedDimsArray</code></pre><p>Get outcomes for a given list of metrics and a result set.</p><p><strong>Arguments</strong></p><ul><li><code>rs</code> : ResultSet</li><li><code>metrics</code> : Vector of scenario Metrics (the ones that start with <code>scenario_</code>)</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray with (:timesteps, :scenarios, :outcomes)</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">metrics::Vector{ADRIA.metrics.Metric} = [
    ADRIA.metrics.scenario_total_cover,
    ADRIA.metrics.scenario_asv,
    ADRIA.metrics.scenario_absolute_juveniles,
]

# 3-dimensional Array of outcomes
outcomes = ADRIA.metrics.scenario_outcomes(rs, metrics)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/scenario.jl#L182-L205">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_trajectory-Tuple{AbstractArray}" href="#ADRIA.metrics.scenario_trajectory-Tuple{AbstractArray}"><code>ADRIA.metrics.scenario_trajectory</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scenario_trajectory(data::AbstractArray; metric=mean)</code></pre><p>Produce scenario trajectories using the provided metric/aggregation function.</p><p><strong>Arguments</strong></p><ul><li><code>data</code> : Results to aggregate</li><li><code>metric</code> : Function or Callable used to summarize data</li></ul><p><strong>Returns</strong></p><p>Matrix[timesteps ⋅ scenarios]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/scenario.jl#L10-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.seed_ranks-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics.seed_ranks-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics.seed_ranks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">seed_ranks(rs::ResultSet; kwargs...)</code></pre><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>kwargs : named dimensions to slice across</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray[timesteps, sites, scenarios]</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ADRIA.metrics.seed_ranks(rs; timesteps=1:10, scenarios=3:5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/ranks.jl#L34-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.shade_ranks-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics.shade_ranks-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics.shade_ranks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shade_ranks(rs::ResultSet; kwargs...)</code></pre><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>kwargs : named dimensions to slice across</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray[timesteps, sites, scenarios]</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ADRIA.metrics.shade_ranks(rs; timesteps=1:10, scenarios=3:5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/ranks.jl#L95-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.slice_results-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.slice_results-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.slice_results</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">slice_results(data::NamedDimsArray; timesteps=(:), species=(:), sites=(:), scenarios=(:))</code></pre><p>Slice data as indicated. Dimensions not found in target data are ignored.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L150-L155">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{NamedDims.NamedDimsArray{D, T, N, A}, Vector{Symbol}, Function}} where {D, T, N, A}" href="#ADRIA.metrics.summarize-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{NamedDims.NamedDimsArray{D, T, N, A}, Vector{Symbol}, Function}} where {D, T, N, A}"><code>ADRIA.metrics.summarize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize(data::NamedDimsArray{&lt;:Real}, alongs_axis::Vector{Symbol}, metric::Function)::NamedDimsArray{&lt;:Real}
summarize(data::NamedDimsArray{&lt;:Real}, alongs_axis::Vector{Symbol}, metric::Function, timesteps::Union{UnitRange,Vector{Int64},BitVector})::NamedDimsArray{&lt;:Real}</code></pre><p>Apply summary metric along some axis of a data set across some or all timesteps.</p><p><strong>Arguments</strong></p><ul><li><code>data</code> : Data set to apply metric to.</li><li><code>alongs_axis</code> : which axis will be replaced with (:) when slicing.</li><li><code>metric</code> : Any function (nominally from the Statistics package) to be applied to <code>data</code>.</li><li><code>timesteps</code> : timesteps to apply <code>metric</code> across.</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray with summary metric for the remaining axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/site_level.jl#L71-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_absolute_shelter_volume-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.summarize_absolute_shelter_volume-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.summarize_absolute_shelter_volume</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_absolute_shelter_volume(sv::AbstractArray{&lt;:Real}, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_absolute_shelter_volume(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized coral evenness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/temporal.jl#L124-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_coral_evenness-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.summarize_coral_evenness-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.summarize_coral_evenness</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_coral_evenness(raw::AbstractArray{&lt;:Real}, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_coral_evenness(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized coral evenness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/temporal.jl#L109-L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_raw-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.summarize_raw-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.summarize_raw</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_raw(data::NamedDimsArray; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Summarize raw data, aggregating the specified dimensions (e.g., <code>timesteps</code>, <code>scenarios</code>, etc.) and collapsing given <code>dims</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/temporal.jl#L43-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_relative_cover-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.summarize_relative_cover-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.summarize_relative_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_relative_cover(rc::AbstractArray{&lt;:Real}, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_relative_cover(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized relative cover.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/temporal.jl#L94-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_relative_shelter_volume-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.summarize_relative_shelter_volume-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.summarize_relative_shelter_volume</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_relative_shelter_volume(sv::AbstractArray{&lt;:Real}, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_relative_shelter_volume(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized coral evenness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/temporal.jl#L139-L144">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_total_cover-Tuple{NamedDims.NamedDimsArray, AbstractArray{&lt;:Real}}" href="#ADRIA.metrics.summarize_total_cover-Tuple{NamedDims.NamedDimsArray, AbstractArray{&lt;:Real}}"><code>ADRIA.metrics.summarize_total_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_total_cover(raw::AbstractArray{&lt;:Real}, areas::AbstractArray{&lt;:Real}; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_total_cover(rs::ResultSet; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized total absolute cover.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/temporal.jl#L76-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.to_string-Tuple{ADRIA.metrics.Metric}" href="#ADRIA.metrics.to_string-Tuple{ADRIA.metrics.Metric}"><code>ADRIA.metrics.to_string</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">to_string(m::Metric)::String</code></pre><p>Get name of metric as a string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L64-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.to_symbol-Tuple{ADRIA.metrics.Metric}" href="#ADRIA.metrics.to_symbol-Tuple{ADRIA.metrics.Metric}"><code>ADRIA.metrics.to_symbol</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">to_symbol(m::Metric)::String</code></pre><p>Get name of metric as a symbol.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L76-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.top_N_sites-Tuple{ADRIA.ResultSet, Int64}" href="#ADRIA.metrics.top_N_sites-Tuple{ADRIA.ResultSet, Int64}"><code>ADRIA.metrics.top_N_sites</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">top_N_sites(rs::ResultSet; N::Int64; metric::relative_cover)
top_N_sites(data::AbstractArray{Real}, N::Int64; stat=mean)</code></pre><p>Return the top <code>N</code> sites according to the provided metric (defaulting to <code>mean</code> of <code>relative_cover</code>).</p><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>N : No. of best performing sites to be selected</li><li>metric : metric to use to order sites from best to worst,          must take ResultSet as input</li><li>stat : summary statistic to use for comparison (default: mean)</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray[:scenarios,:site<em>ids], where `site</em>ids` indicates order of site ranking as well.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ADRIA.metrics.top_N_sites(rs, 5)
ADRIA.metrics.top_N_sites(rs, 5; metric=ADRIA.metric.relative_cover)
ADRIA.metrics.top_N_sites(rs, 5; metric=ADRIA.metric.relative_cover, stat=median)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/ranks.jl#L115-L138">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.top_n_seeded_sites-Tuple{ADRIA.ResultSet, Int64}" href="#ADRIA.metrics.top_n_seeded_sites-Tuple{ADRIA.ResultSet, Int64}"><code>ADRIA.metrics.top_n_seeded_sites</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">top_n_seeded_sites(rs::ResultSet, n::Int64; kwargs...)</code></pre><p>Get the top n seeded sites over time by their unique site id. Lower rank values are better (e.g., 1 = first choice)</p><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>n : <code>n</code> sites to retrieve</li><li>kwargs : dimensions to slice across</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray[sites, [Site Index, Unique ID, Rank], scenarios]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/ranks.jl#L54-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.trajectory_heatmap-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.trajectory_heatmap-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.trajectory_heatmap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">trajectory_heatmap(data::Matrix{Float64})::Tuple{Vector{Float64}, Vector{Float64}, Matrix{Int64}}</code></pre><p>Estimate heatmap of trajectories from a 2D dataset.</p><p><strong>Arguments</strong></p><ul><li>data : An N*D matrix where N is time steps and D is the scenario outcome for the given timestep in N</li></ul><p><strong>Returns</strong></p><p>OnlineStats.HeatMap</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/temporal.jl#L161-L171">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.trajectory_heatmap_data-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.trajectory_heatmap_data-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.trajectory_heatmap_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">trajectory_heatmap_data(data::Matrix{Float64})::Tuple{Vector{Float64}, Vector{Float64}, Matrix{Int64}}</code></pre><p>Estimate heatmap of trajectories from a 2D dataset.</p><p><strong>Arguments</strong></p><ul><li>data : An N*D matrix where N is time steps and D is the scenario outcome for the given timestep in N</li></ul><p><strong>Returns</strong></p><p>Tuple of xedges, yedges, and bi-dimensional histogram matrix</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/temporal.jl#L180-L190">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.ndims-Tuple{ADRIA.metrics.Metric}" href="#Base.ndims-Tuple{ADRIA.metrics.Metric}"><code>Base.ndims</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ndims(m::Metric)::Int64</code></pre><p>Infer the number of dimensions for a given outcome/metric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L119-L123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.Metric-Tuple{Any, Vararg{Any}}" href="#ADRIA.metrics.Metric-Tuple{Any, Vararg{Any}}"><code>ADRIA.metrics.Metric</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">(f::Metric)(raw, args...; kwargs...)
(f::Metric)(rs::ResultSet, args...; kwargs...)</code></pre><p>Makes Metric types callable with arbitary arguments that are passed to associated function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/metrics.jl#L31-L36">source</a></section></article><h2 id="Performance-indicators"><a class="docs-heading-anchor" href="#Performance-indicators">Performance indicators</a><a id="Performance-indicators-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-indicators" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.RMSE-Tuple{Any, Any}" href="#ADRIA.performance.RMSE-Tuple{Any, Any}"><code>ADRIA.performance.RMSE</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Root Mean Square Error</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/performance.jl#L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.environmental_diversity-Tuple{Any, Any}" href="#ADRIA.performance.environmental_diversity-Tuple{Any, Any}"><code>ADRIA.performance.environmental_diversity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">environmental_diversity(ms, inputs_i)</code></pre><p>Obtain an indication of environmental factor diversity for a scenario set. Higher values indicate a greater of mix of environmental conditions were experienced between scenarios.</p><p>This is referred to as <span>$E$</span>.</p><p><strong>Arguments</strong></p><ul><li>ms : model spec</li><li>inputs_i : inputs used for scenarios of interest</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/performance.jl#L166-L178">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.gmd-Tuple{AbstractVector{&lt;:Real}}" href="#ADRIA.performance.gmd-Tuple{AbstractVector{&lt;:Real}}"><code>ADRIA.performance.gmd</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gmd(vals::AbstractVector{&lt;:Real})::Float64
gmd(vals::AbstractMatrix{&lt;:Real})</code></pre><p>Gini&#39;s Mean Difference.</p><p>The absolute mean of all pairwise distances between elements in a given set.</p><p><strong>References</strong></p><ol><li><p>La Haye, R., &amp; Zizler, P. (2019). The Gini mean difference and variance. METRON, 77(1), 43-52. https://doi.org/10.1007/s40300-019-00149-2</p></li><li><p>Yitzhaki, S. (2003). Gini&#39;s Mean difference: A superior measure of variability for non-normal   distributions. Metron - International Journal of Statistics, LXI(2), 285-316. https://ideas.repec.org/a/mtn/ancoec/030208.html</p></li><li><p>Kashif, M., Aslam, M., Al-Marshadi, A. H., &amp; Jun, C.-H. (2016). Capability Indices for Non-Normal Distribution Using Gini&#39;s Mean Difference as Measure of Variability. IEEE Access, 4, 7322-7330. https://doi.org/10.1109/ACCESS.2016.2620241</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/performance.jl#L35-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.intervention_diversity-Tuple{Any, Any}" href="#ADRIA.performance.intervention_diversity-Tuple{Any, Any}"><code>ADRIA.performance.intervention_diversity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">intervention_diversity(ms, inputs_i)</code></pre><p>Obtain an indication of intervention diversity for a scenario. Higher values indicate a greater of mix of interventions options were applied.</p><p>This is referred to as <span>$D$</span>.</p><p><strong>Arguments</strong></p><ul><li>ms : model spec</li><li>inputs_i : inputs used for scenarios of interest</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/performance.jl#L149-L160">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.intervention_effort-Tuple{Any, Any, Any}" href="#ADRIA.performance.intervention_effort-Tuple{Any, Any, Any}"><code>ADRIA.performance.intervention_effort</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">intervention_effort(ms, inputs_i)</code></pre><p>Obtain an indication of intervention effort for each scenario and intervention type. This is referred to as <span>$F$</span>.</p><p><strong>Arguments</strong></p><ul><li>ms : model spec</li><li>inputs_i : inputs used for scenarios of interest</li></ul><p><strong>Returns</strong></p><p>Matrix of <code>s * 8</code>, where <code>s</code> is the number of scenarios and columns are: <code>N_seed_TA</code>, <code>N_seed_CA</code>, <code>N_seed_SM</code>, <code>fogging</code>, <code>SRM</code>, <code>seed_years</code>, <code>shade_years</code>, <code>fog_years</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/performance.jl#L108-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.normalize-Tuple{AbstractArray{&lt;:Real}}" href="#ADRIA.performance.normalize-Tuple{AbstractArray{&lt;:Real}}"><code>ADRIA.performance.normalize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">normalize(vals::AbstractArray{&lt;:Real})</code></pre><p>Normalize values using feature scaling such that values are bound between 0 and 1, where 1 is equivalent to the maximum value found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/performance.jl#L7-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.probability-Tuple{AbstractArray{&lt;:Real}}" href="#ADRIA.performance.probability-Tuple{AbstractArray{&lt;:Real}}"><code>ADRIA.performance.probability</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">probability(vals::AbstractArray{&lt;:Real})</code></pre><p>Calculate probability of individual trajectories, given a scenario ensemble <span>$S$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/performance.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.temporal_variability-Tuple{AbstractVector{&lt;:Real}}" href="#ADRIA.performance.temporal_variability-Tuple{AbstractVector{&lt;:Real}}"><code>ADRIA.performance.temporal_variability</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">temporal_variability(x::AbstractVector{&lt;:Real})
temporal_variability(x::AbstractArray{&lt;:Real, 2})
temporal_variability(x::AbstractArray{&lt;:Real}, func_or_data...)</code></pre><p>The V meta-metric.</p><p>As a meta-metric, it can be applied to any combination of metrics (including itself), assuming <span>$x$</span> is bound between 0 and 1. If this is not the case, consider normalizing values first.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs"># Apply V to a time series
julia&gt; temporal_variability(rand(50))

# Apply V to an ensemble of time series
julia&gt; x = rand(50, 200)
julia&gt; temporal_variability(x)

# Create and apply a modified V metric to an ensemble of time series.
# Where the argument is an array and not a function, the data is used directly
# and so it is assumed all matrices are of the same size and shape.
julia&gt; temporal_variability(x, temporal_variabilty, temporal_variability(P(x)))
julia&gt; temporal_variability(x, temporal_variabilty, P(x), D(x), E(x))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/metrics/performance.jl#L70-L96">source</a></section></article><h2 id="Sensitivity"><a class="docs-heading-anchor" href="#Sensitivity">Sensitivity</a><a id="Sensitivity-1"></a><a class="docs-heading-anchor-permalink" href="#Sensitivity" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity._category_bins-Tuple{Int64, DataFrames.DataFrame}" href="#ADRIA.sensitivity._category_bins-Tuple{Int64, DataFrames.DataFrame}"><code>ADRIA.sensitivity._category_bins</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_category_bins(S::Int64, foi_spec::DataFrame)</code></pre><p>Get number of bins for categorical variables.</p><p><strong>Arguments</strong></p><ul><li><code>S</code> : Number of bins</li><li><code>foi_spec</code> : Model specification for factors of interest</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/analysis/sensitivity.jl#L50-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity._get_cat_quantile-Tuple{DataFrames.DataFrame, Symbol, Vector{Float64}}" href="#ADRIA.sensitivity._get_cat_quantile-Tuple{DataFrames.DataFrame, Symbol, Vector{Float64}}"><code>ADRIA.sensitivity._get_cat_quantile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_get_cat_quantile(foi_spec::DataFrame, factor_name::Symbol, steps::Vector{Float64})</code></pre><p>Get quantile value for a given categorical variable.</p><p><strong>Arguments</strong></p><ul><li><code>foi_spec</code> : Model specification for factors of interest</li><li><code>factor_name</code> : Contains true where the factor is categorical and false otherwise</li><li><code>steps</code> : Number of steps for defining bins</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/analysis/sensitivity.jl#L64-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity._get_factor_spec-Tuple{DataFrames.DataFrame, Vector{Symbol}}" href="#ADRIA.sensitivity._get_factor_spec-Tuple{DataFrames.DataFrame, Vector{Symbol}}"><code>ADRIA.sensitivity._get_factor_spec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_get_factor_spec(model_spec::DataFrame, factors::Vector{Symbol})</code></pre><p>Get model spec for specified factors.</p><p><strong>Arguments</strong></p><ul><li><code>model_spec</code> : Model specification, as extracted by <code>ADRIA.model_spec(domain)</code> or from a <code>ResultSet</code></li><li><code>factors</code> : Factors considered for sensitivity analysis</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/analysis/sensitivity.jl#L35-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity.convergence-Tuple{DataFrames.DataFrame, NamedDims.NamedDimsArray, Vector{Symbol}}" href="#ADRIA.sensitivity.convergence-Tuple{DataFrames.DataFrame, NamedDims.NamedDimsArray, Vector{Symbol}}"><code>ADRIA.sensitivity.convergence</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">convergence(X::DataFrame, y::NamedDimsArray, target_factors::Vector{Symbol}; n_steps::Int64=10)::NamedDimsArray
convergence(rs::ResultSet, X::DataFrame, y::NamedDimsArray, components::Vector{String}; n_steps::Int64=10)::NamedDimsArray</code></pre><p>Calculates the PAWN sensitivity index for an increasing number of scenarios where the maximum is the total number of scenarios in scens. Number of scenario subsets determined by N_steps. Can be calculated for individual factors or aggregated over factors for specified model components.</p><p><strong>Arguments</strong></p><ul><li><code>rs</code> : Result set (only needed if aggregating over model components).</li><li><code>X</code> : Model inputs</li><li><code>y</code> : Model outputs</li><li><code>target_factors</code> : Names of target factors represented by columns in <code>X</code>.</li><li><code>components</code> : Names of model components to aggregate over (e.g. [:Intervention, :Criteria]).</li><li><code>n_steps</code> : Number of steps to cut the total number of scenarios into.</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray, of min, lower bound, mean, median, upper bound, max, std, and cv summary statistics for an increasing number of scenarios.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/analysis/sensitivity.jl#L250-L270">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity.ks_statistic-Tuple{HypothesisTests.ApproximateKSTest}" href="#ADRIA.sensitivity.ks_statistic-Tuple{HypothesisTests.ApproximateKSTest}"><code>ADRIA.sensitivity.ks_statistic</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ks_statistic(ks)</code></pre><p>Calculate the Kolmogorov-Smirnov test statistic.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/analysis/sensitivity.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity.outcome_map-Tuple{DataFrames.DataFrame, AbstractVecOrMat{&lt;:Real}, Union{Function, BitVector, Vector{Int64}}, Vector{Symbol}, DataFrames.DataFrame}" href="#ADRIA.sensitivity.outcome_map-Tuple{DataFrames.DataFrame, AbstractVecOrMat{&lt;:Real}, Union{Function, BitVector, Vector{Int64}}, Vector{Symbol}, DataFrames.DataFrame}"><code>ADRIA.sensitivity.outcome_map</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">outcome_map(X::DataFrame, y::AbstractVecOrMat, rule, target_factors::Vector; S::Int=20, n_boot::Int=100, conf::Float64=0.95)::NamedDimsArray</code></pre><p>Map normalized outcomes (defined by <code>rule</code>) to factor values discretized into <code>S</code> bins.</p><p>Produces a matrix indicating the range of (normalized) outcomes across factor space for each dimension (the model inputs). This is similar to a Regional Sensitivity Analysis, except that the model outputs are examined directly as opposed to a measure of sensitivity.</p><p>Note:</p><ul><li><code>y</code> is normalized on a per-column basis prior to the analysis</li><li>Empty areas of factor space (those that do not have any desired outcomes) will be assigned <code>NaN</code></li></ul><p><strong>Arguments</strong></p><ul><li><code>X</code> : scenario specification</li><li><code>y</code> : Vector or Matrix of outcomes corresponding to scenarios in <code>X</code></li><li><code>rule</code> : a callable defining a &quot;desirable&quot; scenario outcome</li><li><code>target_factors</code> : list of factors of interest to perform analyses on</li><li><code>S</code> : number of slices of factor space. Higher values equate to finer granularity</li><li><code>n_boot</code> : number of bootstraps (default: 100)</li><li><code>conf</code> : confidence interval (default: 0.95)</li></ul><p><strong>Returns</strong></p><p>3-dimensional NamedDimsArray, of shape <span>$S$</span> ⋅ <span>$D$</span> ⋅ 3, where:</p><ul><li><p class="math-container">\[S\]</p>is the slices,</li><li><p class="math-container">\[D\]</p>is the number of dimensions, with</li><li>boostrapped mean (dim 1) and the lower/upper 95% confidence interval (dims 2 and 3).</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Get metric of interest
mu_tac = vec(mean(ADRIA.metrics.scenario_total_cover(rs), dims=:timesteps))

# Factors of interest
foi = [:SRM, :fogging, :a_adapt]

# Find scenarios where all metrics are above their median
rule = y -&gt; all(y .&gt; 0.5)

# Map input values where to their outcomes
ADRIA.sensitivity.outcome_map(X, y, rule, foi; S=20, n_boot=100, conf=0.95)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/analysis/sensitivity.jl#L526-L569">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity.pawn-Tuple{AbstractMatrix{&lt;:Real}, AbstractVector{&lt;:Real}, Vector{String}}" href="#ADRIA.sensitivity.pawn-Tuple{AbstractMatrix{&lt;:Real}, AbstractVector{&lt;:Real}, Vector{String}}"><code>ADRIA.sensitivity.pawn</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pawn(rs::ResultSet, y::Union{NamedDimsArray,AbstractVector{&lt;:Real}}; S::Int64=10)::NamedDimsArray
pawn(X::AbstractMatrix{&lt;:Real}, y::AbstractVector{&lt;:Real}, factor_names::Vector{String}; S::Int64=10)::NamedDimsArray
pawn(X::DataFrame, y::AbstractVector{&lt;:Real}; S::Int64=10)::NamedDimsArray
pawn(X::NamedDimsArray, y::Union{NamedDimsArray,AbstractVector{&lt;:Real}}; S::Int64=10)::NamedDimsArray
pawn(X::Union{DataFrame,AbstractMatrix{&lt;:Real}}, y::AbstractMatrix{&lt;:Real}; S::Int64=10)::NamedDimsArray</code></pre><p>Calculates the PAWN sensitivity index.</p><p>The PAWN method (by Pianosi and Wagener) is a moment-independent approach to Global Sensitivity Analysis. Outputs are characterized by their Cumulative Distribution Function (CDF), quantifying the variation in the output distribution after conditioning an input over &quot;slices&quot; (<span>$S$</span>) - the conditioning intervals. If both distributions coincide at all slices (i.e., the distributions are similar or identical), then the factor is deemed non-influential.</p><p>This implementation applies the Kolmogorov-Smirnov test as the distance measure and returns summary statistics (min, lower bound, mean, median, upper bound, max, std, and cv) over the slices.</p><p><strong>Arguments</strong></p><ul><li><code>rs</code> : ResultSet</li><li><code>X</code> : Model inputs</li><li><code>y</code> : Model outputs</li><li><code>factor_names</code> : Names of each factor represented by columns in <code>X</code></li><li><code>S</code> : Number of slides (default: 10)</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray, of min, mean, lower bound, median, upper bound, max, std, and cv summary statistics.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">dom = ADRIA.load_domain(&quot;example_domain&quot;)
scens = ADRIA.sample(dom, 128)
rs = ADRIA.run_scenarios(dom, scens, &quot;45&quot;)

# Get mean coral cover over time and locations
μ_tac = mean(ADRIA.metrics.scenario_total_cover(rs), dims=:timesteps)

ADRIA.sensitivity.pawn(rs, μ_tac)</code></pre><p><strong>References</strong></p><ol><li><p>Pianosi, F., Wagener, T., 2018. Distribution-based sensitivity analysis from a generic input-output sample. Environmental Modelling &amp; Software 108, 197-207. https://doi.org/10.1016/j.envsoft.2018.07.019</p></li><li><p>Baroni, G., Francke, T., 2020. GSA-cvd Combining variance- and distribution-based global sensitivity analysis https://github.com/baronig/GSA-cvd</p></li><li><p>Puy, A., Lo Piano, S., &amp; Saltelli, A. 2020. A sensitivity analysis of the PAWN sensitivity index. Environmental Modelling &amp; Software, 127, 104679. https://doi.org/10.1016/j.envsoft.2020.104679</p></li><li><p>https://github.com/SAFEtoolbox/Miscellaneous/blob/main/Review<em>of</em>Puy_2020.pdf</p></li></ol><p><strong>Extended help</strong></p><p>Pianosi and Wagener have made public their review responding to a critique of their method by Puy et al., (2020). A key criticism by Puy et al. was that the PAWN method is sensitive to its tuning parameters and thus may produce biased results. The tuning parameters referred to are the number of samples (<span>$N$</span>) and the number of conditioning points - <span>$n$</span> in Puy et al., but denoted as <span>$S$</span> here.</p><p>Puy et al., found that the ratio of <span>$N$</span> (number of samples) to <span>$S$</span> has to be sufficiently high (<span>$N/S &gt; 80$</span>) to avoid biased results. Pianosi and Wagener point out this requirement is not particularly difficult to meet. Using the recommended value (<span>$S := 10$</span>), a sample of 1024 runs (small for purposes of Global Sensitivity Analysis) meets this requirement (<span>$1024/10 = 102.4$</span>). Additionally, lower values of <span>$N/S$</span> is more an indication of faulty experimental design moreso than any deficiency of the PAWN method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/analysis/sensitivity.jl#L82-L154">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity.rsa-Tuple{DataFrames.DataFrame, AbstractVector{&lt;:Real}, DataFrames.DataFrame}" href="#ADRIA.sensitivity.rsa-Tuple{DataFrames.DataFrame, AbstractVector{&lt;:Real}, DataFrames.DataFrame}"><code>ADRIA.sensitivity.rsa</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rsa(X::DataFrame, y::Vector{&lt;:Real}, model_spec::DataFrame; S::Int64=10)::NamedDimsArray
rsa(rs::ResultSet, y::AbstractVector{&lt;:Real}, factors::Vector{Symbol}; S::Int64=10)::NamedDimsArray
rsa(rs::ResultSet, y::AbstractArray{&lt;:Real}; S::Int64=10)::NamedDimsArray</code></pre><p>Perform Regional Sensitivity Analysis.</p><p>Regional Sensitivity Analysis is a Monte Carlo Filtering approach which aims to identify which (group of) factors drive model outputs within or outside of a specified bound. Outputs which fall inside the bounds are regarded as &quot;behavioral&quot;, whereas those outside are &quot;non-behavioral&quot;. The distribution of behavioral/non-behavioral subsets are compared for each factor. If the subsets are not similar, then the factor is influential. The sensitivity index is simply the maximum distance between the two distributions, with larger values indicating greater sensitivity.</p><p>The implemented approach slices factor space into <span>$S$</span> bins and iteratively assesses behavioral (samples within the bin) and non-behavioral (out of bin samples) subsets with the non-parametric <span>$k$</span>-sample Anderson-Darling test. Larger values indicate greater dissimilarity (thus, sensitivity). The Anderson-Darling test places more weight on the tails compared to the Kolmogorov-Smirnov test.</p><p>RSA can indicate where in factor space model sensitivities may be, and contributes to a Value-of-Information (VoI) analysis.</p><p>Increasing the value of <span>$S$</span> increases the granularity of the analysis, but necessitates larger sample sizes.</p><p>Note: Values of type <code>missing</code> indicate a lack of samples in the region.</p><p><strong>Arguments</strong></p><ul><li><code>rs</code> : ResultSet</li><li><code>X</code> : scenario specification</li><li><code>y</code> : scenario outcomes</li><li><code>model_spec</code> : Model specification, as extracted by <code>ADRIA.model_spec(domain)</code> or from a <code>ResultSet</code></li><li><code>factors</code> : Specific model factors to examine</li><li><code>S</code> : number of bins to slice factor space into (default: 10)</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray, [bin values, factors]</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">ADRIA.sensitivity.rsa(X, y; S=10)</code></pre><p><strong>References</strong></p><ol><li><p>Pianosi, F., K. Beven, J. Freer, J. W. Hall, J. Rougier, D. B. Stephenson, and T. Wagener. 2016. Sensitivity analysis of environmental models: A systematic review with practical workflow. Environmental Modelling &amp; Software 79:214-232. https://dx.doi.org/10.1016/j.envsoft.2016.02.008</p></li><li><p>Saltelli, A., M. Ratto, T. Andres, F. Campolongo, J. Cariboni, D. Gatelli, M. Saisana, and S. Tarantola. 2008. Global Sensitivity Analysis: The Primer. Wiley, West Sussex, U.K. https://dx.doi.org/10.1002/9780470725184 Accessible at: http://www.andreasaltelli.eu/file/repository/Primer<em>Corrected</em>2022.pdf</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/analysis/sensitivity.jl#L393-L452">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity.tsa-Tuple{DataFrames.DataFrame, AbstractMatrix{&lt;:Real}}" href="#ADRIA.sensitivity.tsa-Tuple{DataFrames.DataFrame, AbstractMatrix{&lt;:Real}}"><code>ADRIA.sensitivity.tsa</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tsa(X::DataFrame, y::AbstractMatrix)::NamedDimsArray</code></pre><p>Perform Temporal (or time-varying) Sensitivity Analysis using the PAWN sensitivity index.</p><p>The sensitivity index value for time <span>$t$</span> is inclusive of all time steps prior to <span>$t$</span>. Alternate approaches use a moving window, or only data for time <span>$t$</span>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">rs = ADRIA.load_results(&quot;a ResultSet of interest&quot;)

# Get scenario outcomes over time (shape: `time ⋅ scenarios`)
y_tac = ADRIA.metrics.scenario_total_cover(rs)

# Calculate sensitivity of outcome to factors for each time step
ADRIA.sensitivity.tsa(rs.inputs, y_tac)</code></pre><p><strong>Arguments</strong></p><ul><li><code>X</code> : Scenario specification</li><li><code>y</code> : scenario outcomes over time</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray, of shape <span>$D$</span> ⋅ 6 ⋅ <span>$T$</span>, where</p><ul><li><p class="math-container">\[D\]</p>is the number of dimensions/factors</li><li>6 corresponds to the min, mean, median, max, std, and cv of the PAWN indices</li><li><p class="math-container">\[T\]</p>is the number of time steps</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/analysis/sensitivity.jl#L333-L361">source</a></section></article><h2 id="General-API"><a class="docs-heading-anchor" href="#General-API">General API</a><a id="General-API-1"></a><a class="docs-heading-anchor-permalink" href="#General-API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ADRIA.coral_spec-Tuple{}" href="#ADRIA.coral_spec-Tuple{}"><code>ADRIA.coral_spec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">coral_spec()</code></pre><p>Template for coral parameter values for ADRIA. Includes &quot;vital&quot; bio/ecological parameters, to be filled with sampled or user-specified values.</p><p>Any parameter added to the <code>params</code> DataFrame defined here will automatically be made available to the ADRIA model.</p><p>Notes: Values for the historical, temporal patterns of degree heating weeks between bleaching years come from [1].</p><p><strong>Returns</strong></p><ul><li><code>params</code> : NamedTuple[taxa<em>names, param</em>names, params], taxa names, parameter          names, and parameter values for each coral taxa, group and size class</li></ul><p><strong>References</strong></p><ol><li><p>Lough, J. M., Anderson, K. D., &amp; Hughes, T. P. (2018).  Increasing thermal stress for tropical coral reefs: 1871-2017.  Scientific Reports, 8(1), 6079.  https://doi.org/10.1038/s41598-018-24530-9</p></li><li><p>Hall, V.R. &amp; Hughes, T.P. 1996. Reproductive strategies of modular organisms:   comparative studies of reef-building corals. Ecology, 77: 950 - 963. https://dx.doi.org/10.2307/2265514</p></li><li><p>Bozec, Y.-M., Rowell, D., Harrison, L., Gaskell, J., Hock, K.,  Callaghan, D., Gorton, R., Kovacs, E. M., Lyons, M., Mumby, P.,  &amp; Roelfsema, C. (2021). Baseline mapping to support reef restoration and   resilience-based management in the Whitsundays. https://doi.org/10.13140/RG.2.2.26976.20482</p></li><li><p>Bozec, Y.-M., Hock, K., Mason, R. A. B., Baird, M. E., Castro-Sanguino, C.,  Condie, S. A., Puotinen, M., Thompson, A., &amp; Mumby, P. J. (2022). Cumulative impacts across Australia&#39;s Great Barrier Reef: A mechanistic evaluation. Ecological Monographs, 92(1), e01494. https://doi.org/10.1002/ecm.1494</p></li><li><p>Bairos-Novak, K.R., Hoogenboom, M.O., van Oppen, M.J.H., Connolly, S.R., 2021. Coral adaptation to climate change: Meta-analysis reveals high heritability across   multiple traits. Global Change Biology 27, 5694-5710. https://doi.org/10.1111/gcb.15829</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/ecosystem/corals/Corals.jl#L55-L103">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.create_coral_struct" href="#ADRIA.create_coral_struct"><code>ADRIA.create_coral_struct</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_coral_struct(bounds=(0.9, 1.1))</code></pre><p>Generates Coral struct using the default parameter spec.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Define coral struct with auto-generated parameter ranges
# (default in ADRIA is ± 10%, triangular distribution with peak at 0.5)
create_coral_struct()
coral = Coral()

# Recreate coral spec ± 50% from nominal values
create_coral_struct((0.5, 1.5))
coral = Coral()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/ecosystem/corals/Corals.jl#L272-L288">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.env_stats-Tuple{ADRIA.ResultSet, String, String}" href="#ADRIA.env_stats-Tuple{ADRIA.ResultSet, String, String}"><code>ADRIA.env_stats</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">env_stats(rs::ResultSet, s_name::String, rcp::String)
env_stats(rs::ResultSet, s_name::String, rcp::String, scenario::Int)
env_stats(rs::ResultSet, s_name::String, stat::String, rcp::String, scenario::Int)</code></pre><p>Extract statistics for a given environmental layer (&quot;DHW&quot; or &quot;wave&quot;)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/io/ResultSet.jl#L282-L288">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.growthODE-Tuple{Matrix{Float64}, Matrix{Float64}, NamedTuple, Real}" href="#ADRIA.growthODE-Tuple{Matrix{Float64}, Matrix{Float64}, NamedTuple, Real}"><code>ADRIA.growthODE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">growthODE(du, X, p, _)</code></pre><p>Base coral growth function.</p><p>Proportion of corals within a size class are modeled to transition to the next size class up. Assumes colony sizes are evenly distributed within each size bin. Transitions are a ratio of the change in colony size to the width of the bin. See <code>coral_spec()</code> for further detail.</p><p>Note that recruitment pertains to coral groups (<span>$n = 6$</span>) and represents the contribution to the cover of the smallest size class within each group.  While growth and mortality metrics pertain to groups (6) as well as size classes (6) across all sites (total of 36 by <span>$n_sites$</span>), recruitment is a 6 by <span>$n_sites$</span> array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/ecosystem/corals/growth.jl#L80-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.run_scenario-Tuple{Domain, Int64, Union{DataFrames.DataFrameRow, AbstractVector}, NamedTuple}" href="#ADRIA.run_scenario-Tuple{Domain, Int64, Union{DataFrames.DataFrameRow, AbstractVector}, NamedTuple}"><code>ADRIA.run_scenario</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_scenario(domain::Domain, idx::Int64, scenario::Union{AbstractVector, DataFrameRow}, data_store::NamedTuple)::Nothing
run_scenario(domain::Domain, idx::Int64, scenario::Union{AbstractVector, DataFrameRow}, domain::Domain, data_store::NamedTuple)::Nothing
run_scenario(domain::Domain, scenario::Union{AbstractVector, DataFrameRow})::NamedTuple
run_scenario(domain::Domain, scenario::NamedTuple)::NamedTuple</code></pre><p>Run individual scenarios for a given domain, saving results to a Zarr data store. Results are stored in Zarr format at a pre-configured location. Sets up a new <code>cache</code> if not provided.</p><p><strong>Notes</strong></p><p>Logs of site ranks only store the mean site rankings over all environmental scenarios. This is to reduce the volume of data stored.</p><p><strong>Returns</strong></p><p>Nothing</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/scenario.jl#L203-L219">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.select-Tuple{ADRIA.ResultSet, String}" href="#ADRIA.select-Tuple{ADRIA.ResultSet, String}"><code>ADRIA.select</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">select(r::ResultSet, op::String)</code></pre><p>Hacky scenario filtering - to be replaced with more robust approach.</p><p>Only supports filtering by single attribute. Should be expanded to support filtering metric results too.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">select(result, &quot;guided .&gt; 0.0&quot;)

# Above expands to:
# result.inputs.guided .&gt; 0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/io/ResultSet.jl#L337-L352">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.site_area-Tuple{ADRIA.ResultSet}" href="#ADRIA.site_area-Tuple{ADRIA.ResultSet}"><code>ADRIA.site_area</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">site_area(rs::ResultSet)::Vector{Float64}</code></pre><p>Extract vector of a location&#39;s total area in its areal unit (m², km², etc).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/io/ResultSet.jl#L395-L399">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.site_area-Tuple{Domain}" href="#ADRIA.site_area-Tuple{Domain}"><code>ADRIA.site_area</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">site_area(domain::Domain)::Vector{Float64}</code></pre><p>Get site area for the given domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/Domain.jl#L169-L173">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.site_k_area-Tuple{ADRIA.ResultSet}" href="#ADRIA.site_k_area-Tuple{ADRIA.ResultSet}"><code>ADRIA.site_k_area</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">site_k_area(rs::ResultSet)::Vector{Float64}</code></pre><p>Extract vector of a location&#39;s coral carrying capacity in terms of absolute area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/io/ResultSet.jl#L376-L380">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.site_k_area-Tuple{Domain}" href="#ADRIA.site_k_area-Tuple{Domain}"><code>ADRIA.site_k_area</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">site_k_area(domain::Domain)::Vector{Float64}</code></pre><p>Get maximum coral cover area for the given domain in absolute area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/Domain.jl#L178-L182">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.timesteps-Tuple{ADRIA.ResultSet}" href="#ADRIA.timesteps-Tuple{ADRIA.ResultSet}"><code>ADRIA.timesteps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">timesteps(rs::ResultSet)</code></pre><p>Retrieve the time steps represented in the result set.</p><p><strong>Arguments</strong></p><ul><li><code>rs</code> : ResultSet</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/io/ResultSet.jl#L364-L371">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.timesteps-Tuple{Domain}" href="#ADRIA.timesteps-Tuple{Domain}"><code>ADRIA.timesteps</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Extract the time steps represented in the data package.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/Domain.jl#L241">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.ADRIADomain" href="#ADRIA.ADRIADomain"><code>ADRIA.ADRIADomain</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ADRIADomain{Σ,M,I,D,X,Y,Z}</code></pre><p>Core ADRIA domain. Represents study area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/ExtInterface/ADRIA/Domain.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.Domain-Tuple{String, String, String, Vector, Vararg{String, 8}}" href="#ADRIA.Domain-Tuple{String, String, String, Vector, Vararg{String, 8}}"><code>ADRIA.Domain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Domain(name::String, rcp::String, timeframe::Vector, site_data_fn::String, site_id_col::String, cluster_id_col::String, init_coral_fn::String, conn_path::String, dhw_fn::String, wave_fn::String, cyclone_mortality_fn::String)::Domain</code></pre><p>Convenience constructor for Domain.</p><p><strong>Arguments</strong></p><ul><li><code>name</code> : Name of domain</li><li><code>dpkg_path</code> : location of data package</li><li><code>rcp</code> : RCP scenario represented</li><li><code>timeframe</code> : Time steps represented</li><li><code>site_data_fn</code> : File name of spatial data used</li><li><code>site_id_col</code> : Column holding name of reef the site is associated with (non-unique)</li><li><code>cluster_id_col</code> : Column holding unique site names/ids</li><li><code>init_coral_fn</code> : Name of file holding initial coral cover values</li><li><code>conn_path</code> : Path to directory holding connectivity data</li><li><code>dhw_fn</code> : Filename of DHW data cube in use</li><li><code>wave_fn</code> : Filename of wave data cube</li><li><code>cyclone_mortality_fn</code> : Filename of cyclone mortality data cube</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/ExtInterface/ADRIA/Domain.jl#L107-L125">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.Domain-Union{Tuple{T}, Tuple{String, String, ADRIA.EnvLayer, AbstractMatrix{&lt;:T}, Vector{Float64}, Vector{Float64}, Vector{Int64}, DataFrames.DataFrame, String, String, NamedDims.NamedDimsArray, ADRIA.CoralGrowth, Vector{String}, Vector{String}, NamedDims.NamedDimsArray, NamedDims.NamedDimsArray, NamedDims.NamedDimsArray}} where T&lt;:Union{Float32, Float64}" href="#ADRIA.Domain-Union{Tuple{T}, Tuple{String, String, ADRIA.EnvLayer, AbstractMatrix{&lt;:T}, Vector{Float64}, Vector{Float64}, Vector{Int64}, DataFrames.DataFrame, String, String, NamedDims.NamedDimsArray, ADRIA.CoralGrowth, Vector{String}, Vector{String}, NamedDims.NamedDimsArray, NamedDims.NamedDimsArray, NamedDims.NamedDimsArray}} where T&lt;:Union{Float32, Float64}"><code>ADRIA.Domain</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Barrier function to create Domain struct without specifying Intervention/Criteria/Coral/SimConstant parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/ExtInterface/ADRIA/Domain.jl#L37-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.SimConstants" href="#ADRIA.SimConstants"><code>ADRIA.SimConstants</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SimConstants</code></pre><p>Struct of simulation constants for ADRIA</p><p><strong>References</strong></p><ol><li><p>Lough, J. M., Anderson, K. D., &amp; Hughes, T. P. (2018). Increasing thermal stress for tropical coral reefs: 1871-2017. Scientific Reports, 8(1), 6079. https://doi.org/10.1038/s41598-018-24530-9</p></li><li><p>Hughes, T. P., Kerry, J. T., Baird, A. H., Connolly, S. R.,   Dietzel, A., Eakin, C. M., Heron, S. F., Hoey, A. S.,   Hoogenboom, M. O., Liu, G., McWilliam, M. J., Pears, R. J.,   Pratchett, M. S., Skirving, W. J., Stella, J. S., &amp; Torda, G. (2018). Global warming transforms coral reef assemblages. Nature, 556(7702), 492-496. https://doi.org/10.1038/s41586-018-0041-2</p></li><li><p>Bozec, Y.-M., Rowell, D., Harrison, L., Gaskell, J., Hock, K.,   Callaghan, D., Gorton, R., Kovacs, E. M., Lyons, M., Mumby, P.,   &amp; Roelfsema, C. (2021). Baseline mapping to support reef restoration and   resilience-based management in the Whitsundays. https://doi.org/10.13140/RG.2.2.26976.20482</p></li><li><p>Bozec, Y.-M., Hock, K., Mason, R. A. B., Baird, M. E., Castro-Sanguino, C.,   Condie, S. A., Puotinen, M., Thompson, A., &amp; Mumby, P. J. (2022). Cumulative impacts across Australia&#39;s Great Barrier Reef: A mechanistic evaluation. Ecological Monographs, 92(1), e01494. https://doi.org/10.1002/ecm.1494</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/4bbd7875c05b96924a93de750c6f8fe6fdf1801c/src/factors/const_params.jl#L1-L32">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../development/building_docs/">« Building Documentation</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 8 February 2024 20:41">Thursday 8 February 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
