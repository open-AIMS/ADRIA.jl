<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ADRIA API · ADRIA.jl</title><meta name="title" content="ADRIA API · ADRIA.jl"/><meta property="og:title" content="ADRIA API · ADRIA.jl"/><meta property="twitter:title" content="ADRIA API · ADRIA.jl"/><meta name="description" content="Documentation for ADRIA.jl."/><meta property="og:description" content="Documentation for ADRIA.jl."/><meta property="twitter:description" content="Documentation for ADRIA.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="ADRIA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ADRIA.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><span class="tocitem">Concepts</span><ul><li><a class="tocitem" href="../concepts/dMCDA/">Dynamic Multi-Criteria Decision Analysis</a></li><li><a class="tocitem" href="../concepts/disturbances/">Disturbances</a></li></ul></li><li><span class="tocitem">Usage</span><ul><li><a class="tocitem" href="../usage/getting_started/">Getting Started</a></li><li><a class="tocitem" href="../usage/loading_a_domain/">Loading a Domain</a></li><li><a class="tocitem" href="../usage/loading_results/">Loading Results</a></li><li><a class="tocitem" href="../usage/generating_scenarios/">Generating scenarios</a></li><li><a class="tocitem" href="../usage/scenario_runs/">Running scenarios</a></li><li><a class="tocitem" href="../usage/analysis/">Analysis</a></li><li><a class="tocitem" href="../usage/cookbook/">Cookbook examples</a></li></ul></li><li><span class="tocitem">Architecture</span><ul><li><a class="tocitem" href="../architecture/architecture/">Architectural overview</a></li><li><a class="tocitem" href="../architecture/domain_and_resultsets/">Inputs and Outputs</a></li></ul></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../development/development_setup/">Development setup</a></li><li><a class="tocitem" href="../development/metrics/">Contributing a metric</a></li><li><a class="tocitem" href="../development/release_guide/">Release Guide</a></li><li><a class="tocitem" href="../development/building_docs/">Building Documentation</a></li></ul></li><li class="is-active"><a class="tocitem" href>ADRIA API</a><ul class="internal"><li><a class="tocitem" href="#Metrics"><span>Metrics</span></a></li><li><a class="tocitem" href="#Performance-indicators"><span>Performance indicators</span></a></li><li><a class="tocitem" href="#Sensitivity"><span>Sensitivity</span></a></li><li><a class="tocitem" href="#General-API"><span>General API</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>ADRIA API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ADRIA API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/open-AIMS/ADRIA.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/open-AIMS/ADRIA.jl/blob/main/docs/src/API.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="ADRIA-API"><a class="docs-heading-anchor" href="#ADRIA-API">ADRIA API</a><a id="ADRIA-API-1"></a><a class="docs-heading-anchor-permalink" href="#ADRIA-API" title="Permalink"></a></h1><h2 id="Metrics"><a class="docs-heading-anchor" href="#Metrics">Metrics</a><a id="Metrics-1"></a><a class="docs-heading-anchor-permalink" href="#Metrics" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._absolute_juveniles-Union{Tuple{T}, Tuple{AbstractArray{T, 3}, DataFrames.DataFrame, AbstractVector{T}}} where T&lt;:Real" href="#ADRIA.metrics._absolute_juveniles-Union{Tuple{T}, Tuple{AbstractArray{T, 3}, DataFrames.DataFrame, AbstractVector{T}}} where T&lt;:Real"><code>ADRIA.metrics._absolute_juveniles</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">absolute_juveniles(X::AbstractArray{T,3}, coral_spec::DataFrame, k_area::AbstractVector{T})::AbstractArray{T,2} where {T&lt;:Real}
absolute_juveniles(rs::ResultSet)::AbstractArray{&lt;:Real,2}</code></pre><p>Juvenile coral cover in m².</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Raw model results for a single scenario. Dimensions (n<em>timesteps, n</em>group_sizes,</li></ul><p>n_locations)</p><ul><li><code>coral_spec</code> : Coral spec DataFrame</li><li><code>k_area</code> : The coral habitable area.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L226-L237">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._absolute_shelter_volume-Union{Tuple{T}, Tuple{YAXArrays.Cubes.YAXArray{T, 3, A} where A&lt;:AbstractArray{T, 3}, Vector{T}, DataFrames.DataFrameRow}} where T&lt;:Real" href="#ADRIA.metrics._absolute_shelter_volume-Union{Tuple{T}, Tuple{YAXArrays.Cubes.YAXArray{T, 3, A} where A&lt;:AbstractArray{T, 3}, Vector{T}, DataFrames.DataFrameRow}} where T&lt;:Real"><code>ADRIA.metrics._absolute_shelter_volume</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">absolute_shelter_volume(X::YAXArray{T,3}, k_area::Vector{T}, inputs::DataFrameRow)::AbstractArray{T} where {T&lt;:Real}
absolute_shelter_volume(X::YAXArray{T,4}, k_area::Vector{T}, inputs::DataFrame)::AbstractArray{T} where {T&lt;:Real}
absolute_shelter_volume(X::YAXArray{T,3}, k_area::Vector{T}, inputs::YAXArray)::AbstractArray{T} where {T&lt;:Real}
absolute_shelter_volume(X::YAXArray{T,4}, k_area::Vector{T}, inputs::YAXArray)::AbstractArray{T} where {T&lt;:Real}
absolute_shelter_volume(rs::ResultSet)</code></pre><p>Provide indication of shelter volume in volume of cubic meters.</p><p>The metric applies log-log linear models developed by Urbina-Barreto et al., [1] which uses colony diameter and planar area (2D metrics) to estimate shelter volume (a 3D metric).</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : raw results</li><li><code>k_area</code> : area in m^2 for each site</li><li><code>max_cover</code> : maximum possible coral cover for each site (in percentage of loc_area)</li><li><code>inputs</code> : DataFrame of scenario inputs</li></ul><p><strong>References</strong></p><ol><li>Urbina-Barreto, I., Chiroleu, F., Pinel, R., Fréchon, L., Mahamadaly, V.,   Elise, S., Kulbicki, M., Quod, J.-P., Dutrieux, E., Garnier, R.,   Henrich Bruggemann, J., Penin, L., &amp; Adjeroud, M. (2021). Quantifying the shelter capacity of coral reefs using photogrammetric   3D modeling: From colonies to reefscapes. Ecological Indicators, 121, 107151. https://doi.org/10.1016/j.ecolind.2020.107151</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L493-L521">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._collate_ranked_locs-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics._collate_ranked_locs-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics._collate_ranked_locs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_collate_ranked_locs(data::YAXArray)::Matrix{Int64}</code></pre><p>Collates number of ranked locations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/ranks.jl#L78-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._collate_ranks-Tuple{ADRIA.ResultSet, Any}" href="#ADRIA.metrics._collate_ranks-Tuple{ADRIA.ResultSet, Any}"><code>ADRIA.metrics._collate_ranks</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_collate_ranks(rs, selected)</code></pre><p>Collates ranks into seed/fog ranking results into a common structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/ranks.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._colony_Lcm2_to_m3m2-Tuple{DataFrames.DataFrame}" href="#ADRIA.metrics._colony_Lcm2_to_m3m2-Tuple{DataFrames.DataFrame}"><code>ADRIA.metrics._colony_Lcm2_to_m3m2</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_colony_Lcm2_to_m3m2(inputs::DataFrame)::Tuple
_colony_Lcm2_to_m3m2(inputs::YAXArray)::Tuple{Vector{Float64},Vector{Float64}}</code></pre><p>Helper function to convert coral colony values from Litres/cm² to m³/m²</p><p><strong>Arguments</strong></p><ul><li><code>inputs</code> : Scenario values for the simulation</li></ul><p><strong>Returns</strong></p><p>Tuple : Assumed colony volume (m³/m²) for each species/size class, theoretical maximum for each species/size class</p><p><strong>References</strong></p><ol><li>Aston Eoghan A., Duce Stephanie, Hoey Andrew S., Ferrari Renata (2022).  A Protocol for Extracting Structural Metrics From 3D Reconstructions of Corals.  Frontiers in Marine Science, 9.  https://doi.org/10.3389/fmars.2022.854395</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L349-L367">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._coral_evenness-Union{Tuple{AbstractArray{T, 3}}, Tuple{T}} where T&lt;:Real" href="#ADRIA.metrics._coral_evenness-Union{Tuple{AbstractArray{T, 3}}, Tuple{T}} where T&lt;:Real"><code>ADRIA.metrics._coral_evenness</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">coral_evenness(r_taxa_cover::AbstractArray{T})::AbstractArray{T} where {T&lt;:Real}
coral_evenness(rs::ResultSet)::AbstractArray{T} where {T}</code></pre><p>Calculates evenness across functional coral groups in ADRIA as a diversity metric. Inverse Simpsons diversity indicator.</p><p><strong>References</strong></p><ol><li>Hill, M. O. (1973).</li></ol><p>Diversity and Evenness: A Unifying Notation and Its Consequences. Ecology, 54(2), 427-432. https://doi.org/10.2307/1934352</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L305-L317">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._get_ranks-Tuple{ADRIA.ResultSet, Symbol}" href="#ADRIA.metrics._get_ranks-Tuple{ADRIA.ResultSet, Symbol}"><code>ADRIA.metrics._get_ranks</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_get_ranks(rs::ResultSet, intervention::Int64; kwargs...)</code></pre><p>Extracts results for a specific intervention (:seed or :fog)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/ranks.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._juvenile_indicator-Union{Tuple{T}, Tuple{AbstractArray{T, 3}, DataFrames.DataFrame, Vector{Float64}}} where T&lt;:Real" href="#ADRIA.metrics._juvenile_indicator-Union{Tuple{T}, Tuple{AbstractArray{T, 3}, DataFrames.DataFrame, Vector{Float64}}} where T&lt;:Real"><code>ADRIA.metrics._juvenile_indicator</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">juvenile_indicator(X::AbstractArray{T,3}, coral_spec::DataFrame, k_area::Vector{Float64})::AbstractArray{T,2} where {T&lt;:Real}
juvenile_indicator(rs::ResultSet)::AbstractArray{&lt;:Real,2}</code></pre><p>Indicator for juvenile density (0 - 1), where 1 indicates the maximum theoretical density for juveniles have been achieved.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Raw model results for a single scenario. Dimensions (n<em>timesteps, n</em>group_sizes,</li></ul><p>n_locations).</p><ul><li><code>coral_spec</code> : Coral spec DataFrame.</li><li><code>k_area</code> : The coral habitable area.</li></ul><p><strong>Notes</strong></p><p>Maximum density is 51.8 juveniles / m², where juveniles are defined as &lt; 5cm diameter. See email correspondence from: Dr. A Thompson; to: Dr. K. Anthony Subject: RE: Max density of juvenile corals on the GBR Sent: Friday, 14 October 2022 2:58 PM</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L266-L285">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._max_juvenile_area" href="#ADRIA.metrics._max_juvenile_area"><code>ADRIA.metrics._max_juvenile_area</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_max_juvenile_area(coral_params::DataFrame, max_juv_density::Float64=51.8)</code></pre><p>Calculate the maximum possible area that can be covered by juveniles for a given m².</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L254-L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._reef_condition_index-NTuple{4, AbstractArray}" href="#ADRIA.metrics._reef_condition_index-NTuple{4, AbstractArray}"><code>ADRIA.metrics._reef_condition_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reef_condition_index(rc::AbstractArray, evenness::AbstractArray, sv::AbstractArray, juves::AbstractArray; threshold=2)::AbstractArray
reef_condition_index(rs::ResultSet)::AbstractArray{&lt;:Real}</code></pre><p>Estimates a Reef Condition Index (RCI) providing a single value that indicates the condition of a reef across four metrics:</p><ul><li>coral cover</li><li>evenness (coral diversity)</li><li>shelter volume, and</li><li>abundance of juveniles</li></ul><p><strong>Notes</strong></p><p>Juveniles are made relative to maximum observed juvenile density (51.8/m²) See notes for <code>juvenile_indicator()</code></p><p><strong>Arguments</strong></p><ul><li><code>rc</code> : Relative coral cover across all groups</li><li><code>evenness</code> : Evenness across all coral groups</li><li><code>sv</code> : Shelter volume based on coral sizes and abundances</li><li><code>juves</code> : Abundance of coral juveniles &lt; 5 cm diameter</li></ul><p><strong>Returns</strong></p><p>YAXArray[timesteps ⋅ locations ⋅ scenarios]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/reef_indices.jl#L3-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._reef_fish_index-Tuple{AbstractArray, Any, Any}" href="#ADRIA.metrics._reef_fish_index-Tuple{AbstractArray, Any, Any}"><code>ADRIA.metrics._reef_fish_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reef_fish_index(rc::AbstractArray)
reef_fish_index(rs::ResultSet)</code></pre><p>The Reef Fish Index (RFI) estimates fish biomass from relative coral cover.</p><p>A linear regression (developed by Dr. R. Heneghan, Queensland University of Technology) is used to indicate the relationship between coral cover and fish biomass. The regression was developed with digitized data from Figures 4a and 6b in Graham &amp; Nash (2013; see [1]).</p><p>Values are provided ∈ [0, 1], where 1 indicates maximum fish biomass.</p><p>Note: Coral cover here is relative to coral habitable area (<span>$k$</span> area).</p><p><strong>Arguments</strong></p><ul><li><code>rc</code> : Relative cover</li></ul><p><strong>Returns</strong></p><p>YAXArray[timesteps ⋅ locations ⋅ scenarios], values in kg/km²</p><p><strong>References</strong></p><ol><li>Graham, N.A.J., Nash, K.L., 2013.</li></ol><p>The importance of structural complexity in coral reef ecosystems. Coral Reefs 32, 315–326. https://doi.org/10.1007/s00338-012-0984-y</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/reef_indices.jl#L216-L242">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._reef_tourism_index-Tuple{AbstractArray, AbstractArray, AbstractArray, AbstractArray, Vector}" href="#ADRIA.metrics._reef_tourism_index-Tuple{AbstractArray, AbstractArray, AbstractArray, AbstractArray, Vector}"><code>ADRIA.metrics._reef_tourism_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reef_tourism_index(rc::AbstractArray, evenness::AbstractArray, sv::AbstractArray, juves::AbstractArray, intcp_u::Vector)::AbstractArray
reef_tourism_index(rs::ResultSet; intcp_u::Bool=false)::AbstractArray</code></pre><p>Estimate tourism index.</p><p>Note: This metric assumes all inputs (relative cover, evenness, shelter volume, coral juveniles) are scaled between 0 and 1. For evenness, shelter volume and coral juveniles, a value of 1 may represent a theoretical maximum.</p><p><strong>Arguments</strong></p><ul><li><code>rc</code> : Relative coral cover across all groups</li><li><code>evenness</code> : Evenness across all coral groups</li><li><code>sv</code> : Shelter volume based on coral sizes and abundances</li><li><code>juves</code> : Abundance of coral juveniles &lt; 5 cm diameter</li><li><code>intcp_u</code> : ?</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/reef_indices.jl#L135-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._relative_cover-Tuple{YAXArrays.Cubes.YAXArray{var&quot;#s447&quot;, N, A} where {var&quot;#s447&quot;&lt;:Real, N, A&lt;:AbstractArray{var&quot;#s447&quot;, N}}}" href="#ADRIA.metrics._relative_cover-Tuple{YAXArrays.Cubes.YAXArray{var&quot;#s447&quot;, N, A} where {var&quot;#s447&quot;&lt;:Real, N, A&lt;:AbstractArray{var&quot;#s447&quot;, N}}}"><code>ADRIA.metrics._relative_cover</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relative_cover(X::AbstractArray{&lt;:Real})::AbstractArray{&lt;:Real}
relative_cover(rs::ResultSet)::AbstractArray{&lt;:Real}</code></pre><p>Indicate coral cover relative to available hard substrate (<span>$k$</span> area).</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Matrix with dimensions (n<em>timesteps, n</em>functional<em>groups * n</em>size_classes,</li></ul><p>n_locations) of raw model results (coral cover relative to available space)</p><p><strong>Returns</strong></p><p>Coral cover [0 - 1], relative to available <span>$k$</span> area for a given location.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L53-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._relative_juveniles-Union{Tuple{T}, Tuple{YAXArrays.Cubes.YAXArray{T, 3, A} where A&lt;:AbstractArray{T, 3}, DataFrames.DataFrame}} where T&lt;:Real" href="#ADRIA.metrics._relative_juveniles-Union{Tuple{T}, Tuple{YAXArrays.Cubes.YAXArray{T, 3, A} where A&lt;:AbstractArray{T, 3}, DataFrames.DataFrame}} where T&lt;:Real"><code>ADRIA.metrics._relative_juveniles</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relative_juveniles(X::AbstractArray{T,3}, coral_spec::DataFrame)::AbstractArray{T,2} where {T&lt;:Real}
relative_juveniles(rs::ResultSet)::AbstractArray{&lt;:Real,2}</code></pre><p>Juvenile coral cover relative to total site area.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Raw model results for a single scenario. Dimensions (n<em>timesteps, n</em>group_sizes,</li></ul><p>n_locations)</p><ul><li><code>coral_spec</code> : Coral spec DataFrame</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L199-L209">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._relative_loc_taxa_cover-Union{Tuple{T}, Tuple{AbstractArray{T}, Vector{T}, Int64}} where T&lt;:Real" href="#ADRIA.metrics._relative_loc_taxa_cover-Union{Tuple{T}, Tuple{AbstractArray{T}, Vector{T}, Int64}} where T&lt;:Real"><code>ADRIA.metrics._relative_loc_taxa_cover</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relative_loc_taxa_cover(X::AbstractArray{T}, k_area::Vector{T}, n_groups::Int64)::AbstractArray{T,3} where {T&lt;:Real}</code></pre><p><strong>Arguments</strong></p><ul><li><code>X</code> : Raw model results for a single scenario. Dimensions (n<em>timesteps, n</em>group_sizes,</li></ul><p>n_locations)</p><ul><li><code>k_area</code> : The coral habitable area.</li><li><code>n_groups</code> : Number of function coral groups.</li></ul><p><strong>Returns</strong></p><p>Coral cover, grouped by taxa for the given scenario, for each timestep and location, relative to location k area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L157-L169">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._relative_shelter_volume-Union{Tuple{T}, Tuple{AbstractArray{T, 3}, Vector{T}, DataFrames.DataFrameRow}} where T&lt;:Real" href="#ADRIA.metrics._relative_shelter_volume-Union{Tuple{T}, Tuple{AbstractArray{T, 3}, Vector{T}, DataFrames.DataFrameRow}} where T&lt;:Real"><code>ADRIA.metrics._relative_shelter_volume</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relative_shelter_volume(X::AbstractArray{T,3}, k_area::Vector{T}, inputs::DataFrameRow)::AbstractArray{T} where {T&lt;:Real}
relative_shelter_volume(X::AbstractArray{T,3}, k_area::Vector{T}, inputs::DataFrame)::AbstractArray{T} where {T&lt;:Real}
relative_shelter_volume(X::AbstractArray{T,3}, k_area::Vector{T}, inputs::YAXArray)::AbstractArray{T} where {T&lt;:Real}
relative_shelter_volume(X::AbstractArray{T,4}, k_area::Vector{T}, inputs::DataFrameRow)::AbstractArray{T} where {T&lt;:Real}
relative_shelter_volume(X::AbstractArray{T,4}, k_area::Vector{T}, inputs::DataFrame)::AbstractArray{T} where {T&lt;:Real}
relative_shelter_volume(X::AbstractArray{T,4}, k_area::Vector{T}, inputs::YAXArray)::AbstractArray{T} where {T&lt;:Real}
relative_shelter_volume(rs::ResultSet)</code></pre><p>Provide indication of shelter volume relative to theoretical maximum volume for the area covered by coral.</p><p>The metric applies log-log linear models developed by Urbina-Barreto et al., [1] which uses colony diameter and planar area (2D metrics) to estimate shelter volume (a 3D metric).</p><p class="math-container">\[RSV = \begin{cases}
TASV / MSV &amp; MSV &gt; 0, \\
0 &amp; \text{otherwise}
\end{cases}\]</p><p>where <span>$TASV$</span> represents Total Absolute Shelter Volume and <span>$MSV$</span> represents the maximum shelter volume possible.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : raw results</li><li><code>k_area</code> : area in m^2 for each site</li><li><code>scens</code> : DataFrame of scenario inputs</li></ul><p><strong>Returns</strong></p><p>Shelter volume relative to a theoretical maximum volume for the available <span>$k$</span> area.</p><p><strong>References</strong></p><ol><li>Urbina-Barreto, I., Chiroleu, F., Pinel, R., Fréchon, L., Mahamadaly, V., Elise, S.,</li></ol><p>Kulbicki, M., Quod, J.-P., Dutrieux, E., Garnier, R., Henrich Bruggemann, J., Penin, L., &amp; Adjeroud, M. (2021). Quantifying the shelter capacity of coral reefs using photogrammetric 3D modeling: From colonies to reefscapes. Ecological Indicators, 121, 107151. https://doi.org/10.1016/j.ecolind.2020.107151</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L597-L636">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._relative_taxa_cover-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Real}, Int64}" href="#ADRIA.metrics._relative_taxa_cover-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Real}, Int64}"><code>ADRIA.metrics._relative_taxa_cover</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relative_taxa_cover(X::AbstractArray{&lt;:Real}, k_area::Vector{&lt;:Real}, n_groups::Int64)::AbstractArray{&lt;:Real,2}
relative_taxa_cover(rs::ResultSet)::AbstractArray{&lt;:Real,2}</code></pre><p>Relative coral cover grouped by taxa/species sumed up across all locations.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Raw model results for a single scenario. Dimensions (n<em>timesteps, n</em>group_sizes,</li></ul><p>n_locations).</p><ul><li><code>k_area</code> : The coral habitable area.</li><li><code>n_groups</code> : Number of function coral groups.</li></ul><p><strong>Returns</strong></p><p>Coral cover, grouped by taxa for the given scenario, summed up across all locations, relative to total k area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L109-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_absolute_juveniles-Tuple{YAXArrays.Cubes.YAXArray, DataFrames.DataFrame, AbstractVector{&lt;:Real}}" href="#ADRIA.metrics._scenario_absolute_juveniles-Tuple{YAXArrays.Cubes.YAXArray, DataFrames.DataFrame, AbstractVector{&lt;:Real}}"><code>ADRIA.metrics._scenario_absolute_juveniles</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_absolute_juveniles(data::YAXArray, coral_spec::DataFrame, k_area::AbstractVector{&lt;:Real}; kwargs...)::AbstractArray{&lt;:Real}
scenario_absolute_juveniles(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean absolute juvenile population for each scenario for the entire domain.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Raw data for a single scenario.</li><li><code>coral_spec</code> : Coral spec DataFrame.</li><li><code>k_area</code> : K_area.</li><li><code>rs</code> : Resultset.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/scenario.jl#L119-L130">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_asv-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics._scenario_asv-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics._scenario_asv</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_asv(sv::YAXArray; kwargs...)::AbstractArray{&lt;:Real}
scenario_asv(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean absolute shelter volumes for each scenario for the entire domain.</p><p><strong>Arguments</strong></p><ul><li><code>asv</code> : Absolute shelter volume.</li><li><code>rs</code> : Resultset.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/scenario.jl#L183-L192">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_evenness-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics._scenario_evenness-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics._scenario_evenness</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_evenness(ev::YAXArray; kwargs...)::AbstractArray{&lt;:Real}
scenario_evenness(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean coral evenness for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/scenario.jl#L225-L230">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_juvenile_indicator-Tuple{YAXArrays.Cubes.YAXArray, DataFrames.DataFrame, AbstractVector{&lt;:Real}}" href="#ADRIA.metrics._scenario_juvenile_indicator-Tuple{YAXArrays.Cubes.YAXArray, DataFrames.DataFrame, AbstractVector{&lt;:Real}}"><code>ADRIA.metrics._scenario_juvenile_indicator</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_juvenile_indicator(data::YAXArray, coral_spec::DataFrame, k_area::AbstractVector{&lt;:Real}; kwargs...)::AbstractArray{&lt;:Real}
scenario_juvenile_indicator(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Determine juvenile indicator ∈ [0, 1], where 1 indicates maximum mean juvenile density (51.8) has been achieved.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Raw data for a single scenario.</li><li><code>coral_spec</code> : Coral spec DataFrame.</li><li><code>k_area</code> : K_area.</li><li><code>rs</code> : Resultset.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/scenario.jl#L152-L163">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_rci-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics._scenario_rci-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics._scenario_rci</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_rci(rci::YAXArray, tac::YAXArray; kwargs...)
scenario_rci(rs::ResultSet; kwargs...)</code></pre><p>Extract the total populated area of locations with Reef Condition Index of &quot;Good&quot; or higher for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/reef_indices.jl#L113-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_relative_cover-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics._scenario_relative_cover-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics._scenario_relative_cover</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_relative_cover(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean relative coral cover for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/scenario.jl#L58-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_relative_juveniles-Tuple{YAXArrays.Cubes.YAXArray{var&quot;#s440&quot;, 3, A} where {var&quot;#s440&quot;&lt;:Real, A&lt;:AbstractArray{var&quot;#s440&quot;, 3}}, DataFrames.DataFrame, AbstractVector{&lt;:Real}}" href="#ADRIA.metrics._scenario_relative_juveniles-Tuple{YAXArrays.Cubes.YAXArray{var&quot;#s440&quot;, 3, A} where {var&quot;#s440&quot;&lt;:Real, A&lt;:AbstractArray{var&quot;#s440&quot;, 3}}, DataFrames.DataFrame, AbstractVector{&lt;:Real}}"><code>ADRIA.metrics._scenario_relative_juveniles</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_relative_juveniles(X::YAXArray{&lt;:Real,3}, coral_spec::DataFrame, k_area::AbstractVector{&lt;:Real}; kwargs...)::AbstractArray{&lt;:Real}
scenario_relative_juveniles(rs::ResultSet; kwargs...)::YAXArray</code></pre><p>Calculate the mean relative juvenile population for each scenario for the entire domain.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : Raw data for a single scenario.</li><li><code>rs</code> : Resultset.</li><li><code>coral_spec</code> : Coral spec DataFrame.</li><li><code>k_area</code> : K_area.</li></ul><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">num_scens = 2^5
scens = ADRIA.sample(dom, num_scens)

_coral_spec = ADRIA.to_coral_spec(scens[1,:])
_k_area = loc_k_area(dom)

# X contains raw coral cover results for a single scenario
ADRIA.metrics.scenario_relative_juveniles(X, _coral_spec, _k_area)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/scenario.jl#L73-L96">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_rfi-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics._scenario_rfi-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics._scenario_rfi</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>scenario<em>rfi(rfi::YAXArray; kwargs...) scenario</em>rfi(rs::ResultSet; kwargs...)</p><p>Calculate the mean Reef Fish Index (RFI) for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/reef_indices.jl#L285-L290">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_rsv-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics._scenario_rsv-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics._scenario_rsv</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_rsv(sv::YAXArray; kwargs...)::AbstractArray{&lt;:Real}
scenario_rsv(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean relative shelter volumes for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/scenario.jl#L208-L213">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_rti-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics._scenario_rti-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics._scenario_rti</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_rti(rti::YAXArray; kwargs...)
scenario_rti(rs::ResultSet; kwargs...)</code></pre><p>Calculate the mean Reef Tourism Index (RTI) for each scenario for the entire domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/reef_indices.jl#L201-L206">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._scenario_total_cover-Tuple{AbstractArray}" href="#ADRIA.metrics._scenario_total_cover-Tuple{AbstractArray}"><code>ADRIA.metrics._scenario_total_cover</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_total_cover(rs::ResultSet; kwargs...)::AbstractArray{&lt;:Real}</code></pre><p>Calculate the mean absolute coral for each scenario for the entire domain.</p><p><strong>Arguments</strong></p><ul><li><code>tac</code> : Total absolute cover</li><li><code>rs</code> : ResultSet</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/scenario.jl#L38-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._shelter_species_loop!-Union{Tuple{V}, Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray, Int64, V, V}} where V&lt;:(AbstractVector{&lt;:Float64})" href="#ADRIA.metrics._shelter_species_loop!-Union{Tuple{V}, Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray, Int64, V, V}} where V&lt;:(AbstractVector{&lt;:Float64})"><code>ADRIA.metrics._shelter_species_loop!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><em>shelter</em>species<em>loop!(X::YAXArray, ASV::YAXArray, nspecies::Int64, colony</em>vol<em>m3</em>per<em>m2::V, k</em>area::V) where {V&lt;:AbstractVector{&lt;:Float64}}</p><p>Helper method to calculate absolute shelter volume metric across each species/size class for a given scenario.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : raw results (proportional coral cover relative to full site area)</li><li><code>ASV</code> : matrix to hold shelter volume results</li><li><code>nspecies</code> : number of species (taxa and size classes) considered</li><li><code>scen</code> : scenario number to calculate metric for</li><li><code>colony_vol_m3_per_m2</code> : estimated cubic volume per m² of coverage for each species/size class</li><li><code>k_area</code> : habitable area of site in m²</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L467-L479">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._shelter_species_loop-Union{Tuple{F}, Tuple{T1}, Tuple{AbstractArray{T1, 3}, Int64, Array{F}, Array{F}, Array{F}}} where {T1&lt;:Real, F&lt;:Float64}" href="#ADRIA.metrics._shelter_species_loop-Union{Tuple{F}, Tuple{T1}, Tuple{AbstractArray{T1, 3}, Int64, Array{F}, Array{F}, Array{F}}} where {T1&lt;:Real, F&lt;:Float64}"><code>ADRIA.metrics._shelter_species_loop</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_shelter_species_loop(X::AbstractArray{T1,3}, n_species::Int64, colony_vol_m3_per_m2::Array{F}, max_colony_vol_m3_per_m2::Array{F}, k_area::Array{F})::YAXArray where {T1&lt;:Real,F&lt;:Float64}</code></pre><p>Helper method to calculate relative shelter volume metric across each species/size class for a given scenario.</p><p>Note: Species dimension is an amalgamation of taxa and size class. e.g., X[species=1:6] is Taxa 1, size classes 1-6; X[species=7:12] is Taxa 2, size class 1-6, etc.</p><p><strong>Arguments</strong></p><ul><li><code>X</code> : raw results (proportional coral cover relative to full site area)</li><li><code>n_group_and_size</code> : number of species (taxa and size classes) considered</li><li><code>colony_vol_m3_per_m2</code> : estimated cubic volume per m² of coverage for each species/size class</li><li><code>max_colony_vol_m3_per_m2</code> : theoretical maximum volume per m² of coverage for each taxa</li><li><code>k_area</code> : habitable area of site in m² (i.e., <code>k</code> area)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L408-L422">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics._total_absolute_cover-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Real}}" href="#ADRIA.metrics._total_absolute_cover-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Real}}"><code>ADRIA.metrics._total_absolute_cover</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">total_absolute_cover(X::AbstractArray{&lt;:Real}, k_area::Vector{&lt;:Real})::AbstractArray{&lt;:Real}
total_absolute_cover(rs::ResultSet)::AbstractArray{&lt;:Real}</code></pre><p>The Total Absolute Coral Cover. Sum of proportional area taken up by all corals, multiplied by total site area.</p><p><strong>Arguments</strong></p><ul><li><code>relative_cover</code> : Array with relative_cover</li><li><code>k_area</code> : Site areas, with sites following the same order as given indicated in X.</li></ul><p><strong>Returns</strong></p><p>Absolute coral cover for a given location in m².</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L78-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.axes_units-Tuple{Union{Tuple, Vector{Symbol}}}" href="#ADRIA.metrics.axes_units-Tuple{Union{Tuple, Vector{Symbol}}}"><code>ADRIA.metrics.axes_units</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">axes_units(axes_names::Union{Vector{Symbol},Tuple})::Tuple</code></pre><p>Get units for each metric axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metadata.jl#L76-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.call_metric-Tuple{Union{Function, ADRIA.metrics.Metric}, YAXArrays.Cubes.YAXArray, Vararg{Any}}" href="#ADRIA.metrics.call_metric-Tuple{Union{Function, ADRIA.metrics.Metric}, YAXArrays.Cubes.YAXArray, Vararg{Any}}"><code>ADRIA.metrics.call_metric</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">call_metric(metric::Union{Function,Metric}, data::YAXArray, args...; kwargs...)</code></pre><p>Convenience method that slices the data in the specified manner.</p><p><strong>Arguments</strong></p><ul><li><code>metric</code> : Function, the metric function to apply to &quot;raw&quot; data.</li><li><code>data</code> : YAXArray, data to pass into <code>metric</code></li><li><code>args</code> : Additional positional arguments to pass into <code>metric</code></li><li><code>kwargs</code> : Additional keyword arguments to pass into <code>slice_results</code><ul><li><code>dims</code> : dummy keyword argument, not used but defined to allow use with other methods</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/utils.jl#L65-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.dims-Tuple{ADRIA.metrics.Metric}" href="#ADRIA.metrics.dims-Tuple{ADRIA.metrics.Metric}"><code>ADRIA.metrics.dims</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dims(m::Metric)::Tuple</code></pre><p>Get dimension names for a given outcome/metric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/utils.jl#L47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.dominates-Tuple{AbstractVector{&lt;:Real}, AbstractVector{&lt;:Real}}" href="#ADRIA.metrics.dominates-Tuple{AbstractVector{&lt;:Real}, AbstractVector{&lt;:Real}}"><code>ADRIA.metrics.dominates</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dominates(x::Vector{&lt;:Real}, y::Vector{&lt;:Real})::Vector</code></pre><p>Adapted from: https://discourse.julialang.org/t/fast-optimized-non-dominated-sorting-algorithms/86793/7</p><p>Original function name is <code>dominates2()</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/pareto.jl#L3-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.ensemble_loc_difference-Union{Tuple{T}, Tuple{YAXArrays.Cubes.YAXArray{T, 3, A} where A&lt;:AbstractArray{T, 3}, DataFrames.DataFrame}} where T" href="#ADRIA.metrics.ensemble_loc_difference-Union{Tuple{T}, Tuple{YAXArrays.Cubes.YAXArray{T, 3, A} where A&lt;:AbstractArray{T, 3}, DataFrames.DataFrame}} where T"><code>ADRIA.metrics.ensemble_loc_difference</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ensemble_loc_difference(outcome::YAXArray{T,3}, scens::DataFrame; agg_metric::Union{Function,AbstractFloat}=median, diff_target=:guided, conf::Float64=0.95, rng::AbstractRNG=Random.GLOBAL_RNG)::YAXArray where {T}</code></pre><p>Mean bootstrapped difference (counterfactual - target) between some outcome aggregated for each location.</p><p><strong>Arguments</strong></p><ul><li><code>outcome</code> : Metric outcome with dimensions (:timesteps, :locations, :scenarios).</li><li><code>scens</code> : Scenarios DataFrame.</li><li><code>agg_metric</code> : Metric used to aggregate scenarios when comparing between counterfactual and</li></ul><p>target. If it is an <code>AbstractFloat</code> between 0 and 1, it uses the <code>bs_metric</code>-th quantile. Defaults to <code>median</code>.</p><ul><li><code>diff_target</code> : Target group of scenarios to compare with. Valid options are <code>:guided</code> and</li></ul><p><code>:unguided</code>. Defaults to <code>:guided</code></p><ul><li><code>conf</code> : Percentile used for the confidence interval. Defaults to 0.95.</li><li><code>rng</code> : Pseudorandom number generator.</li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs"># Load domain
dom = ADRIA.load_domain(path_to_domain)

# Create scenarios
num_scens = 2^6
scens = ADRIA.sample(dom, num_scens)

# Run model
rs = ADRIA.run_scenarios(dom, scens, &quot;45&quot;)

# Calculate difference to the counterfactual for given metric
_relative_cover = metrics.relative_cover(rs)

# Compute difference between guided and counterfactual using the 0.6-th quantile
gd_res = metrics.ensemble_loc_difference(r_cover, scens; agg_metric=0.6)

# Compute difference between unguided and counterfactual using the median
ug_res = metrics.ensemble_loc_difference(r_cover, scens; diff_target=:unguided)

# Plot maps of difference to the counterfactual
ADRIA.viz.map(rs, gd_res[summary=At(:agg_value)]; diverging=true)
ADRIA.viz.map(rs, ug_res[summary=At(:agg_value)]; diverging=true)</code></pre><p><strong>Returns</strong></p><p>Vector with bootstrapped difference (counterfactual - guided) for each location.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/spatial.jl#L129-L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.fill_axes_metadata!-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics.fill_axes_metadata!-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics.fill_axes_metadata!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fill_axes_metadata!(outcomes::YAXArray)::Nothing</code></pre><p>Fill outcomes axes metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metadata.jl#L60-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.fill_metadata!-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{YAXArrays.Cubes.YAXArray{T, N, A}, ADRIA.metrics.Metric}} where {T, N, A}" href="#ADRIA.metrics.fill_metadata!-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{YAXArrays.Cubes.YAXArray{T, N, A}, ADRIA.metrics.Metric}} where {T, N, A}"><code>ADRIA.metrics.fill_metadata!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fill_metadata!(outcomes::YAXArray{T,N,A}, metric::Metric)::YAXArray{T,N,A} where {T,N,A}
fill_metadata!(outcomes::YAXArray{T,N,A}, metadata::Dict{Symbol,Any})::YAXArray{T,N,A} where {T,N,A}</code></pre><p>Fill outcomes YAXArray metadata (<code>properties</code> attribute).</p><p><strong>Arguments</strong></p><ul><li><code>outcomes</code> : YAXArray datacube of metric outcomes.</li><li><code>metric</code> : ADRIA.metrics.Metric object.</li><li><code>metadata</code> : Dict to be used to fill outcomes metrics metadata.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metadata.jl#L13-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.fog_ranks-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics.fog_ranks-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics.fog_ranks</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fog_ranks(rs::ResultSet; kwargs...)</code></pre><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>kwargs : named dimensions to slice across</li></ul><p><strong>Returns</strong></p><p>YAXArray[timesteps, sites, scenarios]</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ADRIA.metrics.fog_ranks(rs; timesteps=1:10, scenarios=3:5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/ranks.jl#L58-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.loc_trajectory-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{Any, YAXArrays.Cubes.YAXArray{D, T, N, A}}} where {D, T, N, A}" href="#ADRIA.metrics.loc_trajectory-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{Any, YAXArrays.Cubes.YAXArray{D, T, N, A}}} where {D, T, N, A}"><code>ADRIA.metrics.loc_trajectory</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loc_trajectory(metric, data::YAXArray{D,T,N,A})::YAXArray where {D,T,N,A}</code></pre><p>Alias for summarize(data, [:scenarios], metric). Collate trajectory for each location.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using Statistics

rs = ADRIA.load_results(&quot;some results&quot;)
tac = ADRIA.metrics.total_absolute_cover(rs)

# Get median trajectory for each site
ADRIA.metrics.loc_trajectory(median, tac)
#75×216 YAXArray{Float64,2} with dimensions:
#  Dim{:timesteps} Categorical{Any} Any[1, 2, …, 74, 75] Unordered,
#  Dim{:locations} Categorical{Any} Any[1, 2, …, 215, 216] Unordered
#Total size: 126.56 KB

# Get upper 95% CI for each site
ADRIA.metrics.loc_trajectory(x -&gt; quantile(x, 0.975), tac)
#75×216 YAXArray{Float64,2} with dimensions:
#  Dim{:timesteps} Categorical{Any} Any[1, 2, …, 74, 75] Unordered,
#  Dim{:locations} Categorical{Any} Any[1, 2, …, 215, 216] Unordered
#Total size: 126.56 KB</code></pre><p><strong>Arguments</strong></p><ul><li>metric : Any function (nominally from the Statistics package) to be applied to <code>data</code></li><li>data : Data set to apply metric to</li></ul><p><strong>Returns</strong></p><p>2D array of <span>$T ⋅ S$</span>, where <span>$T$</span> is total number of time steps and <span>$S$</span> is number of locations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/spatial.jl#L29-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.metadata-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics.metadata-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics.metadata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">metadata(outcomes::YAXArray)::Dict{Symbol,Any}</code></pre><p>Helper function to extract metadata from YAXArrays.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metadata.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.metric_label-Tuple{ADRIA.metrics.Metric}" href="#ADRIA.metrics.metric_label-Tuple{ADRIA.metrics.Metric}"><code>ADRIA.metrics.metric_label</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">metric_label(m::Metric)::String
metric_label(f::Function, unit::String)</code></pre><p>Return name of metric in the format: &quot;Title Case [Unit]&quot;, suitable for use as a label.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">m_label = metric_label(scenario_total_cover)
# &quot;Scenario Total Cover [m²]&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/utils.jl#L23-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.n_fog_locations-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics.n_fog_locations-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics.n_fog_locations</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">n_fog_locations(rs::ResultSet; kwargs...)::Matrix{Int64}</code></pre><p>Determine the number of locations fogged at each time step, for each scenario.</p><p><strong>Returns</strong></p><p>YAXArray[timesteps ⋅ scenarios] indicating the number of locations fogged at each time step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/ranks.jl#L119-L126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.n_seed_locations-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics.n_seed_locations-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics.n_seed_locations</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">n_seed_locations(rs::ResultSet; kwargs...)::Matrix{Int64}</code></pre><p>Determine the number of locations seeded at each time step, for each scenario.</p><p><strong>Returns</strong></p><p>YAXArray[timesteps ⋅ scenarios] indicating the number of locations seeded at each time step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/ranks.jl#L101-L108">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.nds" href="#ADRIA.metrics.nds"><code>ADRIA.metrics.nds</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">nds(X::AbstractArray{&lt;:Real}, dist::Int64=0)::Vector{Vector{&lt;:Int}}</code></pre><p>Naive n-dimensional non-dominated sorting.</p><p>Adapted from: https://discourse.julialang.org/t/fast-optimized-non-dominated-sorting-algorithms/86793/7</p><p>Original function name is <code>nds4()</code></p><p><strong>Arguments</strong></p><p>X : outcomes, where rows are scenarios and columns are metric results. dist : distance from front, where 0 is on the frontier.</p><p><strong>Returns</strong></p><p>Vector of Vectors with row indices for each <code>dist</code> from frontier, where 0 is on the frontier.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/pareto.jl#L21-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.per_loc-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{Any, YAXArrays.Cubes.YAXArray{D, T, N, A}}} where {D, T, N, A}" href="#ADRIA.metrics.per_loc-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{Any, YAXArrays.Cubes.YAXArray{D, T, N, A}}} where {D, T, N, A}"><code>ADRIA.metrics.per_loc</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">per_loc(metric, data::YAXArray{D,T,N,A})::YAXArray where {D,T,N,A}</code></pre><p>Alias for summarize(data, [:scenarios, :timesteps], metric). Get metric results applied to the location-level at indicated time (or across timesteps).</p><p><strong>Arguments</strong></p><ul><li>metric : Any function (nominally from the Statistics package) to be applied to <code>data</code></li><li>data : Data set to apply metric to</li><li>timesteps : timesteps to apply <code>metric</code> across</li></ul><p><strong>Returns</strong></p><p>Named Vector of <span>$N$</span> elements, where <span>$N$</span> is the number of locations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/spatial.jl#L6-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.scenario_outcomes-Tuple{ADRIA.ResultSet, Vector{&lt;:ADRIA.metrics.Metric}}" href="#ADRIA.metrics.scenario_outcomes-Tuple{ADRIA.ResultSet, Vector{&lt;:ADRIA.metrics.Metric}}"><code>ADRIA.metrics.scenario_outcomes</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_outcomes(rs::ResultSet, metrics::Vector{Metric})::YAXArray</code></pre><p>Get outcomes for a given list of metrics and a result set.</p><p><strong>Arguments</strong></p><ul><li><code>rs</code> : ResultSet</li><li><code>metrics</code> : Vector of scenario Metrics (the ones that start with <code>scenario_</code>)</li></ul><p><strong>Returns</strong></p><p>YAXArray with (:timesteps, :scenarios, :outcomes)</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">metrics::Vector{ADRIA.metrics.Metric} = [
    ADRIA.metrics.scenario_total_cover,
    ADRIA.metrics.scenario_asv,
    ADRIA.metrics.scenario_absolute_juveniles,
]

# 3-dimensional Array of outcomes
outcomes = ADRIA.metrics.scenario_outcomes(rs, metrics)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/scenario.jl#L246-L269">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.scenario_trajectory-Tuple{AbstractArray}" href="#ADRIA.metrics.scenario_trajectory-Tuple{AbstractArray}"><code>ADRIA.metrics.scenario_trajectory</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_trajectory(data::AbstractArray; metric=mean)::YAXArray{&lt;:Real}</code></pre><p>Produce scenario trajectories using the provided metric/aggregation function.</p><p><strong>Arguments</strong></p><ul><li><code>data</code> : Results to aggregate</li><li><code>metric</code> : Function or Callable used to summarize data</li></ul><p><strong>Returns</strong></p><p>Matrix[timesteps ⋅ scenarios]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/scenario.jl#L13-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.seed_ranks-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics.seed_ranks-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics.seed_ranks</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">seed_ranks(rs::ResultSet; kwargs...)</code></pre><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>kwargs : named dimensions to slice across</li></ul><p><strong>Returns</strong></p><p>YAXArray[timesteps, sites, scenarios]</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ADRIA.metrics.seed_ranks(rs; timesteps=1:10, scenarios=3:5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/ranks.jl#L38-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.slice_results-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics.slice_results-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics.slice_results</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">slice_results(data::YAXArray; timesteps=(:), species=(:), locations=(:), scenarios=(:))</code></pre><p>Slice data as indicated. Dimensions not found in target data are ignored.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/utils.jl#L86-L90">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.summarize-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{YAXArrays.Cubes.YAXArray{D, T, N, A}, Vector{Symbol}, Function}} where {D, T, N, A}" href="#ADRIA.metrics.summarize-Union{Tuple{A}, Tuple{N}, Tuple{T}, Tuple{D}, Tuple{YAXArrays.Cubes.YAXArray{D, T, N, A}, Vector{Symbol}, Function}} where {D, T, N, A}"><code>ADRIA.metrics.summarize</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarize(data::YAXArray{&lt;:Real}, alongs_axis::Vector{Symbol}, metric::Function)::YAXArray{&lt;:Real}
summarize(data::YAXArray{&lt;:Real}, alongs_axis::Vector{Symbol}, metric::Function, timesteps::Union{UnitRange,Vector{Int64},BitVector})::YAXArray{&lt;:Real}</code></pre><p>Apply summary metric along some axis of a data set across some or all timesteps.</p><p><strong>Arguments</strong></p><ul><li><code>data</code> : Data set to apply metric to.</li><li><code>alongs_axis</code> : which axis will be replaced with (:) when slicing.</li><li><code>metric</code> : Any function (nominally from the Statistics package) to be applied to <code>data</code>.</li><li><code>timesteps</code> : timesteps to apply <code>metric</code> across.</li></ul><p><strong>Returns</strong></p><p>YAXArray with summary metric for the remaining axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/spatial.jl#L74-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.summarize_absolute_shelter_volume-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics.summarize_absolute_shelter_volume-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics.summarize_absolute_shelter_volume</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarize_absolute_shelter_volume(sv::YAXArray; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_absolute_shelter_volume(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized coral evenness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/temporal.jl#L132-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.summarize_coral_evenness-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics.summarize_coral_evenness-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics.summarize_coral_evenness</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarize_coral_evenness(raw::YAXArray; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_coral_evenness(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized coral evenness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/temporal.jl#L114-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.summarize_raw-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics.summarize_raw-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics.summarize_raw</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarize_raw(data::YAXArray; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Summarize raw data, aggregating the specified dimensions (e.g., <code>timesteps</code>, <code>scenarios</code>, etc.) and collapsing given <code>dims</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/temporal.jl#L43-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.summarize_relative_cover-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics.summarize_relative_cover-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics.summarize_relative_cover</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarize_relative_cover(rc::YAXArray; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_relative_cover(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized relative cover.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/temporal.jl#L96-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.summarize_relative_shelter_volume-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics.summarize_relative_shelter_volume-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics.summarize_relative_shelter_volume</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarize_relative_shelter_volume(sv::YAXArray; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_relative_shelter_volume(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized coral evenness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/temporal.jl#L150-L155">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.summarize_total_cover-Tuple{YAXArrays.Cubes.YAXArray, AbstractArray{&lt;:Real}}" href="#ADRIA.metrics.summarize_total_cover-Tuple{YAXArrays.Cubes.YAXArray, AbstractArray{&lt;:Real}}"><code>ADRIA.metrics.summarize_total_cover</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarize_total_cover(raw::YAXArray, areas::AbstractArray{&lt;:Real}; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_total_cover(rs::ResultSet; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized total absolute cover.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/temporal.jl#L74-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.to_string-Tuple{ADRIA.metrics.Metric}" href="#ADRIA.metrics.to_string-Tuple{ADRIA.metrics.Metric}"><code>ADRIA.metrics.to_string</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">to_string(m::Metric)::String</code></pre><p>Get name of metric as a string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/utils.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.to_symbol-Tuple{ADRIA.metrics.Metric}" href="#ADRIA.metrics.to_symbol-Tuple{ADRIA.metrics.Metric}"><code>ADRIA.metrics.to_symbol</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">to_symbol(m::Metric)::String</code></pre><p>Get name of metric as a symbol.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/utils.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.top_N_sites-Tuple{ADRIA.ResultSet, Int64}" href="#ADRIA.metrics.top_N_sites-Tuple{ADRIA.ResultSet, Int64}"><code>ADRIA.metrics.top_N_sites</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">top_N_sites(rs::ResultSet; N::Int64; metric::relative_cover)
top_N_sites(data::AbstractArray{Real}, N::Int64; stat=mean)</code></pre><p>Return the top <code>N</code> sites according to the provided metric (defaulting to <code>mean</code> of <code>relative_cover</code>).</p><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>N : Number of best performing sites to be selected</li><li>metric : Metric to use to order sites from best to worst,          must take ResultSet as input</li><li>stat : Summary statistic to use for comparison (default: mean)</li></ul><p><strong>Returns</strong></p><p>YAXArray[:scenarios, :locations], where <code>locations</code> indicates order of location ranking.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ADRIA.metrics.top_N_sites(rs, 5)
ADRIA.metrics.top_N_sites(rs, 5; metric=ADRIA.metric.relative_cover)
ADRIA.metrics.top_N_sites(rs, 5; metric=ADRIA.metric.relative_cover, stat=median)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/ranks.jl#L186-L208">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.top_n_seeded_sites-Tuple{ADRIA.ResultSet, Int64}" href="#ADRIA.metrics.top_n_seeded_sites-Tuple{ADRIA.ResultSet, Int64}"><code>ADRIA.metrics.top_n_seeded_sites</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">top_n_seeded_sites(rs::ResultSet, n::Int64; kwargs...)</code></pre><p>Get the top n seeded sites over time by their unique location id. Lower rank values are better (e.g., 1 = first choice)</p><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>n : <code>n</code> locations to retrieve</li><li>kwargs : dimensions to slice across</li></ul><p><strong>Returns</strong></p><p>YAXArray[locations, [loc<em>id, loc</em>name, rank], scenarios]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/ranks.jl#L137-L150">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.trajectory_heatmap-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics.trajectory_heatmap-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics.trajectory_heatmap</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">trajectory_heatmap(data::YAXArray)::HeatMap</code></pre><p>Estimate heatmap of trajectories from a 2D dataset.</p><p><strong>Arguments</strong></p><ul><li>data : An N*D matrix where N is time steps and D is the scenario outcome for the given timestep in N</li></ul><p><strong>Returns</strong></p><p>OnlineStats.HeatMap</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/temporal.jl#L173-L183">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.trajectory_heatmap_data-Tuple{YAXArrays.Cubes.YAXArray}" href="#ADRIA.metrics.trajectory_heatmap_data-Tuple{YAXArrays.Cubes.YAXArray}"><code>ADRIA.metrics.trajectory_heatmap_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">trajectory_heatmap_data(data::YAXArray)::Tuple{Vector{Float64},Vector{Float64},Matrix{Int64}}</code></pre><p>Estimate heatmap of trajectories from a 2D dataset.</p><p><strong>Arguments</strong></p><ul><li>data : An N*D matrix where N is time steps and D is the scenario outcome for the given timestep in N</li></ul><p><strong>Returns</strong></p><p>Tuple of xedges, yedges, and bi-dimensional histogram matrix</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/temporal.jl#L191-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.ndims-Tuple{ADRIA.metrics.Metric}" href="#Base.ndims-Tuple{ADRIA.metrics.Metric}"><code>Base.ndims</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ndims(m::Metric)::Int64</code></pre><p>Infer the number of dimensions for a given outcome/metric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/utils.jl#L56-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.metrics.Metric-Tuple{Any, Vararg{Any}}" href="#ADRIA.metrics.Metric-Tuple{Any, Vararg{Any}}"><code>ADRIA.metrics.Metric</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">(f::Metric)(raw, args...; kwargs...)
(f::Metric)(rs::ResultSet, args...; kwargs...)</code></pre><p>Makes Metric types callable with arbitary arguments that are passed to associated function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/metrics.jl#L39-L44">source</a></section></article><h2 id="Performance-indicators"><a class="docs-heading-anchor" href="#Performance-indicators">Performance indicators</a><a id="Performance-indicators-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-indicators" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.performance.RMSE-Tuple{Any, Any}" href="#ADRIA.performance.RMSE-Tuple{Any, Any}"><code>ADRIA.performance.RMSE</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Root Mean Square Error</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/performance.jl#L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.performance.environmental_diversity-Tuple{Any, Any}" href="#ADRIA.performance.environmental_diversity-Tuple{Any, Any}"><code>ADRIA.performance.environmental_diversity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">environmental_diversity(ms, inputs_i)</code></pre><p>Obtain an indication of environmental factor diversity for a scenario set. Higher values indicate a greater of mix of environmental conditions were experienced between scenarios.</p><p>This is referred to as <span>$E$</span>.</p><p><strong>Arguments</strong></p><ul><li>ms : model spec</li><li>inputs_i : inputs used for scenarios of interest</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/performance.jl#L165-L177">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.performance.gmd-Tuple{AbstractVector{&lt;:Real}}" href="#ADRIA.performance.gmd-Tuple{AbstractVector{&lt;:Real}}"><code>ADRIA.performance.gmd</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">gmd(vals::AbstractVector{&lt;:Real})::Float64
gmd(vals::AbstractMatrix{&lt;:Real})</code></pre><p>Gini&#39;s Mean Difference.</p><p>The absolute mean of all pairwise distances between elements in a given set.</p><p><strong>References</strong></p><ol><li><p>La Haye, R., &amp; Zizler, P. (2019). The Gini mean difference and variance. METRON, 77(1), 43-52. https://doi.org/10.1007/s40300-019-00149-2</p></li><li><p>Yitzhaki, S. (2003). Gini&#39;s Mean difference: A superior measure of variability for non-normal   distributions. Metron - International Journal of Statistics, LXI(2), 285-316. https://ideas.repec.org/a/mtn/ancoec/030208.html</p></li><li><p>Kashif, M., Aslam, M., Al-Marshadi, A. H., &amp; Jun, C.-H. (2016). Capability Indices for Non-Normal Distribution Using Gini&#39;s Mean Difference as Measure of Variability. IEEE Access, 4, 7322-7330. https://doi.org/10.1109/ACCESS.2016.2620241</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/performance.jl#L32-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.performance.intervention_diversity-Tuple{Any, Any}" href="#ADRIA.performance.intervention_diversity-Tuple{Any, Any}"><code>ADRIA.performance.intervention_diversity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">intervention_diversity(ms, inputs_i)</code></pre><p>Obtain an indication of intervention diversity for a scenario. Higher values indicate a greater of mix of interventions options were applied.</p><p>This is referred to as <span>$D$</span>.</p><p><strong>Arguments</strong></p><ul><li>ms : model spec</li><li>inputs_i : inputs used for scenarios of interest</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/performance.jl#L149-L160">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.performance.intervention_effort-Tuple{Any, Any, Any}" href="#ADRIA.performance.intervention_effort-Tuple{Any, Any, Any}"><code>ADRIA.performance.intervention_effort</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">intervention_effort(ms, inputs_i)</code></pre><p>Obtain an indication of intervention effort for each scenario and intervention type. This is referred to as <span>$F$</span>.</p><p><strong>Arguments</strong></p><ul><li>ms : model spec</li><li>inputs_i : inputs used for scenarios of interest</li></ul><p><strong>Returns</strong></p><p>Matrix of <code>s * 8</code>, where <code>s</code> is the number of scenarios and columns are: <code>N_seed_TA</code>, <code>N_seed_CA</code>, <code>N_seed_SM</code>, <code>fogging</code>, <code>SRM</code>, <code>seed_years</code>, <code>shade_years</code>, <code>fog_years</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/performance.jl#L103-L116">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.performance.normalize-Tuple{AbstractArray{&lt;:Real}}" href="#ADRIA.performance.normalize-Tuple{AbstractArray{&lt;:Real}}"><code>ADRIA.performance.normalize</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">normalize(vals::AbstractArray{&lt;:Real})</code></pre><p>Normalize values using feature scaling such that values are bound between 0 and 1, where 1 is equivalent to the maximum value found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/performance.jl#L6-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.performance.probability-Tuple{AbstractArray{&lt;:Real}}" href="#ADRIA.performance.probability-Tuple{AbstractArray{&lt;:Real}}"><code>ADRIA.performance.probability</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">probability(vals::AbstractArray{&lt;:Real})</code></pre><p>Calculate probability of individual trajectories, given a scenario ensemble <span>$S$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/performance.jl#L23-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.performance.temporal_variability-Tuple{AbstractVector{&lt;:Real}}" href="#ADRIA.performance.temporal_variability-Tuple{AbstractVector{&lt;:Real}}"><code>ADRIA.performance.temporal_variability</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">temporal_variability(x::AbstractVector{&lt;:Real})
temporal_variability(x::AbstractArray{&lt;:Real, 2})
temporal_variability(x::AbstractArray{&lt;:Real}, func_or_data...)</code></pre><p>The V meta-metric.</p><p>As a meta-metric, it can be applied to any combination of metrics (including itself), assuming <span>$x$</span> is bound between 0 and 1. If this is not the case, consider normalizing values first.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs"># Apply V to a time series
julia&gt; temporal_variability(rand(50))

# Apply V to an ensemble of time series
julia&gt; x = rand(50, 200)
julia&gt; temporal_variability(x)

# Create and apply a modified V metric to an ensemble of time series.
# Where the argument is an array and not a function, the data is used directly
# and so it is assumed all matrices are of the same size and shape.
julia&gt; temporal_variability(x, temporal_variabilty, temporal_variability(P(x)))
julia&gt; temporal_variability(x, temporal_variabilty, P(x), D(x), E(x))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/metrics/performance.jl#L66-L92">source</a></section></article><h2 id="Sensitivity"><a class="docs-heading-anchor" href="#Sensitivity">Sensitivity</a><a id="Sensitivity-1"></a><a class="docs-heading-anchor-permalink" href="#Sensitivity" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity._category_bins-Tuple{DataFrames.DataFrame}" href="#ADRIA.sensitivity._category_bins-Tuple{DataFrames.DataFrame}"><code>ADRIA.sensitivity._category_bins</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_category_bins(foi_spec::DataFrame)::Int64</code></pre><p>Get number of bins for categorical variables.</p><p><strong>Arguments</strong></p><ul><li><code>foi_spec</code> : Model specification for factors of interest</li></ul><p><strong>Returns</strong></p><p>Number of bins relevant to the factor of interest</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L49-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity._create_seq_store-Tuple{DataFrames.DataFrame, Vector{Symbol}, Int64}" href="#ADRIA.sensitivity._create_seq_store-Tuple{DataFrames.DataFrame, Vector{Symbol}, Int64}"><code>ADRIA.sensitivity._create_seq_store</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_create_seq_store(model_spec::DataFrame, unordered_cat::Vector{Symbol}, S::Int64)::Dict{Symbol,Vector{Float64}}</code></pre><p>Get stored bin sequences for each factor type.</p><p><strong>Arguments</strong></p><ul><li><code>model_spec</code> : Model specification, as extracted by <code>ADRIA.model_spec(domain)</code> or from a <code>ResultSet</code></li><li><code>unordered_cat</code> : Factors considered for sensitivity analysis of unordered categorical type.</li><li><code>S</code> : Number of bins.</li></ul><p><strong>Returns</strong></p><p>A dictionary containing bin sequences for each factor</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L124-L136">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity._foi_data_stores-Tuple{Dict{Symbol, Vector{Float64}}, DataFrames.DataFrame, Vector{Symbol}, NamedTuple}" href="#ADRIA.sensitivity._foi_data_stores-Tuple{Dict{Symbol, Vector{Float64}}, DataFrames.DataFrame, Vector{Symbol}, NamedTuple}"><code>ADRIA.sensitivity._foi_data_stores</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_foi_data_stores(
    seq_store::Dict{Symbol,Vector{Float64}},
    m_spec::DataFrame,
    unordered_cat::Vector{Symbol};
    second_dim::NamedTuple
)::Dataset</code></pre><p>Generate data stores of correct size for each factor of interest.</p><p><strong>Arguments</strong></p><ul><li><code>seq_store</code> : Dictionary for storing bin sequences (created by <code>_create_seq_store</code>)</li><li><code>m_spec</code> : Model specification</li><li><code>unordered_cat</code> : List of unordered categorical variables.</li><li><code>second_dim</code> : second storage dimension (e.g. (CI=[&quot;mean&quot;,&quot;lower&quot;,&quot;upper&quot;], ))</li></ul><p><strong>Returns</strong></p><p>Dataset containing storage for sensitivity ranges for each factor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L157-L175">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity._get_cat_quantile-Tuple{DataFrames.DataFrame, Symbol, AbstractVector{Float64}}" href="#ADRIA.sensitivity._get_cat_quantile-Tuple{DataFrames.DataFrame, Symbol, AbstractVector{Float64}}"><code>ADRIA.sensitivity._get_cat_quantile</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_get_cat_quantile(foi_spec::DataFrame, factor_name::Symbol, steps::Vector{Float64})::Vector{Float64}</code></pre><p>Get quantiles for a given categorical variable.</p><p><strong>Arguments</strong></p><ul><li><code>foi_spec</code> : Model specification for factors of interest</li><li><code>factor_name</code> : Contains true where the factor is categorical and false otherwise</li><li><code>steps</code> : Number of steps for defining bins</li></ul><p><strong>Returns</strong></p><p>Quantile for a categorical factor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L65-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity._get_factor_quantile-Tuple{Dict{Symbol, Vector{Float64}}, DataFrames.DataFrame, Vector{Float64}, Symbol}" href="#ADRIA.sensitivity._get_factor_quantile-Tuple{Dict{Symbol, Vector{Float64}}, DataFrames.DataFrame, Vector{Float64}, Symbol}"><code>ADRIA.sensitivity._get_factor_quantile</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_get_factor_quantile(seq_store::Dict{Symbol,Vector{Float64}}, foi_spec::DataFrame, fact_t::Symbol)</code></pre><p>Checks the type of the factor to calculate its quantile.</p><p><strong>Arguments</strong></p><ul><li><code>seq_store</code> : storage containing bin sequences for factors considered</li><li><code>foi_spec</code> : Model specification for factors of interest</li><li><code>X_f</code> : Scenario dataframe for factor of interest</li><li><code>factor_name</code> : Contains true where the factor is categorical and false otherwise</li></ul><p><strong>Returns</strong></p><p>Quantile for factor <code>fact_t</code>, given bin sequences in <code>seq_store</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L88-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity._get_factor_spec-Tuple{DataFrames.DataFrame, Vector{Symbol}}" href="#ADRIA.sensitivity._get_factor_spec-Tuple{DataFrames.DataFrame, Vector{Symbol}}"><code>ADRIA.sensitivity._get_factor_spec</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_get_factor_spec(model_spec::DataFrame, factors::Vector{Symbol})::DataFrame</code></pre><p>Get model spec for specified factors.</p><p><strong>Arguments</strong></p><ul><li><code>model_spec</code> : Model specification, as extracted by <code>ADRIA.model_spec(domain)</code> or from a <code>ResultSet</code></li><li><code>factors</code> : Factors considered for sensitivity analysis</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L34-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity._map_outcomes-Tuple{AbstractVecOrMat{&lt;:Real}, Union{BitVector, Vector{Int64}}}" href="#ADRIA.sensitivity._map_outcomes-Tuple{AbstractVecOrMat{&lt;:Real}, Union{BitVector, Vector{Int64}}}"><code>ADRIA.sensitivity._map_outcomes</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_map_outcomes(y::AbstractVecOrMat{&lt;:Real}, rule::Union{BitVector,Vector{Int64}})::Union{BitVector,Vector{Int64}}
_map_outcomes(y::AbstractVecOrMat{&lt;:Real}, rule::Function)::Vector{Int64}</code></pre><p>Apply rule to create mapping between <span>$X$</span> (model inputs/parameters/factors) and <span>$y$</span> (model outcomes).</p><p><strong>Note</strong></p><p>Where the rule is a vector indicating true/false, the <code>y</code> argument is ignored. The function accepts the <code>y</code> argument simply to maintain compatibility so the same method name can be applied.</p><p><strong>Arguments</strong></p><ul><li><code>y</code> : Model outputs/outcomes</li><li><code>rule</code> : BitVector, or Function that returns a BitVector, indicating outcomes that meet          some desired threshold/behavior.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L947-L963">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity.convergence-Tuple{DataFrames.DataFrame, YAXArrays.Cubes.YAXArray, Vector{Symbol}}" href="#ADRIA.sensitivity.convergence-Tuple{DataFrames.DataFrame, YAXArrays.Cubes.YAXArray, Vector{Symbol}}"><code>ADRIA.sensitivity.convergence</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convergence(X::DataFrame, y::YAXArray, target_factors::Vector{Symbol}; n_steps::Int64=10)::YAXArray
convergence(rs::ResultSet, X::DataFrame, y::YAXArray, components::Vector{String}; n_steps::Int64=10)::YAXArray</code></pre><p>Calculates the PAWN sensitivity index for an increasing number of scenarios where the maximum is the total number of scenarios in scens. Number of scenario subsets determined by N_steps. Can be calculated for individual factors or aggregated over factors for specified model components.</p><p><strong>Arguments</strong></p><ul><li><code>rs</code> : Result set (only needed if aggregating over model components).</li><li><code>X</code> : Model inputs</li><li><code>y</code> : Model outputs</li><li><code>target_factors</code> : Names of target factors represented by columns in <code>X</code>.</li><li><code>components</code> : Names of model components to aggregate over (e.g. [:Intervention, :Criteria]).</li><li><code>n_steps</code> : Number of steps to cut the total number of scenarios into.</li></ul><p><strong>Returns</strong></p><p>YAXArray, of min, lower bound, mean, median, upper bound, max, std, and cv summary statistics for an increasing number of scenarios.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L398-L418">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity.ks_statistic-Tuple{HypothesisTests.ApproximateKSTest}" href="#ADRIA.sensitivity.ks_statistic-Tuple{HypothesisTests.ApproximateKSTest}"><code>ADRIA.sensitivity.ks_statistic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ks_statistic(ks)</code></pre><p>Calculate the Kolmogorov-Smirnov test statistic.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L23-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity.outcome_map-Tuple{YAXArrays.Cubes.YAXArray, AbstractArray, AbstractArray, AbstractVecOrMat{&lt;:Real}, BitVector}" href="#ADRIA.sensitivity.outcome_map-Tuple{YAXArrays.Cubes.YAXArray, AbstractArray, AbstractArray, AbstractVecOrMat{&lt;:Real}, BitVector}"><code>ADRIA.sensitivity.outcome_map</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">outcome_map(p::YAXArray, X_q::AbstractArray, X_f::AbstractArray, y::AbstractVecOrMat{&lt;:Real}, behave::BitVector; n_boot::Int64=100, conf::Float64=0.95)::YAXArray
outcome_map(X::DataFrame, y::AbstractVecOrMat{&lt;:Real}, rule::Union{Function,BitVector,Vector{Int64}}, target_factors::Vector{Symbol}, model_spec::DataFrame; S::Int64=10, n_boot::Int64=100, conf::Float64=0.95)::Dataset
outcome_map(X::DataFrame, y::AbstractVecOrMat{&lt;:Real}, rule::Union{Function,BitVector,Vector{Int64}}, target_factor::Symbol, model_spec::DataFrame; S::Int64=20, n_boot::Int64=100, conf::Float64=0.95)::YAXArray
outcome_map(X::DataFrame, y::AbstractVector{T}, rule::Union{Function,BitVector,Vector{Int64}}; S::Int64=20, n_boot::Int64=100, conf::Float64=0.95)::Dataset where {T&lt;:Real}
outcome_map(rs::ResultSet, y::AbstractVector{T}, rule::Union{Function,BitVector,Vector{Int64}}, target_factors::Vector{Symbol}; S::Int64=20, n_boot::Int64=100, conf::Float64=0.95)::Dataset where {T&lt;:Real}
outcome_map(rs::ResultSet, y::AbstractVector{T}, rule::Union{Function,BitVector,Vector{Int64}}, target_factor::Symbol; S::Int64=20, n_boot::Int64=100, conf::Float64=0.95)::YAXArray where {T&lt;:Real}
outcome_map(rs::ResultSet, y::AbstractVector{T}, rule::Union{Function,BitVector,Vector{Int64}}; S::Int64=20, n_boot::Int64=100, conf::Float64=0.95)::Dataset where {T&lt;:Real}</code></pre><p>Map normalized outcomes (defined by <code>rule</code>) to factor values discretized into <code>S</code> bins.</p><p>Produces a matrix indicating the range of (normalized) outcomes across factor space for each dimension (the model inputs). This is similar to a Regional Sensitivity Analysis, except that the model outputs are examined directly as opposed to a measure of sensitivity.</p><p>Note:</p><ul><li><code>y</code> is normalized on a per-column basis prior to the analysis</li><li>Empty areas of factor space (those that do not have any desired outcomes) will be assigned <code>NaN</code></li></ul><p><strong>Arguments</strong></p><ul><li><code>X</code> : scenario specification</li><li><code>y</code> : Vector or Matrix of outcomes corresponding to scenarios in <code>X</code></li><li><code>rule</code> : a callable defining a &quot;desirable&quot; scenario outcome</li><li><code>target_factors</code> : list of factors of interest to perform analyses on</li><li><code>S</code> : number of slices of factor space. Higher values equate to finer granularity</li><li><code>n_boot</code> : number of bootstraps (default: 100)</li><li><code>conf</code> : confidence interval (default: 0.95)</li></ul><p><strong>Returns</strong></p><p>3-dimensional YAXArray, of shape <span>$S$</span> ⋅ <span>$D$</span> ⋅ 3, where:</p><ul><li><p class="math-container">\[S\]</p>is the slices,</li><li><p class="math-container">\[D\]</p>is the number of dimensions, with</li><li>boostrapped mean (dim 1) and the lower/upper 95% confidence interval (dims 2 and 3).</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Get metric of interest
mu_tac = vec(mean(ADRIA.metrics.scenario_total_cover(rs), dims=:timesteps))

# Factors of interest
foi = [:SRM, :fogging, :a_adapt]

# Find scenarios where all metrics are above their median
rule = y -&gt; all(y .&gt; 0.5)

# Map input values where to their outcomes
ADRIA.sensitivity.outcome_map(X, y, rule, foi; S=20, n_boot=100, conf=0.95)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L727-L776">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity.pawn-Tuple{AbstractMatrix{&lt;:Real}, AbstractVector{&lt;:Real}, Vector{String}}" href="#ADRIA.sensitivity.pawn-Tuple{AbstractMatrix{&lt;:Real}, AbstractVector{&lt;:Real}, Vector{String}}"><code>ADRIA.sensitivity.pawn</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pawn(rs::ResultSet, y::Union{NamedDimsArray,AbstractVector{&lt;:Real}}; S::Int64=10)::NamedDimsArray
pawn(X::AbstractMatrix{&lt;:Real}, y::AbstractVector{&lt;:Real}, factor_names::Vector{String}; S::Int64=10)::NamedDimsArray
pawn(X::DataFrame, y::AbstractVector{&lt;:Real}; S::Int64=10)::NamedDimsArray
pawn(X::NamedDimsArray, y::Union{NamedDimsArray,AbstractVector{&lt;:Real}}; S::Int64=10)::NamedDimsArray
pawn(X::Union{DataFrame,AbstractMatrix{&lt;:Real}}, y::AbstractMatrix{&lt;:Real}; S::Int64=10)::NamedDimsArray</code></pre><p>Calculates the PAWN sensitivity index.</p><p>The PAWN method (by Pianosi and Wagener) is a moment-independent approach to Global Sensitivity Analysis. Outputs are characterized by their Cumulative Distribution Function (CDF), quantifying the variation in the output distribution after conditioning an input over &quot;slices&quot; (<span>$S$</span>) - the conditioning intervals. If both distributions coincide at all slices (i.e., the distributions are similar or identical), then the factor is deemed non-influential.</p><p>This implementation applies the Kolmogorov-Smirnov test as the distance measure and returns summary statistics (min, lower bound, mean, median, upper bound, max, std, and cv) over the slices.</p><p><strong>Arguments</strong></p><ul><li><code>rs</code> : ResultSet</li><li><code>X</code> : Model inputs</li><li><code>y</code> : Model outputs</li><li><code>factor_names</code> : Names of each factor represented by columns in <code>X</code></li><li><code>S</code> : Number of slides (default: 10)</li></ul><p><strong>Returns</strong></p><p>YAXArray, of min, mean, lower bound, median, upper bound, max, std, and cv summary statistics.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">dom = ADRIA.load_domain(&quot;example_domain&quot;)
scens = ADRIA.sample(dom, 128)
rs = ADRIA.run_scenarios(dom, scens, &quot;45&quot;)

# Get mean coral cover over time and locations
μ_tac = mean(ADRIA.metrics.scenario_total_cover(rs), dims=:timesteps)

ADRIA.sensitivity.pawn(rs, μ_tac)</code></pre><p><strong>References</strong></p><ol><li><p>Pianosi, F., Wagener, T., 2018. Distribution-based sensitivity analysis from a generic input-output sample. Environmental Modelling &amp; Software 108, 197-207. https://doi.org/10.1016/j.envsoft.2018.07.019</p></li><li><p>Baroni, G., Francke, T., 2020. GSA-cvd Combining variance- and distribution-based global sensitivity analysis https://github.com/baronig/GSA-cvd</p></li><li><p>Puy, A., Lo Piano, S., &amp; Saltelli, A. 2020. A sensitivity analysis of the PAWN sensitivity index. Environmental Modelling &amp; Software, 127, 104679. https://doi.org/10.1016/j.envsoft.2020.104679</p></li><li><p>https://github.com/SAFEtoolbox/Miscellaneous/blob/main/Review<em>of</em>Puy_2020.pdf</p></li></ol><p><strong>Extended help</strong></p><p>Pianosi and Wagener have made public their review responding to a critique of their method by Puy et al., (2020). A key criticism by Puy et al. was that the PAWN method is sensitive to its tuning parameters and thus may produce biased results. The tuning parameters referred to are the number of samples (<span>$N$</span>) and the number of conditioning points - <span>$n$</span> in Puy et al., but denoted as <span>$S$</span> here.</p><p>Puy et al., found that the ratio of <span>$N$</span> (number of samples) to <span>$S$</span> has to be sufficiently high (<span>$N/S &gt; 80$</span>) to avoid biased results. Pianosi and Wagener point out this requirement is not particularly difficult to meet. Using the recommended value (<span>$S := 10$</span>), a sample of 1024 runs (small for purposes of Global Sensitivity Analysis) meets this requirement (<span>$1024/10 = 102.4$</span>). Additionally, lower values of <span>$N/S$</span> is more an indication of faulty experimental design moreso than any deficiency of the PAWN method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L220-L292">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity.rsa-Union{Tuple{T}, Tuple{DataFrames.DataFrame, AbstractVector{T}, DataFrames.DataFrame}} where T&lt;:Real" href="#ADRIA.sensitivity.rsa-Union{Tuple{T}, Tuple{DataFrames.DataFrame, AbstractVector{T}, DataFrames.DataFrame}} where T&lt;:Real"><code>ADRIA.sensitivity.rsa</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rsa(X::DataFrame, y::AbstractVector{&lt;:Real}, model_spec::DataFrame; S::Int64=10)::Dataset
rsa(r_s::YAXArray, X_q::AbstractArray, X_i::AbstractArray, y::AbstractVecOrMat{&lt;:Real}, sel::BitVector)::YAXArray
rsa(X::Vector{Float64}, y::AbstractVector{&lt;:Real}, foi_spec::DataFrame; S::Int64=10)::YAXArray
rsa(rs::ResultSet, y::AbstractVector{T}; S::Int64=10)::Dataset where {T&lt;:Real}
rsa(rs::ResultSet, y::AbstractVector{T}, factors::Vector{Symbol}; S::Int64=10)::Dataset where {T&lt;:Real}
rsa(rs::ResultSet, y::AbstractVector{T}, factor::Symbol; S::Int64=10)::YAXArray where {T&lt;:Real}</code></pre><p>Perform Regional Sensitivity Analysis.</p><p>Regional Sensitivity Analysis is a Monte Carlo Filtering approach which aims to identify which (group of) factors drive model outputs within or outside of a specified bound. Outputs which fall inside the bounds are regarded as &quot;behavioral&quot;, whereas those outside are &quot;non-behavioral&quot;. The distribution of behavioral/non-behavioral subsets are compared for each factor. If the subsets are not similar, then the factor is influential. The sensitivity index is simply the maximum distance between the two distributions, with larger values indicating greater sensitivity.</p><p>The implemented approach slices factor space into <span>$S$</span> bins and iteratively assesses behavioral (samples within the bin) and non-behavioral (out of bin samples) subsets with the non-parametric <span>$k$</span>-sample Anderson-Darling test. Larger values indicate greater dissimilarity (thus, sensitivity). The Anderson-Darling test places more weight on the tails compared to the Kolmogorov-Smirnov test.</p><p>RSA can indicate where in factor space model sensitivities may be, and contributes to a Value-of-Information (VoI) analysis.</p><p>Increasing the value of <span>$S$</span> increases the granularity of the analysis, but necessitates larger sample sizes.</p><p>Note: Values of type <code>missing</code> indicate a lack of samples in the region.</p><p><strong>Arguments</strong></p><ul><li><code>rs</code> : ResultSet</li><li><code>X</code> : scenario specification</li><li><code>y</code> : scenario outcomes</li><li><code>model_spec</code> : Model specification, as extracted by <code>ADRIA.model_spec(domain)</code> or from a <code>ResultSet</code></li><li><code>factors</code> : Specific model factors to examine</li><li><code>S</code> : number of bins to slice factor space into (default: 10)</li></ul><p><strong>Returns</strong></p><p>Dataset</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">ADRIA.sensitivity.rsa(X, y; S=10)</code></pre><p><strong>References</strong></p><ol><li><p>Pianosi, F., K. Beven, J. Freer, J. W. Hall, J. Rougier, D. B. Stephenson, and T. Wagener. 2016. Sensitivity analysis of environmental models: A systematic review with practical workflow. Environmental Modelling &amp; Software 79:214-232. https://dx.doi.org/10.1016/j.envsoft.2016.02.008</p></li><li><p>Saltelli, A., M. Ratto, T. Andres, F. Campolongo, J. Cariboni, D. Gatelli, M. Saisana, and S. Tarantola. 2008. Global Sensitivity Analysis: The Primer. Wiley, West Sussex, U.K. https://dx.doi.org/10.1002/9780470725184 Accessible at: http://www.andreasaltelli.eu/file/repository/Primer<em>Corrected</em>2022.pdf</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L543-L605">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.sensitivity.tsa-Tuple{DataFrames.DataFrame, AbstractMatrix{&lt;:Real}}" href="#ADRIA.sensitivity.tsa-Tuple{DataFrames.DataFrame, AbstractMatrix{&lt;:Real}}"><code>ADRIA.sensitivity.tsa</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">tsa(X::DataFrame, y::AbstractMatrix)::YAXArray</code></pre><p>Perform Temporal (or time-varying) Sensitivity Analysis using the PAWN sensitivity index.</p><p>The sensitivity index value for time <span>$t$</span> is inclusive of all time steps prior to <span>$t$</span>. Alternate approaches use a moving window, or only data for time <span>$t$</span>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">rs = ADRIA.load_results(&quot;a ResultSet of interest&quot;)

# Get scenario outcomes over time (shape: `time ⋅ scenarios`)
y_tac = ADRIA.metrics.scenario_total_cover(rs)

# Calculate sensitivity of outcome to factors for each time step
ADRIA.sensitivity.tsa(rs.inputs, y_tac)</code></pre><p><strong>Arguments</strong></p><ul><li><code>X</code> : Scenario specification</li><li><code>y</code> : scenario outcomes over time</li></ul><p><strong>Returns</strong></p><p>YAXArray, of shape <span>$D$</span> ⋅ 6 ⋅ <span>$T$</span>, where</p><ul><li><p class="math-container">\[D\]</p>is the number of dimensions/factors</li><li>6 corresponds to the min, mean, median, max, std, and cv of the PAWN indices</li><li><p class="math-container">\[T\]</p>is the number of time steps</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/analysis/sensitivity.jl#L483-L511">source</a></section></article><h2 id="General-API"><a class="docs-heading-anchor" href="#General-API">General API</a><a id="General-API-1"></a><a class="docs-heading-anchor-permalink" href="#General-API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.bin_edges-Tuple{}" href="#ADRIA.bin_edges-Tuple{}"><code>ADRIA.bin_edges</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bin_edges()</code></pre><p>Helper function defining coral colony diameter bin edges. The values are converted from <code>cm</code> to the desired unit. The default unit is <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/ecosystem/corals/coral_factors.jl#L134-L139">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.coral_spec-Tuple{}" href="#ADRIA.coral_spec-Tuple{}"><code>ADRIA.coral_spec</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">coral_spec()</code></pre><p>Template for coral parameter values for ADRIA. Includes &quot;vital&quot; bio/ecological parameters, to be filled with sampled or user-specified values.</p><p>Any parameter added to the <code>params</code> DataFrame defined here will automatically be made available to the ADRIA model.</p><p>Notes: Values for the historical, temporal patterns of degree heating weeks between bleaching years come from [1].</p><p><strong>Returns</strong></p><ul><li><code>params</code> : NamedTuple[taxa<em>names, param</em>names, params], taxa names, parameter            names, and parameter values for each coral taxa, group and size class</li></ul><p><strong>References</strong></p><ol><li><p>Lough, J. M., Anderson, K. D., &amp; Hughes, T. P. (2018).  Increasing thermal stress for tropical coral reefs: 1871-2017.  Scientific Reports, 8(1), 6079.  https://doi.org/10.1038/s41598-018-24530-9</p></li><li><p>Hall, V.R. &amp; Hughes, T.P. 1996. Reproductive strategies of modular organisms:   comparative studies of reef-building corals. Ecology, 77: 950 - 963. https://dx.doi.org/10.2307/2265514</p></li><li><p>Bozec, Y.-M., Rowell, D., Harrison, L., Gaskell, J., Hock, K.,  Callaghan, D., Gorton, R., Kovacs, E. M., Lyons, M., Mumby, P.,  &amp; Roelfsema, C. (2021). Baseline mapping to support reef restoration and   resilience-based management in the Whitsundays. https://doi.org/10.13140/RG.2.2.26976.20482</p></li><li><p>Bozec, Y.-M., Hock, K., Mason, R. A. B., Baird, M. E., Castro-Sanguino, C.,  Condie, S. A., Puotinen, M., Thompson, A., &amp; Mumby, P. J. (2022). Cumulative impacts across Australia&#39;s Great Barrier Reef: A mechanistic evaluation. Ecological Monographs, 92(1), e01494. https://doi.org/10.1002/ecm.1494</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/ecosystem/corals/Corals.jl#L84-L126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.create_coral_struct" href="#ADRIA.create_coral_struct"><code>ADRIA.create_coral_struct</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_coral_struct(bounds=(0.9, 1.1))</code></pre><p>Generates Coral struct using the default parameter spec.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Define coral struct with auto-generated parameter ranges
# (default in ADRIA is ± 10%, triangular distribution with peak at 0.5)
create_coral_struct()
coral = Coral()

# Recreate coral spec ± 50% from nominal values
create_coral_struct((0.5, 1.5))
coral = Coral()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/ecosystem/corals/Corals.jl#L285-L301">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.env_stats-Tuple{ADRIA.ResultSet, String, String}" href="#ADRIA.env_stats-Tuple{ADRIA.ResultSet, String, String}"><code>ADRIA.env_stats</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">env_stats(rs::ResultSet, s_name::String, rcp::String)
env_stats(rs::ResultSet, s_name::String, rcp::String, scenario::Int)
env_stats(rs::ResultSet, s_name::String, stat::String, rcp::String, scenario::Int)</code></pre><p>Extract statistics for a given environmental layer (&quot;DHW&quot; or &quot;wave&quot;)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/io/ResultSet.jl#L298-L304">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.growthODE-Tuple{Matrix{Float64}, Matrix{Float64}, NamedTuple, Real}" href="#ADRIA.growthODE-Tuple{Matrix{Float64}, Matrix{Float64}, NamedTuple, Real}"><code>ADRIA.growthODE</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">growthODE(du, X, p, _)</code></pre><p>Base coral growth function.</p><p>Proportion of corals within a size class are modeled to transition to the next size class up. Assumes colony sizes are evenly distributed within each size bin. Transitions are a ratio of the change in colony size to the width of the bin. See <code>coral_spec()</code> for further detail.</p><p>Note that recruitment pertains to coral groups (<span>$n = 6$</span>) and represents the contribution to the cover of the smallest size class within each group.  While growth and mortality metrics pertain to groups (6) as well as size classes (6) across all sites (total of 36 by <span>$n_locs$</span>), recruitment is a 6 by <span>$n_locs$</span> array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/ecosystem/corals/growth.jl#L106-L121">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.loc_area-Tuple{ADRIA.ResultSet}" href="#ADRIA.loc_area-Tuple{ADRIA.ResultSet}"><code>ADRIA.loc_area</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loc_area(rs::ResultSet)::Vector{Float64}</code></pre><p>Extract vector of a location&#39;s total area in its areal unit (m², km², etc).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/io/ResultSet.jl#L406-L410">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.loc_area-Tuple{Domain}" href="#ADRIA.loc_area-Tuple{Domain}"><code>ADRIA.loc_area</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loc_area(domain::Domain)::Vector{Float64}</code></pre><p>Get site area for the given domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/Domain.jl#L318-L322">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.loc_coral_cover-Tuple{AbstractArray{Float64, 3}}" href="#ADRIA.loc_coral_cover-Tuple{AbstractArray{Float64, 3}}"><code>ADRIA.loc_coral_cover</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loc_coral_cover(C_cover_t::Array{Float64,3})::Vector{Float64}</code></pre><p>Sum coral cover across all functional groups and size classes of a single timestep for each location.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/Domain.jl#L365-L369">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.loc_k_area-Tuple{ADRIA.ResultSet}" href="#ADRIA.loc_k_area-Tuple{ADRIA.ResultSet}"><code>ADRIA.loc_k_area</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loc_k_area(rs::ResultSet)::Vector{Float64}</code></pre><p>Extract vector of a location&#39;s coral carrying capacity in terms of absolute area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/io/ResultSet.jl#L387-L391">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.loc_k_area-Tuple{Domain}" href="#ADRIA.loc_k_area-Tuple{Domain}"><code>ADRIA.loc_k_area</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loc_k_area(domain::Domain)::Vector{Float64}</code></pre><p>Get maximum coral cover area for the given domain in absolute area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/Domain.jl#L329-L333">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.loc_recruits_cover-Tuple{Matrix{Float64}}" href="#ADRIA.loc_recruits_cover-Tuple{Matrix{Float64}}"><code>ADRIA.loc_recruits_cover</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loc_recruits_cover(recruits::Matrix{Float64})::Vector{Float64}</code></pre><p>Absolute cover of recruits on each location.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/Domain.jl#L374-L378">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.run_scenario-Tuple{Domain, Int64, Union{DataFrames.DataFrameRow, AbstractVector}, Vector{Vector{CoralBlox.FunctionalGroup}}, NamedTuple}" href="#ADRIA.run_scenario-Tuple{Domain, Int64, Union{DataFrames.DataFrameRow, AbstractVector}, Vector{Vector{CoralBlox.FunctionalGroup}}, NamedTuple}"><code>ADRIA.run_scenario</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run_scenario(domain::Domain, idx::Int64, scenario::Union{AbstractVector,DataFrameRow}, functional_groups::Vector{Vector{FunctionalGroup}}, data_store::NamedTuple)::Nothing
run_scenario(domain::Domain, scenario::Union{AbstractVector,DataFrameRow})::NamedTuple
run_scenario(domain::Domain, scenario::Union{AbstractVector,DataFrameRow}, RCP::String)::NamedTuple</code></pre><p>Run individual scenarios for a given domain, saving results to a Zarr data store. Results are stored in Zarr format at a pre-configured location. Sets up a new <code>cache</code> if not provided.</p><p><strong>Arguments</strong></p><ul><li><code>domain</code> : Domain</li><li><code>idx</code> : Scenario index</li></ul><p><strong>Returns</strong></p><p>Nothing</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/scenario.jl#L282-L297">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.select-Tuple{ADRIA.ResultSet, String}" href="#ADRIA.select-Tuple{ADRIA.ResultSet, String}"><code>ADRIA.select</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">select(r::ResultSet, op::String)</code></pre><p>Hacky scenario filtering - to be replaced with more robust approach.</p><p>Only supports filtering by single attribute. Should be expanded to support filtering metric results too.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">select(result, &quot;guided .&gt; 0.0&quot;)

# Above expands to:
# result.inputs.guided .&gt; 0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/io/ResultSet.jl#L345-L360">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.timesteps-Tuple{ADRIA.ResultSet}" href="#ADRIA.timesteps-Tuple{ADRIA.ResultSet}"><code>ADRIA.timesteps</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">timesteps(rs::ResultSet)</code></pre><p>Retrieve the time steps represented in the result set.</p><p><strong>Arguments</strong></p><ul><li><code>rs</code> : ResultSet</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/io/ResultSet.jl#L372-L379">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.timesteps-Tuple{Domain}" href="#ADRIA.timesteps-Tuple{Domain}"><code>ADRIA.timesteps</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Extract the time steps represented in the data package.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/Domain.jl#L392">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.ADRIADomain" href="#ADRIA.ADRIADomain"><code>ADRIA.ADRIADomain</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ADRIADomain{Σ,M,I,D,X,Y,Z}</code></pre><p>Core ADRIA domain. Represents study area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/ExtInterface/ADRIA/Domain.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.Domain-Tuple{String, String, String, Vector, Vararg{String, 8}}" href="#ADRIA.Domain-Tuple{String, String, String, Vector, Vararg{String, 8}}"><code>ADRIA.Domain</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Domain(name::String, rcp::String, timeframe::Vector, location_data_fn::String, location_id_col::String, cluster_id_col::String, init_coral_fn::String, conn_path::String, dhw_fn::String, wave_fn::String, cyclone_mortality_fn::String)::Domain</code></pre><p>Convenience constructor for Domain.</p><p><strong>Arguments</strong></p><ul><li><code>name</code> : Name of domain</li><li><code>dpkg_path</code> : location of data package</li><li><code>rcp</code> : RCP scenario represented</li><li><code>timeframe</code> : Time steps represented</li><li><code>location_data_fn</code> : File name of spatial data used</li><li><code>location_id_col</code> : Column holding name of reef the location is associated with (non-unique)</li><li><code>cluster_id_col</code> : Column holding unique cluster names/ids</li><li><code>init_coral_fn</code> : Name of file holding initial coral cover values</li><li><code>conn_path</code> : Path to directory holding connectivity data</li><li><code>dhw_fn</code> : Filename of DHW data cube in use</li><li><code>wave_fn</code> : Filename of wave data cube</li><li><code>cyclone_mortality_fn</code> : Filename of cyclone mortality data cube</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/ExtInterface/ADRIA/Domain.jl#L92-L110">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.Domain-Union{Tuple{T}, Tuple{String, String, ADRIA.EnvLayer, YAXArrays.Cubes.YAXArray{T, N, A} where {N, A&lt;:AbstractArray{T, N}}, DataFrames.DataFrame, String, String, YAXArrays.Cubes.YAXArray, ADRIA.CoralGrowth, Vector{String}, Vector{String}, YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}} where T&lt;:Union{Float32, Float64}" href="#ADRIA.Domain-Union{Tuple{T}, Tuple{String, String, ADRIA.EnvLayer, YAXArrays.Cubes.YAXArray{T, N, A} where {N, A&lt;:AbstractArray{T, N}}, DataFrames.DataFrame, String, String, YAXArrays.Cubes.YAXArray, ADRIA.CoralGrowth, Vector{String}, Vector{String}, YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}} where T&lt;:Union{Float32, Float64}"><code>ADRIA.Domain</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Barrier function to create Domain struct without specifying Intervention/Criteria/Coral/SimConstant parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/ExtInterface/ADRIA/Domain.jl#L37-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIA.SimConstants" href="#ADRIA.SimConstants"><code>ADRIA.SimConstants</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SimConstants</code></pre><p>Struct of simulation constants for ADRIA</p><p><strong>References</strong></p><ol><li><p>Lough, J. M., Anderson, K. D., &amp; Hughes, T. P. (2018). Increasing thermal stress for tropical coral reefs: 1871-2017. Scientific Reports, 8(1), 6079. https://doi.org/10.1038/s41598-018-24530-9</p></li><li><p>Hughes, T. P., Kerry, J. T., Baird, A. H., Connolly, S. R.,   Dietzel, A., Eakin, C. M., Heron, S. F., Hoey, A. S.,   Hoogenboom, M. O., Liu, G., McWilliam, M. J., Pears, R. J.,   Pratchett, M. S., Skirving, W. J., Stella, J. S., &amp; Torda, G. (2018). Global warming transforms coral reef assemblages. Nature, 556(7702), 492-496. https://doi.org/10.1038/s41586-018-0041-2</p></li><li><p>Bozec, Y.-M., Rowell, D., Harrison, L., Gaskell, J., Hock, K.,   Callaghan, D., Gorton, R., Kovacs, E. M., Lyons, M., Mumby, P.,   &amp; Roelfsema, C. (2021). Baseline mapping to support reef restoration and   resilience-based management in the Whitsundays. https://doi.org/10.13140/RG.2.2.26976.20482</p></li><li><p>Bozec, Y.-M., Hock, K., Mason, R. A. B., Baird, M. E., Castro-Sanguino, C.,   Condie, S. A., Puotinen, M., Thompson, A., &amp; Mumby, P. J. (2022). Cumulative impacts across Australia&#39;s Great Barrier Reef: A mechanistic evaluation. Ecological Monographs, 92(1), e01494. https://doi.org/10.1002/ecm.1494</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/504c9653f032d352543b30610d49c1f19043fe15/src/factors/const_params.jl#L1-L32">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../development/building_docs/">« Building Documentation</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Friday 24 October 2025 00:01">Friday 24 October 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
