<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ADRIA API · ADRIA Documentation</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="ADRIA Documentation logo"/></a><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">ADRIA.jl Documentation</a></li><li><a class="tocitem" href="../synopsis/">Synopsis</a></li><li><a class="tocitem" href="../dMCDA/">Dynamic Multi-Criteria Decision Analysis</a></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../development/development_setup/">Development setup</a></li><li><a class="tocitem" href="../development/architecture/">ADRIA Architecture</a></li><li><a class="tocitem" href="../development/release_guide/">Release Guide</a></li><li><a class="tocitem" href="../development/building_docs/">Building Documentation</a></li></ul></li><li class="is-active"><a class="tocitem" href>ADRIA API</a><ul class="internal"><li><a class="tocitem" href="#Metrics"><span>Metrics</span></a></li><li><a class="tocitem" href="#Performance-indicators"><span>Performance indicators</span></a></li><li><a class="tocitem" href="#Sensitivity"><span>Sensitivity</span></a></li><li><a class="tocitem" href="#General-API"><span>General API</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>ADRIA API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ADRIA API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/open-AIMS/ADRIA.jl/blob/main/docs/src/API.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ADRIA-API"><a class="docs-heading-anchor" href="#ADRIA-API">ADRIA API</a><a id="ADRIA-API-1"></a><a class="docs-heading-anchor-permalink" href="#ADRIA-API" title="Permalink"></a></h1><h2 id="Metrics"><a class="docs-heading-anchor" href="#Metrics">Metrics</a><a id="Metrics-1"></a><a class="docs-heading-anchor-permalink" href="#Metrics" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._absolute_juveniles-Tuple{AbstractArray{&lt;:Real}, AbstractVector{&lt;:Real}}" href="#ADRIA.metrics._absolute_juveniles-Tuple{AbstractArray{&lt;:Real}, AbstractVector{&lt;:Real}}"><code>ADRIA.metrics._absolute_juveniles</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_absolute_juveniles(X::AbstractArray{&lt;:Real})::AbstractArray{&lt;:Real}
_absolute_juveniles(rs::ResultSet)::AbstractArray{&lt;:Real}</code></pre><p>Juvenile coral cover in m^2.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L247-L252">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._absolute_shelter_volume-Tuple{AbstractArray{&lt;:Real, 4}, Vector{&lt;:Real}, DataFrames.DataFrame}" href="#ADRIA.metrics._absolute_shelter_volume-Tuple{AbstractArray{&lt;:Real, 4}, Vector{&lt;:Real}, DataFrames.DataFrame}"><code>ADRIA.metrics._absolute_shelter_volume</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_absolute_shelter_volume(X::NamedDimsArray, site_area::Vector{&lt;:Real}, inputs::Union{DataFrame,DataFrameRow})
_absolute_shelter_volume(rs::ResultSet)</code></pre><p>Provide indication of shelter volume in volume of cubic meters.</p><p>The metric applies log-log linear models developed by Urbina-Barreto et al., [1] which uses colony diameter and planar area (2D metrics) to estimate shelter volume (a 3D metric).</p><p><strong>Arguments</strong></p><ul><li>X : raw results</li><li>site_area : area in m^2 for each site</li><li>max<em>cover : maximum possible coral cover for each site (in percentage of site</em>area)</li><li>inputs : DataFrame of scenario inputs</li></ul><p><strong>References</strong></p><ol><li>Urbina-Barreto, I., Chiroleu, F., Pinel, R., Fréchon, L., Mahamadaly, V.,   Elise, S., Kulbicki, M., Quod, J.-P., Dutrieux, E., Garnier, R.,   Henrich Bruggemann, J., Penin, L., &amp; Adjeroud, M. (2021). Quantifying the shelter capacity of coral reefs using photogrammetric   3D modeling: From colonies to reefscapes. Ecological Indicators, 121, 107151. https://doi.org/10.1016/j.ecolind.2020.107151</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L478-L503">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._collate_ranks-Tuple{Any, Any}" href="#ADRIA.metrics._collate_ranks-Tuple{Any, Any}"><code>ADRIA.metrics._collate_ranks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_collate_ranks(rs, selected)</code></pre><p>Collates ranks into seed/shade ranking results into a common structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/ranks.jl#L13-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._colony_Lcm2_to_m3m2-Tuple{Union{DataFrames.DataFrame, DataFrames.DataFrameRow}}" href="#ADRIA.metrics._colony_Lcm2_to_m3m2-Tuple{Union{DataFrames.DataFrame, DataFrames.DataFrameRow}}"><code>ADRIA.metrics._colony_Lcm2_to_m3m2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_colony_Lcm2_to_m3_m2(inputs::DataFrame)::Tuple</code></pre><p>Helper function to convert coral colony values from Litres/cm² to m³/m²</p><p><strong>Arguments</strong></p><ul><li>inputs : Scenario values for the simulation</li></ul><p><strong>Returns</strong></p><p>Tuple : Assumed colony volume (m³/m²) for each species/size class, theoretical maximum for each species/size class</p><p><strong>References</strong></p><ol><li>Urbina-Barreto, I., Chiroleu, F., Pinel, R., Fréchon, L., Mahamadaly, V., Elise, S., Kulbicki, M., Quod, J.-P.,    Dutrieux, E., Garnier, R., Henrich Bruggemann, J., Penin, L., &amp; Adjeroud, M. (2021).  Quantifying the shelter capacity of coral reefs using photogrammetric 3D modeling:    From colonies to reefscapes.  Ecological Indicators, 121, 107151.  https://doi.org/10.1016/j.ecolind.2020.107151</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L322-L341">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._coral_evenness-Tuple{AbstractArray{&lt;:Real}}" href="#ADRIA.metrics._coral_evenness-Tuple{AbstractArray{&lt;:Real}}"><code>ADRIA.metrics._coral_evenness</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_coral_evenness(X::AbstractArray{&lt;:Real})::AbstractArray{&lt;:Real}
_coral_evenness(rs::ResultSet)::AbstractArray{&lt;:Real}</code></pre><p>Calculates evenness across functional coral groups in ADRIA. Inverse Simpsons diversity indicator.</p><p><strong>Notes</strong></p><p>Number of taxa (distinct groups with enhanced lumped with unenhanced) is hardcoded in this function.</p><p><strong>References</strong></p><ol><li>Hill, M. O. (1973).   Diversity and Evenness: A Unifying Notation and Its Consequences.  Ecology, 54(2), 427-432. https://doi.org/10.2307/1934352</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L285-L301">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._get_ranks-Tuple{ADRIA.ResultSet, Int64}" href="#ADRIA.metrics._get_ranks-Tuple{ADRIA.ResultSet, Int64}"><code>ADRIA.metrics._get_ranks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_get_ranks(rs::ResultSet, intervention::Int64; kwargs...)</code></pre><p>Extracts results for a specific intervention (seeding [1] or shading [2])</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/ranks.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._juvenile_indicator-Tuple{AbstractArray{&lt;:Real}}" href="#ADRIA.metrics._juvenile_indicator-Tuple{AbstractArray{&lt;:Real}}"><code>ADRIA.metrics._juvenile_indicator</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_juvenile_indicator(X::AbstractArray{&lt;:Real})
_juvenile_indicator(rs::ResultSet)</code></pre><p>Indicator for juvenile density (0 - 1), where 1 indicates the maximum theoretical density  for juveniles have been achieved.</p><p>Maximum density is 51.8 juveniles / m², where juveniles are defined as &lt; 5cm diameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L268-L276">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._reef_condition_index-Tuple{AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}}" href="#ADRIA.metrics._reef_condition_index-Tuple{AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}}"><code>ADRIA.metrics._reef_condition_index</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reef_condition_index(TC, E, SV, juveniles)
reef_condition_index(rs)</code></pre><p>Translates coral metrics in ADRIA to a Reef Condition Metrics.</p><p><strong>Notes</strong></p><p>Juveniles are made relative to maximum observed juvenile density (51.8/m²) See email correspondence  from: Dr. A Thompson; to: Dr. K. Anthony Subject: RE: Max density of juvenile corals on the GBR Sent: Friday, 14 October 2022 2:58 PM</p><p><strong>Arguments</strong></p><ul><li>TC        : Total relative coral cover across all groups</li><li>E         : Evenness across four coral groups</li><li>SV        : Shelter volume based coral sizes and abundances</li><li>juveniles : Abundance of coral juveniles &lt; 5 cm diameter</li></ul><p>Input dimensions: timesteps, species, sites, repeats, scenarios</p><p><strong>Returns</strong></p><p>Dimensions: timesteps, sites, repeats, scenarios</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L615-L638">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._relative_cover-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Real}}" href="#ADRIA.metrics._relative_cover-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Real}}"><code>ADRIA.metrics._relative_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_relative_cover(X::AbstractArray{&lt;:Real}, k_area::Vector{&lt;:Real})::AbstractArray{&lt;:Real}
_relative_cover(rs::ResultSet)::AbstractArray{&lt;:Real}</code></pre><p><strong>Arguments</strong></p><ul><li>X : Matrix of raw model results</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L104-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._relative_juveniles-Tuple{AbstractArray{&lt;:Real}}" href="#ADRIA.metrics._relative_juveniles-Tuple{AbstractArray{&lt;:Real}}"><code>ADRIA.metrics._relative_juveniles</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_relative_juveniles(X::AbstractArray{&lt;:Real})::AbstractArray{&lt;:Real}
_relative_juveniles(rs::ResultSet)::AbstractArray{&lt;:Real}</code></pre><p>Juvenile coral cover relative to total site area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L228-L233">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._relative_shelter_volume-Tuple{AbstractArray{&lt;:Real, 3}, Vector{&lt;:Real}, Vector{&lt;:Real}, Union{DataFrames.DataFrame, DataFrames.DataFrameRow}}" href="#ADRIA.metrics._relative_shelter_volume-Tuple{AbstractArray{&lt;:Real, 3}, Vector{&lt;:Real}, Vector{&lt;:Real}, Union{DataFrames.DataFrame, DataFrames.DataFrameRow}}"><code>ADRIA.metrics._relative_shelter_volume</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_relative_shelter_volume(X::NamedDimsArray, site_area::Vector{&lt;:Real}, inputs::DataFrame)
_relative_shelter_volume(rs::ResultSet)</code></pre><p>Provide indication of shelter volume relative to theoretical maximum volume for the area covered by coral.</p><p>The metric applies log-log linear models developed by Urbina-Barreto et al., [1] which uses colony diameter and planar area (2D metrics) to estimate shelter volume (a 3D metric).</p><p class="math-container">\[RSV = \begin{cases}
TASV / MSV &amp; TASV &gt; 0, \\
0 &amp; \text{otherwise}
\end{cases}\]</p><p>where <span>$TASV$</span> represents Total Absolute Shelter Volume and <span>$MSV$</span> represents the maximum shelter volume possible.</p><p><strong>Arguments</strong></p><ul><li>X : raw results</li><li>site_area : area in m^2 for each site</li><li>inputs : DataFrame of scenario inputs</li></ul><p><strong>References</strong></p><ol><li>Urbina-Barreto, I., Chiroleu, F., Pinel, R., Fréchon, L., Mahamadaly, V.,   Elise, S., Kulbicki, M., Quod, J.-P., Dutrieux, E., Garnier, R.,   Henrich Bruggemann, J., Penin, L., &amp; Adjeroud, M. (2021). Quantifying the shelter capacity of coral reefs using photogrammetric   3D modeling: From colonies to reefscapes. Ecological Indicators, 121, 107151. https://doi.org/10.1016/j.ecolind.2020.107151</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L535-L570">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._relative_taxa_cover-Tuple{AbstractArray{&lt;:Real, 3}}" href="#ADRIA.metrics._relative_taxa_cover-Tuple{AbstractArray{&lt;:Real, 3}}"><code>ADRIA.metrics._relative_taxa_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">taxa_cover(X::AbstractArray{&lt;:Real})</code></pre><p>Results grouped by taxa/species.</p><p>TODO: Uses hardcoded index values, to be replaced by something more generic.</p><p><strong>Arguments</strong></p><ul><li>X : Raw model results for a single scenario</li></ul><p><strong>Returns</strong></p><p>Coral cover, grouped by taxa for the given scenario.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L140-L152">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._shelter_species_loop!-Union{Tuple{T1}, Tuple{AbstractArray{T1, 3}, AbstractArray{T1, 3}, Int64, Any, Any}} where T1" href="#ADRIA.metrics._shelter_species_loop!-Union{Tuple{T1}, Tuple{AbstractArray{T1, 3}, AbstractArray{T1, 3}, Int64, Any, Any}} where T1"><code>ADRIA.metrics._shelter_species_loop!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_shelter_species_loop!(X::AbstractArray{T1,3}, ASV::AbstractArray{T1,3}, nspecies::Int64, colony_vol_m3_per_m2, site_area) where {T1}</code></pre><p>Helper method to calculate absolute shelter volume metric across each species/size class for a given scenario.</p><p><strong>Arguments</strong></p><ul><li>X : raw results (proportional coral cover relative to full site area)</li><li>ASV : matrix to hold shelter volume results</li><li>nspecies : number of species (taxa and size classes) considered</li><li>scen : scenario number to calculate metric for</li><li>colony<em>vol</em>m3<em>per</em>m2 : estimated cubic volume per m² of coverage for each species/size class (36)</li><li>site_area : area of site in m²</li><li>k_area : habitable area of site in m²</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L450-L463">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._shelter_species_loop-Union{Tuple{T1}, Tuple{AbstractArray{T1, 3}, Int64, Array{Float64}, Array{Float64}, Array{Float64}, Array{Float64}}} where T1" href="#ADRIA.metrics._shelter_species_loop-Union{Tuple{T1}, Tuple{AbstractArray{T1, 3}, Int64, Array{Float64}, Array{Float64}, Array{Float64}, Array{Float64}}} where T1"><code>ADRIA.metrics._shelter_species_loop</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_shelter_species_loop(X, nspecies::Int64, scen::Int64, colony_vol_m3_per_m2, max_colony_vol_m3_per_m2, site_area)</code></pre><p>Helper method to calculate relative shelter volume metric across each species/size class for a given scenario.</p><p>Note: Species dimension is an amalgamation of taxa and size class. e.g., X[species=1:6] is Taxa 1, size classes 1-6; X[species=7:12] is Taxa 2, size class 1-6, etc.</p><p><strong>Arguments</strong></p><ul><li>X : raw results (proportional coral cover relative to full site area)</li><li>nspecies : number of species (taxa and size classes) considered</li><li>scen : scenario number to calculate metric for</li><li>colony<em>vol</em>m3<em>per</em>m2 : estimated cubic volume per m² of coverage for each species/size class (36)</li><li>max<em>colony</em>vol<em>m3</em>per_m2 : theoretical maximum volume per m² of coverage for each taxa (6)</li><li>site_area : total area of site in m²</li><li>k_area : habitable area of site in m² (i.e., <code>k</code> area)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L408-L424">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics._total_absolute_cover-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Real}}" href="#ADRIA.metrics._total_absolute_cover-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Real}}"><code>ADRIA.metrics._total_absolute_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_total_absolute_cover(X::AbstractArray{&lt;:Real}, site_area::Vector{&lt;:Real})::AbstractArray{&lt;:Real}
_total_absolute_cover(rs::ResultSet)::AbstractArray{&lt;:Real}</code></pre><p>The Total Absolute Coral Cover. Sum of proportional area taken up by all corals, multiplied by total site area.</p><p><strong>Arguments</strong></p><ul><li>X : Matrix of raw model results</li><li>site_area : Vector of site areas, with sites following the same order as given indicated in X.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L121-L131">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.call_metric-Tuple{Function, NamedDims.NamedDimsArray, Vararg{Any}}" href="#ADRIA.metrics.call_metric-Tuple{Function, NamedDims.NamedDimsArray, Vararg{Any}}"><code>ADRIA.metrics.call_metric</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">call_metric(metric, data, args...; timesteps=(:), species=(:), sites=(:), scens=(:))</code></pre><p>Convenience method that slices the data in the specified manner.</p><p><strong>Arguments</strong></p><ul><li>metric : Function, the metric function to apply to &quot;raw&quot; data.</li><li>data    : NamedDimsArray, data to pass into <code>metric</code></li><li>args   : Additional positional arguments to pass into <code>metric</code></li><li>dims   : dummy keyword argument, not used but defined to allow use with other methods</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L65-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.coral_cover-Tuple{AbstractArray{&lt;:Real}}" href="#ADRIA.metrics.coral_cover-Tuple{AbstractArray{&lt;:Real}}"><code>ADRIA.metrics.coral_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">coral_cover(X::AbstractArray{&lt;:Real})::NamedTuple
coral_cover(rs::ResultSet)</code></pre><p>Converts outputs from scenario runs to relative cover of the four different coral taxa.</p><p><strong>Returns</strong></p><p>NamedTuple     - relative<em>cover : relative coral cover     - enhanced</em>tab<em>acr : cover of enhanced tabular acropora     - unenhanced</em>tab<em>acr : area covered by unenhanced tabular acropora     - enhanced</em>cor<em>acr : area covered by enhanced corymbose acropora     - unenhanced</em>cor<em>acr : area covered by unenhanced corymbose acropora     - tab</em>acr : cover of tabular acropora     - cor<em>acr : cover of corymbose acropora     - small</em>enc : cover of small encrusting     - large_mass : cover of large massives     - juveniles : area covered by juveniles     - large : area covered by large mature corals</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L169-L188">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.dims-Tuple{ADRIA.metrics.Metric}" href="#ADRIA.metrics.dims-Tuple{ADRIA.metrics.Metric}"><code>ADRIA.metrics.dims</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dims(m::Metric)::Tuple</code></pre><p>Get dimension names for a given outcome/metric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L45-L49">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.dominates-Tuple{AbstractVector{&lt;:Real}, AbstractVector{&lt;:Real}}" href="#ADRIA.metrics.dominates-Tuple{AbstractVector{&lt;:Real}, AbstractVector{&lt;:Real}}"><code>ADRIA.metrics.dominates</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dominates(x::Vector{&lt;:Real}, y::Vector{&lt;:Real})::Vector</code></pre><p>Adapted from: https://discourse.julialang.org/t/fast-optimized-non-dominated-sorting-algorithms/86793/7</p><p>Original function name is <code>dominates2()</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/pareto.jl#L4-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.metric_name-Tuple{ADRIA.metrics.Metric}" href="#ADRIA.metrics.metric_name-Tuple{ADRIA.metrics.Metric}"><code>ADRIA.metrics.metric_name</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">metric_name(m::Metric)::String</code></pre><p>Get name of metric as a string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L35-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.nds" href="#ADRIA.metrics.nds"><code>ADRIA.metrics.nds</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">nds(X::AbstractArray{&lt;:Real}, dist::Int64=0)::Vector{Vector{&lt;:Int}}</code></pre><p>Naive n-dimensional non-dominated sorting.</p><p>Adapted from: https://discourse.julialang.org/t/fast-optimized-non-dominated-sorting-algorithms/86793/7</p><p>Original function name is <code>nds4()</code></p><p><strong>Arguments</strong></p><p>X : outcomes, where rows are scenarios and columns are metric results. dist : distance from front, where 0 is on the frontier.</p><p><strong>Returns</strong></p><p>Vector of Vectors with row indices for each <code>dist</code> from frontier, where 0 is on the frontier.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/pareto.jl#L23-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.per_site-Tuple{Any, NamedDims.NamedDimsArray}" href="#ADRIA.metrics.per_site-Tuple{Any, NamedDims.NamedDimsArray}"><code>ADRIA.metrics.per_site</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">per_site(metric, data::NamedDimsArray)</code></pre><p>Get metric results applied to the site-level at indicated time (or across timesteps).</p><p><strong>Arguments</strong></p><ul><li>metric : Any function from the Statistics package to be applied to <code>data</code></li><li>data : Data set to apply metric to</li><li>timestep : Target time step, or time frame</li></ul><p><strong>Returns</strong></p><p>Vector of N elements, where N is the number of sites.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/site_level.jl#L4-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_asv-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.scenario_asv-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.scenario_asv</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scenario_asv(sv::NamedDimsArray; kwargs...)
scenario_asv(rs::ResultSet; kwargs...)</code></pre><p>Calculate the cluster-wide absolute shelter volume for each scenario.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/scenario.jl#L47-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_juveniles-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.scenario_juveniles-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.scenario_juveniles</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scenario_juveniles(data::NamedDimsArray; kwargs...)</code></pre><p>Calculate the cluster-wide juvenile population for individual scenarios.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/scenario.jl#L33-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_relative_cover-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics.scenario_relative_cover-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics.scenario_relative_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scenario_relative_cover(rs::ResultSet; kwargs...)</code></pre><p>Calculate the cluster-wide relative coral cover for each scenario.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/scenario.jl#L20-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_rsv-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.scenario_rsv-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.scenario_rsv</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scenario_rsv(sv::NamedDimsArray; kwargs...)
scenario_rsv(rs::ResultSet; kwargs...)</code></pre><p>Calculate the cluster-wide mean relative shelter volumes for each scenario.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/scenario.jl#L62-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.scenario_total_cover-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics.scenario_total_cover-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics.scenario_total_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scenario_total_cover(rs::ResultSet; kwargs...)</code></pre><p>Calculate the cluster-wide total absolute coral cover for each scenario.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/scenario.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.seed_ranks-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics.seed_ranks-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics.seed_ranks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">seed_ranks(rs::ResultSet; kwargs...)</code></pre><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>kwargs : named dimensions to slice across</li></ul><p><strong>Returns</strong></p><p>NamedArray[timesteps, sites, scenarios]</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ADRIA.metrics.seed_ranks(rs; timesteps=1:10, scenarios=3:5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/ranks.jl#L37-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.shade_ranks-Tuple{ADRIA.ResultSet}" href="#ADRIA.metrics.shade_ranks-Tuple{ADRIA.ResultSet}"><code>ADRIA.metrics.shade_ranks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shade_ranks(rs::ResultSet; kwargs...)</code></pre><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>kwargs : named dimensions to slice across</li></ul><p><strong>Returns</strong></p><p>NamedArray[timesteps, sites, scenarios]</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ADRIA.metrics.shade_ranks(rs; timesteps=1:10, scenarios=3:5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/ranks.jl#L98-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.slice_results-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.slice_results-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.slice_results</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">slice_results(data::NamedDimsArray; timesteps=(:), species=(:), sites=(:), scenarios=(:))</code></pre><p>Slice data as indicated. Dimensions not found in target data are ignored.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L86-L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_absolute_shelter_volume-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.summarize_absolute_shelter_volume-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.summarize_absolute_shelter_volume</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_absolute_shelter_volume(sv::AbstractArray{&lt;:Real}, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_absolute_shelter_volume(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized coral evenness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/temporal.jl#L124-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_coral_evenness-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.summarize_coral_evenness-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.summarize_coral_evenness</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_coral_evenness(raw::AbstractArray{&lt;:Real}, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_coral_evenness(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized coral evenness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/temporal.jl#L109-L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_raw-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.summarize_raw-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.summarize_raw</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_raw(data::NamedDimsArray; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Summarize raw data, aggregating the specified dimensions (e.g., <code>timesteps</code>, <code>scenarios</code>, etc.) and collapsing given <code>dims</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/temporal.jl#L43-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_relative_cover-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.summarize_relative_cover-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.summarize_relative_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_relative_cover(rc::AbstractArray{&lt;:Real}, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_relative_cover(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized relative cover.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/temporal.jl#L94-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_relative_shelter_volume-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.summarize_relative_shelter_volume-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.summarize_relative_shelter_volume</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_relative_shelter_volume(sv::AbstractArray{&lt;:Real}, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_relative_shelter_volume(rs::ResultSet, kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized coral evenness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/temporal.jl#L139-L144">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.summarize_total_cover-Tuple{NamedDims.NamedDimsArray, AbstractArray{&lt;:Real}}" href="#ADRIA.metrics.summarize_total_cover-Tuple{NamedDims.NamedDimsArray, AbstractArray{&lt;:Real}}"><code>ADRIA.metrics.summarize_total_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_total_cover(raw::AbstractArray{&lt;:Real}, areas::AbstractArray{&lt;:Real}; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}
summarize_total_cover(rs::ResultSet; kwargs...)::Dict{Symbol,AbstractArray{&lt;:Real}}</code></pre><p>Calculate summarized total absolute cover.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/temporal.jl#L76-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.top_N_sites-Tuple{ADRIA.ResultSet, Int64}" href="#ADRIA.metrics.top_N_sites-Tuple{ADRIA.ResultSet, Int64}"><code>ADRIA.metrics.top_N_sites</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">top_N_sites(rs::ResultSet; N::Int64; metric::relative_cover)
top_N_sites(data::AbstractArray{Real}, N::Int64; stat=mean)</code></pre><p>Return the top <code>N</code> sites according to the provided metric (defaulting to <code>mean</code> of <code>relative_cover</code>).</p><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>N : No. of best performing sites to be selected</li><li>metric : metric to use to order sites from best to worst,          must take ResultSet as input</li><li>stat : summary statistic to use for comparison (default: mean)</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray[:scenarios,:site<em>ids], where `site</em>ids` indicates order of site ranking as well.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ADRIA.metrics.top_N_sites(rs, 5)
ADRIA.metrics.top_N_sites(rs, 5; metric=ADRIA.metric.relative_cover)
ADRIA.metrics.top_N_sites(rs, 5; metric=ADRIA.metric.relative_cover, stat=median)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/ranks.jl#L118-L141">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.top_n_seeded_sites-Tuple{ADRIA.ResultSet, Int64}" href="#ADRIA.metrics.top_n_seeded_sites-Tuple{ADRIA.ResultSet, Int64}"><code>ADRIA.metrics.top_n_seeded_sites</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">top_n_seeded_sites(rs::ResultSet, n::Int64; kwargs...)</code></pre><p>Get the top n seeded sites over time by their unique site id. Lower rank values are better (e.g., 1 = first choice)</p><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li><li>n : <code>n</code> sites to retrieve</li><li>kwargs : dimensions to slice across</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray[sites, [Site Index, Unique ID, Rank], scenarios]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/ranks.jl#L57-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.trajectory_heatmap-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.trajectory_heatmap-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.trajectory_heatmap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">trajectory_heatmap(data::Matrix{Float64})::Tuple{Vector{Float64}, Vector{Float64}, Matrix{Int64}}</code></pre><p>Estimate heatmap of trajectories from a 2D dataset.</p><p><strong>Arguments</strong></p><ul><li>data : An N*D matrix where N is time steps and D is the scenario outcome for the given timestep in N</li></ul><p><strong>Returns</strong></p><p>OnlineStats.HeatMap</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/temporal.jl#L161-L171">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.trajectory_heatmap_data-Tuple{NamedDims.NamedDimsArray}" href="#ADRIA.metrics.trajectory_heatmap_data-Tuple{NamedDims.NamedDimsArray}"><code>ADRIA.metrics.trajectory_heatmap_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">trajectory_heatmap_data(data::Matrix{Float64})::Tuple{Vector{Float64}, Vector{Float64}, Matrix{Int64}}</code></pre><p>Estimate heatmap of trajectories from a 2D dataset.</p><p><strong>Arguments</strong></p><ul><li>data : An N*D matrix where N is time steps and D is the scenario outcome for the given timestep in N</li></ul><p><strong>Returns</strong></p><p>Tuple of xedges, yedges, and bi-dimensional histogram matrix</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/temporal.jl#L180-L190">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.ndims-Tuple{ADRIA.metrics.Metric}" href="#Base.ndims-Tuple{ADRIA.metrics.Metric}"><code>Base.ndims</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ndims(m::Metric)::Int64</code></pre><p>Infer the number of dimensions for a given outcome/metric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L55-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.metrics.Metric-Tuple{Any, Vararg{Any}}" href="#ADRIA.metrics.Metric-Tuple{Any, Vararg{Any}}"><code>ADRIA.metrics.Metric</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Make Metric callable with arbitary arguments that are passed to associated function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/metrics.jl#L18-L20">source</a></section></article><h2 id="Performance-indicators"><a class="docs-heading-anchor" href="#Performance-indicators">Performance indicators</a><a id="Performance-indicators-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-indicators" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.RMSE-Tuple{Any, Any}" href="#ADRIA.performance.RMSE-Tuple{Any, Any}"><code>ADRIA.performance.RMSE</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Root Mean Square Error</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/performance.jl#L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.environmental_diversity-Tuple{Any, Any}" href="#ADRIA.performance.environmental_diversity-Tuple{Any, Any}"><code>ADRIA.performance.environmental_diversity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">environmental_diversity(ms, inputs_i)</code></pre><p>Obtain an indication of environmental factor diversity for a scenario set. Higher values indicate a greater of mix of environmental conditions were experienced between scenarios.</p><p>This is referred to as <span>$E$</span>.</p><p><strong>Arguments</strong></p><ul><li>ms : model spec</li><li>inputs_i : inputs used for scenarios of interest</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/performance.jl#L156-L168">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.gmd-Tuple{AbstractVector{&lt;:Real}}" href="#ADRIA.performance.gmd-Tuple{AbstractVector{&lt;:Real}}"><code>ADRIA.performance.gmd</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gmd(vals::AbstractVector{&lt;:Real})::Float64
gmd(vals::AbstractMatrix{&lt;:Real})</code></pre><p>Gini&#39;s Mean Difference.</p><p>The absolute mean of all pairwise distances between elements in a given set.</p><p><strong>References</strong></p><ol><li><p>La Haye, R., &amp; Zizler, P. (2019).  The Gini mean difference and variance.  METRON, 77(1), 43-52.  https://doi.org/10.1007/s40300-019-00149-2</p></li><li><p>Yitzhaki, S. (2003).  Gini&#39;s Mean difference: A superior measure of variability for non-normal   distributions.  Metron - International Journal of Statistics, LXI(2), 285-316. https://ideas.repec.org/a/mtn/ancoec/030208.html</p></li><li><p>Kashif, M., Aslam, M., Al-Marshadi, A. H., &amp; Jun, C.-H. (2016). Capability Indices for Non-Normal Distribution Using Gini&#39;s Mean Difference as Measure of Variability.  IEEE Access, 4, 7322-7330. https://doi.org/10.1109/ACCESS.2016.2620241</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/performance.jl#L35-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.intervention_diversity-Tuple{Any, Any}" href="#ADRIA.performance.intervention_diversity-Tuple{Any, Any}"><code>ADRIA.performance.intervention_diversity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">intervention_diversity(ms, inputs_i)</code></pre><p>Obtain an indication of intervention diversity for a scenario. Higher values indicate a greater of mix of interventions options were applied.</p><p>This is referred to as <span>$D$</span>.</p><p><strong>Arguments</strong></p><ul><li>ms : model spec</li><li>inputs_i : inputs used for scenarios of interest</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/performance.jl#L139-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.intervention_effort-Tuple{Any, Any, Any}" href="#ADRIA.performance.intervention_effort-Tuple{Any, Any, Any}"><code>ADRIA.performance.intervention_effort</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">intervention_effort(ms, inputs_i)</code></pre><p>Obtain an indication of intervention effort for each scenario and intervention type. This is referred to as <span>$F$</span>.</p><p><strong>Arguments</strong></p><ul><li>ms : model spec</li><li>inputs_i : inputs used for scenarios of interest</li></ul><p><strong>Returns</strong></p><p>Matrix of <code>s * 6</code>, where <code>s</code> is the number of scenarios and columns are: <code>seed_TA</code>, <code>seed_CA</code>, <code>fogging</code>, <code>SRM</code>, <code>seed_years</code>, <code>shade_years</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/performance.jl#L108-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.normalize-Tuple{AbstractArray{&lt;:Real}}" href="#ADRIA.performance.normalize-Tuple{AbstractArray{&lt;:Real}}"><code>ADRIA.performance.normalize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">normalize(vals::AbstractArray{&lt;:Real})</code></pre><p>Normalize values using feature scaling such that values are bound between 0 and 1, where 1 is equivalent to the maximum value found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/performance.jl#L7-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.probability-Tuple{AbstractArray{&lt;:Real}}" href="#ADRIA.performance.probability-Tuple{AbstractArray{&lt;:Real}}"><code>ADRIA.performance.probability</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">probability(vals::AbstractArray{&lt;:Real})</code></pre><p>Calculate probability of individual trajectories, given a scenario ensemble <span>$S$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/performance.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.performance.temporal_variability-Tuple{AbstractVector{&lt;:Real}}" href="#ADRIA.performance.temporal_variability-Tuple{AbstractVector{&lt;:Real}}"><code>ADRIA.performance.temporal_variability</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">temporal_variability(x::AbstractVector{&lt;:Real})
temporal_variability(x::AbstractArray{&lt;:Real, 2})
temporal_variability(x::AbstractArray{&lt;:Real}, func_or_data...)</code></pre><p>The V meta-metric.</p><p>As a meta-metric, it can be applied to any combination of metrics (including itself), assuming <span>$x$</span> is bound between 0 and 1. If this is not the case, consider normalizing values first.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs"># Apply V to a time series
julia&gt; temporal_variability(rand(50))

# Apply V to an ensemble of of time series
julia&gt; x = rand(50, 200)
julia&gt; temporal_variability(x)

# Create and apply a modified V metric to an ensemble of of time series.
# Where the argument is an array and not a function, the data is used directly
# and so it is assumed all matrices are of the same size and shape.
julia&gt; temporal_variability(x, temporal_variabilty, temporal_variability(P(x)))
julia&gt; temporal_variability(x, temporal_variabilty, P(x), D(x), E(x))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/performance.jl#L70-L96">source</a></section></article><h2 id="Sensitivity"><a class="docs-heading-anchor" href="#Sensitivity">Sensitivity</a><a id="Sensitivity-1"></a><a class="docs-heading-anchor-permalink" href="#Sensitivity" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity.ks_statistic-Tuple{Any}" href="#ADRIA.sensitivity.ks_statistic-Tuple{Any}"><code>ADRIA.sensitivity.ks_statistic</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ks_statistic(ks)</code></pre><p>Calculate the Kolmogorov-Smirnov test statistic.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/sensitivity.jl#L39-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity.pawn-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Real}, Vector{String}}" href="#ADRIA.sensitivity.pawn-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Real}, Vector{String}}"><code>ADRIA.sensitivity.pawn</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Calculates the PAWN sensitivity index.</code></pre><p><strong>Arguments</strong></p><ul><li>X : Model inputs</li><li>Y : Outputs</li><li>S : Number of slides (default: 10)</li></ul><p><strong>Returns</strong></p><p>NamedDimsArray, of min, mean, median, max, std, and cv summary statistics.</p><p><strong>References</strong></p><ol><li><p>Pianosi, F., Wagener, T., 2018. Distribution-based sensitivity analysis from a generic input-output sample. Environmental Modelling &amp; Software 108, 197-207. https://doi.org/10.1016/j.envsoft.2018.07.019</p></li><li><p>Baroni, G., Francke, T., 2020. GSA-cvd Combining variance- and distribution-based global sensitivity analysis https://github.com/baronig/GSA-cvd</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/sensitivity.jl#L51-L72">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sensitivity.relative_importance-Tuple{AbstractVector{&lt;:Real}}" href="#ADRIA.sensitivity.relative_importance-Tuple{AbstractVector{&lt;:Real}}"><code>ADRIA.sensitivity.relative_importance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">relative_importance(x::AbstractVector{&lt;:Real})
relative_importance(x::AbstractArray)</code></pre><p>Normalize metrics such that the values ∈ [0, 1].</p><p>Note: If a matrix is passed in, this calculates the relative importance for each column.</p><p><strong>Arguments</strong></p><ul><li>x : metric values</li></ul><p><strong>Returns</strong></p><p>Normalized values of same shape as x.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/metrics/sensitivity.jl#L7-L21">source</a></section></article><h2 id="General-API"><a class="docs-heading-anchor" href="#General-API">General API</a><a id="General-API-1"></a><a class="docs-heading-anchor-permalink" href="#General-API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ADRIA.RCP_to_SSP-Tuple{String}" href="#ADRIA.RCP_to_SSP-Tuple{String}"><code>ADRIA.RCP_to_SSP</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RCP_to_SSP(rcp)</code></pre><p>Convert RCP scenarios to SSP scenarios.</p><p><strong>Arguments:</strong></p><ul><li><code>rcp::String</code>: RCP scenario identifier</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/result_post_processing.jl#L11-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA._char_to_string-Tuple{Any}" href="#ADRIA._char_to_string-Tuple{Any}"><code>ADRIA._char_to_string</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_char_to_string(vals)::Vector{String}</code></pre><p>Convert character array entries in netCDFs to string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/inputs.jl#L144-L148">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA._check_bounds-Tuple{Any, Any}" href="#ADRIA._check_bounds-Tuple{Any, Any}"><code>ADRIA._check_bounds</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Check specified bounds for validity.</p><p>Raises error if lower bound values are greater than upper bounds.</p><p><strong>Arguments</strong></p><ul><li>lower : lower bounds</li><li>upper : upper bound values</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/sampling.jl#L159-L167">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA._check_compat-Tuple{Dict}" href="#ADRIA._check_compat-Tuple{Dict}"><code>ADRIA._check_compat</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_check_compat(dpkg_details::Dict)</code></pre><p>Checks for version compatibility.</p><p><strong>Arguments</strong></p><ul><li>dpkg_details : Datapackage spec</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/inputs.jl#L4-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA._copy_env_stats-Tuple{String, String, String}" href="#ADRIA._copy_env_stats-Tuple{String, String, String}"><code>ADRIA._copy_env_stats</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_copy_env_stats(src::String, dst::String, subdir::String)::Nothing</code></pre><p>Helper function to copy environmental data layer statistics from data store.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/ResultSet.jl#L72-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA._coral_struct-Tuple{Dict}" href="#ADRIA._coral_struct-Tuple{Dict}"><code>ADRIA._coral_struct</code></a> — <span class="docstring-category">Method</span></header><section><div><p><em>coral</em>struct(field_defs::Dict)::Nothing</p><p>Helper function to dynamically create structs</p><p>https://stackoverflow.com/a/27084705/2694952 https://stackoverflow.com/questions/27083816/is-it-possible-to-create-types-in-julia-at-runtime</p><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Generate Coral struct with single attribute &quot;a&quot;
_coral_struct(Dict(&quot;a&quot;=&gt;200))

y = Coral()
# Coral{Int64}(200)

y.a
# 200</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/Ecosystem.jl#L107-L128">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA._load_dpkg-Tuple{String}" href="#ADRIA._load_dpkg-Tuple{String}"><code>ADRIA._load_dpkg</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_load_dpkg(dpkg_path::String)</code></pre><p>Load and parse datapackage.</p><p><strong>Arguments</strong></p><ul><li>dpkg_path : path to datapackage</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/inputs.jl#L23-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA._recreate_stats_from_store-Tuple{String}" href="#ADRIA._recreate_stats_from_store-Tuple{String}"><code>ADRIA._recreate_stats_from_store</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_recreate_stats_from_store(zarr_store_path::String)::Dict{String, AbstractArray}</code></pre><p>Recreate data structure holding RCP summary statistics from Zarr store.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/result_io.jl#L288-L292">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA._remove_workers-Tuple{}" href="#ADRIA._remove_workers-Tuple{}"><code>ADRIA._remove_workers</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Remove workers and free up memory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/utils/setup.jl#L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA._setup_workers-Tuple{}" href="#ADRIA._setup_workers-Tuple{}"><code>ADRIA._setup_workers</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Spin up workers if needed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/utils/setup.jl#L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.adjust_samples-Tuple{Domain, DataFrames.DataFrame}" href="#ADRIA.adjust_samples-Tuple{Domain, DataFrames.DataFrame}"><code>ADRIA.adjust_samples</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">adjust_samples(d::Domain, df::DataFrame)::DataFrame
adjust_samples!(d::Domain, spec::DataFrame, df::DataFrame)::DataFrame</code></pre><p>Adjust given samples to ensure parameter value combinations for unguided scenarios are plausible.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/sampling.jl#L7-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.align_rankings!-Tuple{Array, Matrix, Int64}" href="#ADRIA.align_rankings!-Tuple{Array, Matrix, Int64}"><code>ADRIA.align_rankings!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">align_rankings!(rankings::Array, s_order::Matrix, col::Int64)::Nothing</code></pre><p>Align a vector of site rankings to match the indicated order in <code>s_order</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L59-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.bleaching_mortality!-Tuple{AbstractMatrix{Float64}, AbstractMatrix{Float64}, AbstractArray{Float64}, Int64, Vector{Float64}, Vector{Float64}, AbstractArray{Float64}, Vector{Float64}, Real}" href="#ADRIA.bleaching_mortality!-Tuple{AbstractMatrix{Float64}, AbstractMatrix{Float64}, AbstractArray{Float64}, Int64, Vector{Float64}, Vector{Float64}, AbstractArray{Float64}, Vector{Float64}, Real}"><code>ADRIA.bleaching_mortality!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">bleaching_mortality!(Y::Matrix{Float64}, tstep::Int64, depth::Vector{Float64},
    s::Vector{Float64}, dhw::Float64, a_adapt::Float64, n_adapt::Float64)</code></pre><p>Calculates bleaching mortality taking into account depth and bleaching sensitivity of corals. Model is adapted from Bozec et al., [2], itself based on data from Hughes et al., <a href="bleaching sensitivity">3</a> and Baird et al., <a href="relationship between bleaching and depth">1</a>.</p><p><strong>Arguments</strong></p><ul><li>Y : Matrix to save results into</li><li>tstep : Current time step</li><li>depth : Mean site depth (m) for each site</li><li>s : Bleaching sensitivity of corals (relative values) for each taxa/size class</li><li>dhw : Degree Heating Week experienced at site</li><li>a_adapt : Level of assisted adaptation (DHW reduction)</li><li>n_adapt : Level of natural adaptation (DHW reduction linearly scaled over time)</li></ul><p><strong>Returns</strong></p><p>Nothing</p><p><strong>References</strong></p><ol><li><p>Baird, A., Madin, J., Álvarez-Noriega, M., Fontoura, L., Kerry, J., Kuo, C.,   Precoda, K., Torres-Pulliza, D., Woods, R., Zawada, K., &amp; Hughes, T. (2018). A decline in bleaching suggests that depth can provide a refuge from global   warming in most coral taxa. Marine Ecology Progress Series, 603, 257-264. https://doi.org/10.3354/meps12732</p></li><li><p>Bozec, Y.-M., Hock, K., Mason, R. A. B., Baird, M. E., Castro-Sanguino, C.,   Condie, S. A., Puotinen, M., Thompson, A., &amp; Mumby, P. J. (2022). Cumulative impacts across Australia&#39;s Great Barrier Reef: A mechanistic evaluation. Ecological Monographs, 92(1), e01494. https://doi.org/10.1002/ecm.1494</p></li><li><p>Hughes, T. P., Kerry, J. T., Baird, A. H., Connolly, S. R., Dietzel, A., Eakin, C. M.,   Heron, S. F., Hoey, A. S., Hoogenboom, M. O., Liu, G., McWilliam, M. J., Pears, R. J.,   Pratchett, M. S., Skirving, W. J., Stella, J. S., &amp; Torda, G. (2018). Global warming transforms coral reef assemblages. Nature, 556(7702), 492-496. https://doi.org/10.1038/s41586-018-0041-2</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth.jl#L152-L192">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.centroids-Tuple{DataFrames.DataFrame}" href="#ADRIA.centroids-Tuple{DataFrames.DataFrame}"><code>ADRIA.centroids</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">centroids(df::DataFrame)</code></pre><p>Extract and return long/lat from a GeoDataFrame.</p><p><strong>Arguments</strong></p><ul><li>df : GeoDataFrame</li></ul><p><strong>Returns</strong></p><p>Array of tuples (x, y), where x and y relate to long and lat respectively.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/result_io.jl#L11-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.colony_areas-Tuple{}" href="#ADRIA.colony_areas-Tuple{}"><code>ADRIA.colony_areas</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">colony_areas()</code></pre><p>Generate colony area data based on Bozec et al., [1].</p><p><strong>Returns</strong></p><ul><li>colony<em>area</em>mean_cm2 : mean colony areas in cm²</li><li>colony<em>diam</em>means_m : mean colony diameter (in meters)</li></ul><p><strong>References</strong></p><ol><li>Bozec, Y.-M., Rowell, D., Harrison, L., Gaskell, J., Hock, K.,   Callaghan, D., Gorton, R., Kovacs, E. M., Lyons, M., Mumby, P.,   &amp; Roelfsema, C. (2021).     Baseline mapping to support reef restoration and resilience-based     management in the Whitsundays.   https://doi.org/10.13140/RG.2.2.26976.20482</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/Ecosystem.jl#L181-L198">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.combine_results-Tuple" href="#ADRIA.combine_results-Tuple"><code>ADRIA.combine_results</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">combine(result_sets...)::ResultSet
combine_results(result_set_locs::Array{String})::ResultSet</code></pre><p>Combine arbitrary number of ADRIA result sets into a single data store.</p><p>Note: Results are stored in Zarr format. Combining data sets can be       expected to double total disk space requirement.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/ResultSet.jl#L90-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.component_params-Tuple{ADRIA.ResultSet, Type}" href="#ADRIA.component_params-Tuple{ADRIA.ResultSet, Type}"><code>ADRIA.component_params</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">component_params(spec::DataFrame, component::Type)::DataFrame</code></pre><p>Extract parameters for a specific model component from exported model specification.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/ResultSet.jl#L309-L313">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.component_params-Tuple{ModelParameters.Model, Type}" href="#ADRIA.component_params-Tuple{ModelParameters.Model, Type}"><code>ADRIA.component_params</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">component_params(m::Model, component::Type)::DataFrame
component_params(spec::DataFrame, component::Type)::DataFrame
component_params(m::Model, components::Vector)::DataFrame
component_params(spec::DataFrame, components::Vector)::DataFrame</code></pre><p>Extract parameters for a specific model component.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L371-L378">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.connectivity_strength-Tuple{AbstractArray}" href="#ADRIA.connectivity_strength-Tuple{AbstractArray}"><code>ADRIA.connectivity_strength</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">connectivity_strength(TP_base::AbstractArray)::NamedTuple</code></pre><p>Generate array of outdegree connectivity strength for each node and its strongest predecessor.</p><p><strong>Returns</strong></p><p>NamedTuple:</p><ul><li>in_conn : sites ranked by incoming connectivity</li><li>out_conn : sites ranked by outgoing connectivity</li><li>strongest_predecessor : strongest predecessor for each site</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/connectivity.jl#L128-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.coral_spec-Tuple{}" href="#ADRIA.coral_spec-Tuple{}"><code>ADRIA.coral_spec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">coral_spec()</code></pre><p>Template for coral parameter values for ADRIA. Includes &quot;vital&quot; bio/ecological parameters, to be filled with sampled or user-specified values.</p><p>Any parameter added to the <code>params</code> DataFrame defined here will automatically be made available to the ADRIA model.</p><p>Notes: Values for the historical, temporal patterns of degree heating weeks between bleaching years come from [1].</p><p><strong>Returns</strong></p><ul><li>params : NamedTuple[taxa<em>names, param</em>names, params], taxa names, parameter          names, and parameter values for each coral taxa, group and size class</li></ul><p><strong>References</strong></p><ol><li><p>Lough, J. M., Anderson, K. D., &amp; Hughes, T. P. (2018).  Increasing thermal stress for tropical coral reefs: 1871-2017.  Scientific Reports, 8(1), 6079.  https://doi.org/10.1038/s41598-018-24530-9</p></li><li><p>Hall, V.R. &amp; Hughes, T.P. 1996. Reproductive strategies of modular organisms:   comparative studies of reef-building corals. Ecology, 77: 950 - 963. https://dx.doi.org/10.2307/2265514</p></li><li><p>Bozec, Y.-M., Rowell, D., Harrison, L., Gaskell, J., Hock, K.,  Callaghan, D., Gorton, R., Kovacs, E. M., Lyons, M., Mumby, P.,  &amp; Roelfsema, C. (2021). Baseline mapping to support reef restoration and   resilience-based management in the Whitsundays. https://doi.org/10.13140/RG.2.2.26976.20482</p></li><li><p>Bozec, Y.-M., Hock, K., Mason, R. A. B., Baird, M. E., Castro-Sanguino, C.,  Condie, S. A., Puotinen, M., Thompson, A., &amp; Mumby, P. J. (2022). Cumulative impacts across Australia&#39;s Great Barrier Reef: A mechanistic evaluation. Ecological Monographs, 92(1), e01494. https://doi.org/10.1002/ecm.1494</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/Ecosystem.jl#L216-L258">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.create_BI_format_file-Tuple{ADRIA.ResultSet, String}" href="#ADRIA.create_BI_format_file-Tuple{ADRIA.ResultSet, String}"><code>ADRIA.create_BI_format_file</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_BI_format_file(rs, file_loc)</code></pre><p>Creates a tabular csv files from ADRIA ResultSet, suitable for processing in PowerBI etc. Saves as csv at <code>file_loc</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>rs::ResultSet</code>: ADRIA result set</li><li><code>file_loc::String</code>: directory to save the csv file in</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/result_post_processing.jl#L33-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.create_coral_struct" href="#ADRIA.create_coral_struct"><code>ADRIA.create_coral_struct</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_coral_struct(bounds=(0.9, 1.1))</code></pre><p>Generates Coral struct using the default parameter spec.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Define coral struct with auto-generated parameter ranges
# (default in ADRIA is ± 10%, triangular distribution with peak at 0.5)
create_coral_struct()
coral = Coral()

# Recreate coral spec ± 50% from nominal values
create_coral_struct((0.5, 1.5))
coral = Coral()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/Ecosystem.jl#L144-L160">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.create_decision_matrix-NTuple{12, Any}" href="#ADRIA.create_decision_matrix-NTuple{12, Any}"><code>ADRIA.create_decision_matrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_decision_matrix(site_ids, in_conn, out_conn, sum_cover, max_cover, area, wave_stress, heat_stress, predec, risk_tol)</code></pre><p>Creates criteria matrix <code>A</code>, where each column is a selection criterium and each row is a site. Sites are then filtered based on heat and wave stress risk.</p><p>Where no sites are filtered, size of <span>$A := n_sites × 7 criteria$</span>.</p><p>Columns indicate:</p><ol><li>Site ID</li><li>Incoming Node Connectivity Centrality</li><li>Outgoing Node Connectivity Centrality</li><li>Wave stress</li><li>Heat stress</li><li>Priority Predecessors</li><li>Available Area (relative to max cover)</li></ol><p><strong>Arguments</strong></p><ul><li>site_ids : vector of site ids</li><li>in_conn : site incoming centrality (relative strength of connectivity) (0 &lt;= c &lt;= 1.0)</li><li>out_conn : site outgoing centrality (relative strength of connectivity) (0 &lt;= c &lt;= 1.0)</li><li>sum<em>cover : vector, sum of coral cover (across species) for each site (i.e., [x₁, x₂, ..., xₙ] where x</em>{1:n} &lt;= 1.0)</li><li>max_cover : maximum possible proportional coral cover (k) for each site, relative to total site area (k &lt;= 1.0)</li><li>area : total absolute area (in m²) for each site</li><li>wave_stress : Probability of wave damage</li><li>heat_stress : Probability of site being affected by heat stress</li><li>predec : list of priority predecessors (sites strongly connected to priority sites)</li><li>risk_tol : tolerance for wave and heat risk (∈ [0,1]). Sites with heat or wave risk&gt; risktol are filtered out.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L117-L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.create_seed_matrix-NTuple{9, Any}" href="#ADRIA.create_seed_matrix-NTuple{9, Any}"><code>ADRIA.create_seed_matrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_seed_matrix(A, min_area, inconn_seed, outconn_seed, waves, heat, predec, low_cover)</code></pre><p>Create seeding specific decision matrix from criteria matrix. The weight criteria and filter.</p><p><strong>Arguments</strong></p><ul><li>A : Criteria matrix</li><li>min_area : Minimum available area for a site to be considered</li><li>inconn_seed : Seed connectivity weight for seeding</li><li>outconn_seed : Seed connectivity weight for seeding</li><li>waves : Wave stress weight</li><li>heat : Heat stress weight</li><li>predec : Priority predecessor weight</li><li>low_cover : Weighting for low coral cover (coral real estate), when seeding</li></ul><p><strong>Returns</strong></p><p>Tuple (SE, wse)</p><ul><li>SE : Matrix of shape [n sites considered, 7]<ol><li>Site index ID</li><li>Incoming Centrality</li><li>Outgoing Centrality</li><li>Wave risk (higher values = less risk)</li><li>Damage risk (higher values = less risk)</li><li>Priority predecessors relating to coral real estate relative to max capacity</li><li>Available space</li></ol></li><li>wse : 5-element vector of criteria weights<ol><li>incoming connectivity</li><li>outgoing connectivity</li><li>wave</li><li>heat</li><li>seed predecessors (weights importance of sites highly connected to priority sites for seeding)</li><li>low cover (weights importance of sites with low cover/high available real estate to plant corals)</li></ol></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L190-L222">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.create_shade_matrix-NTuple{8, Any}" href="#ADRIA.create_shade_matrix-NTuple{8, Any}"><code>ADRIA.create_shade_matrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_shade_matrix(A, wtconshade, wtwaves, wtheat, wtpredecshade, wthicover)</code></pre><p>Create shading specific decision matrix and apply weightings.</p><p><strong>Arguments</strong></p><ul><li>A : Criteria  matrix</li><li>wtconshade : Shading connectivity weight</li><li>wtwaves : Wave stress weight</li><li>wtheat : Heat stress weight</li><li>wtpredecshade : Priority predecessor weight for shading</li><li>wthicover : Weighting for high coral cover when shading</li></ul><p><strong>Returns</strong></p><p>Tuple (SH, wsh)</p><ul><li>SH : Matrix of shape [n sites considered, 7]<ol><li>Site index ID</li><li>Incoming Centrality</li><li>Outgoing Centrality</li><li>Wave risk (higher values = less risk)</li><li>Damage risk (higher values = less risk)</li><li>Priority predecessors relating to coral real estate relative to max capacity</li><li>Available space</li></ol></li><li>wsh : 5-element vector of criteria weights<ol><li>shade connectivity</li><li>wave</li><li>heat</li><li>shade predecessors (weights importance of sites highly connected to priority sites for shading)</li><li>high cover (weights importance of sites with high cover of coral to shade)</li></ol></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L241-L270">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.dMCDA-Tuple{ADRIA.DMCDA_vars, Int64, Bool, Bool, AbstractArray{Int64}, AbstractArray{Int64}, Matrix{Int64}}" href="#ADRIA.dMCDA-Tuple{ADRIA.DMCDA_vars, Int64, Bool, Bool, AbstractArray{Int64}, AbstractArray{Int64}, Matrix{Int64}}"><code>ADRIA.dMCDA</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dMCDA(d_vars::DMCDA_vars, alg_ind::Int64, log_seed::Bool, log_shade::Bool, prefseedsites::AbstractArray{Int}, prefshadesites::AbstractArray{Int}, rankingsin::Matrix{Int64})</code></pre><p><strong>Arguments</strong></p><ul><li>d<em>vars : DMCDA</em>vars type struct containing weightings and criteria values for site selection.</li><li>alg_ind : integer indicating MCDA aggregation method to use (0: none, 1: order ranking, 2:topsis, 3: vikor)</li><li>log_seed : boolean ideicating whether seeding sites are being re-assesed at current time</li><li>log_shade : boolean ideicating whether shading/fogging sites are being re-assesed at current time</li><li>prefshadesites : previous time step&#39;s selection of sites for shading</li><li>prefseedsites : previous time step&#39;s selection of sites for seeding</li><li>rankingsin : storage for site rankings</li></ul><p><strong>Returns</strong></p><p>Tuple :     - prefseedsites : nsiteint highest ranked seeding sites     - prefshadesites : nsiteint highest ranked shading/fogging sites     - number of seed sites : nprefseedsites     - nprefshadesites : number of shade sites     - rankings : nsitesx3 matrix holding [site<em>id, seeding</em>rank, shading_rank],         0 indicates sites that were not considered</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L288-L308">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.distance_sorting-Tuple{AbstractArray{Int64}, Matrix{Union{Float64, Int64}}, Array{Float64}, Float64, Int64, Matrix{Int64}, Int64}" href="#ADRIA.distance_sorting-Tuple{AbstractArray{Int64}, Matrix{Union{Float64, Int64}}, Array{Float64}, Float64, Int64, Matrix{Int64}, Int64}"><code>ADRIA.distance_sorting</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distance_sorting(pref_sites::AbstractArray{Int}, site_order::AbstractVector, dist::Array{Float64}, dist_thresh::Float64, top_n::Int64)::AbstractArray{Int}</code></pre><p>Find selected sites with distances between each other &lt; median distance-dist<em>thresh*(median distance). Replaces these sites with sites in the top</em>n ranks if the distance between these sites is greater.</p><p><strong>Arguments</strong></p><ul><li>pref_sites : original n highest ranked sites selected for seeding or shading.</li><li>site_order : current order of ranked sites in terms of numerical site ID.</li><li>dist : Matrix of unique distances between sites.</li><li>min_dist : minimum distance between sites for selected sites.</li><li>top_n : number of top ranked sites to re-select from.</li></ul><p><strong>Returns</strong></p><ul><li>prefsites : new set of selected sites for seeding or shading.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L454-L469">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.distribute_seeded_corals-Tuple{Vector{Float64}, Vector{Int64}, Vector{Float64}, NamedTuple{(:TA, :CA), Tuple{Float64, Float64}}}" href="#ADRIA.distribute_seeded_corals-Tuple{Vector{Float64}, Vector{Int64}, Vector{Float64}, NamedTuple{(:TA, :CA), Tuple{Float64, Float64}}}"><code>ADRIA.distribute_seeded_corals</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distribute_seeded_corals(total_site_area::Vector{Float64},
    prefseedsites::Vector{Int64}, available_space::Vector{Float64},
    seeded_area::NamedTuple{(:TA, :CA),Tuple{Float64,Float64}})::NamedTuple{(:TA, :CA),Tuple{Vector{Float64},Vector{Float64}}}</code></pre><p>Calculate proportion of Tabular Acropora (TA) and Corymbose Acropora (CA) to be seeded at each of the nsiteint seeding sites selected. Distributes seeded corals according to current available space at each selected site.</p><p><strong>Arguments</strong></p><ul><li>total<em>site</em>area : nsites*1, total area at each site in m^2.</li><li>prefseedsites : nsiteint*1, indices for the selected seeding sites.</li><li>available_space : nsites*1, current available space at each site in m^2.</li><li>seeded_area : area (in m²) of each coral type to be seeded with<ul><li>TA : colony area of a TA.</li><li>CA : colony area of a CA.</li></ul></li></ul><p><strong>Returns</strong></p><p>scaled<em>seed : NamedTuple (TA = scaled</em>seed<em>TA, CA = scaled</em>seed_CA), where:     - TA : nsiteint elements, proportions of TA coral to seed at prefseedsites     - CA : nsiteint elements, proportions of CA coral to seed at prefseedsites.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/interventions/seeding.jl#L1-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.env_stats-Tuple{ADRIA.ResultSet, String, String}" href="#ADRIA.env_stats-Tuple{ADRIA.ResultSet, String, String}"><code>ADRIA.env_stats</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">env_stats(rs::ResultSet, s_name::String, rcp::String)
env_stats(rs::ResultSet, s_name::String, rcp::String, member::Int)
env_stats(rs::ResultSet, s_name::String, stat::String, rcp::String, member::Int)</code></pre><p>Extract statistics for a given environmental layer (&quot;DHW&quot; or &quot;wave&quot;)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/ResultSet.jl#L219-L225">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.fecundity_scope!-Tuple{AbstractMatrix{Float64}, AbstractMatrix{Float64}, AbstractArray{Float64}, AbstractMatrix{Float64}, AbstractArray{Float64}}" href="#ADRIA.fecundity_scope!-Tuple{AbstractMatrix{Float64}, AbstractMatrix{Float64}, AbstractArray{Float64}, AbstractMatrix{Float64}, AbstractArray{Float64}}"><code>ADRIA.fecundity_scope!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fecundity_scope!(fec_groups::Array{Float64, 2}, fec_all::Array{Float64, 2}, fec_params::Array{Float64},
                 Y_pstep::Array{Float64, 2}, k_area::Array{Float64})::Nothing</code></pre><p>The scope that different coral groups and size classes have for producing larvae without consideration of environment.</p><p>Coral fecundity per coral area of the different size classes. When multiplied by the relative cover of each size class within taxa, this produces an estimate of the relative fecundity of each coral group and size. Total relative fecundity of a group is then calculated as the sum of fecundities across size classes.</p><p><strong>Arguments</strong></p><ul><li>fec<em>groups : Matrix[n</em>classes, n_sites], memory cache to place results into</li><li>fec<em>all : Matrix[n</em>taxa, n_sites], temporary cache to place intermediate fecundity values into</li><li>fec_params : Vector, coral fecundity parameters (in per m²) for each species/size class</li><li>Y<em>pstep : Matrix[n</em>taxa, n_sites], of coral cover values for the previous time step</li><li>site<em>area : Vector[n</em>sites], total site area in m²</li></ul><p><strong>Returns</strong></p><p>Matrix[n<em>classes, n</em>sites] : fecundity per m² of coral</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth.jl#L214-L236">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.get_DHW_data-Tuple{Domain, String}" href="#ADRIA.get_DHW_data-Tuple{Domain, String}"><code>ADRIA.get_DHW_data</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the path to the DHW data associated with the domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L527">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.get_wave_data-Tuple{Domain, String}" href="#ADRIA.get_wave_data-Tuple{Domain, String}"><code>ADRIA.get_wave_data</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the path to the wave data associated with the domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L532">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.growthODE-Tuple{Matrix{Float64}, Matrix{Float64}, NamedTuple, Real}" href="#ADRIA.growthODE-Tuple{Matrix{Float64}, Matrix{Float64}, NamedTuple, Real}"><code>ADRIA.growthODE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">growthODE(du, X, p, _)</code></pre><p>Base coral growth function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth.jl#L40-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.growthODE_expanded-Tuple{Matrix{Float64}, Matrix{Float64}, NamedTuple, Real}" href="#ADRIA.growthODE_expanded-Tuple{Matrix{Float64}, Matrix{Float64}, NamedTuple, Real}"><code>ADRIA.growthODE_expanded</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Not intended for use in production.</p><p>The ODE defined here is identical to <code>growth.jl::growthODE()</code> in function. The terms are expanded out to cover each coral taxa/size class.</p><p><strong>Arguments</strong></p><p>du : matrix holding derivatives X : Current coral cover, relative to <code>k</code> p : additional parameters t : time, unused, so marking with <code>_</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth_expanded.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.has_setup-Tuple{}" href="#ADRIA.has_setup-Tuple{}"><code>ADRIA.has_setup</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Check to ensure setup has been run.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/utils/setup.jl#L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.human_readable_name" href="#ADRIA.human_readable_name"><code>ADRIA.human_readable_name</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">human_readable_name(names::Array{String}, title_case::Bool)</code></pre><p>Make presentable parameter labels. Returns a copy of original array so input is not modified.</p><p><strong>Arguments</strong></p><ul><li>names : parameter names to convert</li><li>title_case : boolean, whether to convert to Title Case or not.</li></ul><p><strong>Returns</strong></p><ul><li>converted_names : array[str], of cleaned parameter names</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/utils/text_display.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.load_covers-Tuple{String, String, DataFrames.DataFrame}" href="#ADRIA.load_covers-Tuple{String, String, DataFrames.DataFrame}"><code>ADRIA.load_covers</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_covers(data_fn::String, attr::String, site_data::DataFrame)::NamedArray</code></pre><p>Load initial coral cover data from netCDF.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/inputs.jl#L162-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.load_domain-Tuple{String, String}" href="#ADRIA.load_domain-Tuple{String, String}"><code>ADRIA.load_domain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_domain(path::String, rcp::Int64)
load_domain(path::String, rcp::String)
load_domain(path::String)</code></pre><p>Load domain specification from data package.</p><p><strong>Arguments</strong></p><ul><li>path : location of data package</li><li>rcp : RCP scenario to run. If none provided, no data path is set.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L207-L217">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.load_env_data-Tuple{String, String, DataFrames.DataFrame}" href="#ADRIA.load_env_data-Tuple{String, String, DataFrames.DataFrame}"><code>ADRIA.load_env_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_env_data(data_fn::String, attr::String, site_data::DataFrame)::NamedArray</code></pre><p>Load environmental data layers (DHW, Wave) from netCDF.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/inputs.jl#L188-L192">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.load_nc_data-Tuple{String, String, DataFrames.DataFrame}" href="#ADRIA.load_nc_data-Tuple{String, String, DataFrames.DataFrame}"><code>ADRIA.load_nc_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_nc_data(data_fn::String, attr::String, n_sites::Int)::NamedArray</code></pre><p>Load netCDF data as a NamedArray.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/inputs.jl#L115-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.load_results-Tuple{String}" href="#ADRIA.load_results-Tuple{String}"><code>ADRIA.load_results</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_results(result_loc::String)::ResultSet
load_results(domain::Domain)::ResultSet</code></pre><p>Create interface to a given Zarr result set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/result_io.jl#L318-L323">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.load_scenarios-Union{Tuple{D}, Tuple{D, String}} where D" href="#ADRIA.load_scenarios-Union{Tuple{D}, Tuple{D, String}} where D"><code>ADRIA.load_scenarios</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_scenarios(domain::Domain, filepath::String)::DataFrame</code></pre><p>Load and pre-process scenario values. Parameters intended to be of Integer type or casted as such.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/inputs.jl#L41-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.map_to_discrete!-Tuple{DataFrames.DataFrame, Union{Tuple, AbstractArray}}" href="#ADRIA.map_to_discrete!-Tuple{DataFrames.DataFrame, Union{Tuple, AbstractArray}}"><code>ADRIA.map_to_discrete!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">map_to_discrete!(df::DataFrame, u::AbstractArray)::Nothing</code></pre><p>Update a dataframe of parameters. Length of <code>u</code> is expected to match number of columns in <code>df</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/Ecosystem.jl#L29-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.map_to_discrete-Tuple{Number, Int64}" href="#ADRIA.map_to_discrete-Tuple{Number, Int64}"><code>ADRIA.map_to_discrete</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">map_to_discrete(v::Number, u::Int)::Int</code></pre><p>For integer/categorical parameters, take floor of <code>v</code>, capping to <code>u - 1</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/Ecosystem.jl#L20-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.max_maindiag-Tuple{AbstractArray}" href="#ADRIA.max_maindiag-Tuple{AbstractArray}"><code>ADRIA.max_maindiag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">max_maindiag(A::AbstractArray)</code></pre><p>Get the maximum diagonal values in matrix <code>A</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/sampling.jl#L194-L198">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.max_offdiag-Tuple{AbstractArray}" href="#ADRIA.max_offdiag-Tuple{AbstractArray}"><code>ADRIA.max_offdiag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">max_offdiag(A::AbstractArray)</code></pre><p>Get the maximum off-diagonal values in matrix <code>A</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/sampling.jl#L184-L188">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.mcda_normalize-Tuple{Matrix}" href="#ADRIA.mcda_normalize-Tuple{Matrix}"><code>ADRIA.mcda_normalize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mcda_normalize(x::Matrix)::Matrix</code></pre><p>Normalize a Matrix (SE/SH) for MCDA.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L49-L53">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.mcda_normalize-Tuple{Vector}" href="#ADRIA.mcda_normalize-Tuple{Vector}"><code>ADRIA.mcda_normalize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mcda_normalize(x::Vector)::Vector</code></pre><p>Normalize a Vector (wse/wsh) for MCDA.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L40-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.model_spec-Tuple{ADRIA.ResultSet}" href="#ADRIA.model_spec-Tuple{ADRIA.ResultSet}"><code>ADRIA.model_spec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">model_spec(rs::ResultSet)::DataFrame</code></pre><p>Extract model specification from Result Set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/ResultSet.jl#L322-L326">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.model_spec-Tuple{Domain}" href="#ADRIA.model_spec-Tuple{Domain}"><code>ADRIA.model_spec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">model_spec(d::Domain)::DataFrame
model_spec(d::Domain, filepath::String)::Nothing</code></pre><p>Get model specification as DataFrame with lower and upper bounds. If a filepath is provided, writes the specification out to file with ADRIA metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L301-L307">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.offdiag-Tuple{AbstractArray}" href="#ADRIA.offdiag-Tuple{AbstractArray}"><code>ADRIA.offdiag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">offdiag(A::AbstractArray)</code></pre><p>Get off-diagonal values of matrix <code>A</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/sampling.jl#L177-L181">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.order_ranking-Tuple{Matrix{Float64}}" href="#ADRIA.order_ranking-Tuple{Matrix{Float64}}"><code>ADRIA.order_ranking</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">order_ranking(S::Array{Float64, 2})</code></pre><p>Uses simple summation as aggregation method for decision criteria. Then orders sites from highest aggregate score to lowest.</p><p><strong>Arguments</strong></p><ul><li>S : Decision matrix (seeding or shading)</li></ul><p><strong>Returns</strong></p><ul><li>s_order : nsites × 3 matrix with columns<ol><li>site ids</li><li>calculated site rank score (higher values = higher ranked)</li><li>site order id</li></ol></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L528-L542">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.param_table-Tuple{Domain}" href="#ADRIA.param_table-Tuple{Domain}"><code>ADRIA.param_table</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">param_table(d::Domain)::DataFrame</code></pre><p>Get model fieldnames and their parameter values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L285-L289">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.process_inputs!-Union{Tuple{D}, Tuple{D, DataFrames.DataFrame}} where D" href="#ADRIA.process_inputs!-Union{Tuple{D}, Tuple{D, DataFrames.DataFrame}} where D"><code>ADRIA.process_inputs!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">process_inputs!(d::D, df::DataFrame)::Nothing where {D}</code></pre><p>Map sampled values in <code>df</code> back to discrete bounds for parameters indicated to be of integer type in the Domain spec.</p><p><strong>Arguments</strong></p><ul><li>d : Domain type</li><li>df : DataFrame</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/inputs.jl#L58-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.proportional_adjustment!-Tuple{AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}}" href="#ADRIA.proportional_adjustment!-Tuple{AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}}"><code>ADRIA.proportional_adjustment!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">proportional_adjustment!(covers::AbstractArray{&lt;:Real}, cover_tmp::AbstractArray{&lt;:Real}, max_cover::AbstractArray{&lt;:Real})</code></pre><p>Helper method to proportionally adjust coral cover. Modifies arrays in-place.</p><p><strong>Arguments</strong></p><ul><li>covers : Coral cover result set</li><li>cover_tmp : Temporary cache matrix used to hold sum over species. Avoids memory allocations</li><li>max_cover : Maximum possible coral cover for each site</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth.jl#L15-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.rank_sites!-NTuple{6, Any}" href="#ADRIA.rank_sites!-NTuple{6, Any}"><code>ADRIA.rank_sites!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rank_sites!(S, weights, rankings, nsiteint, rank_col)
rank_seed_sites!(S, weights, rankings, nsiteint)
rank_shade_sites!(S, weights, rankings, nsiteint)</code></pre><p><strong>Arguments</strong></p><ul><li>S : Matrix, Site preference values</li><li>weights : weights to apply</li><li>rankings : vector of site ranks to update</li><li>nsiteint : number of sites to select for interventions</li><li>rank_col : column to fill with rankings (2 for seed, 3 for shade)</li></ul><p><strong>Returns</strong></p><p>prefsites : sites in order of their rankings</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L73-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.recruitment-Union{Tuple{S}, Tuple{T}, Tuple{AbstractMatrix{&lt;:Real}, Matrix{&lt;:Real}}} where {T, S}" href="#ADRIA.recruitment-Union{Tuple{S}, Tuple{T}, Tuple{AbstractMatrix{&lt;:Real}, Matrix{&lt;:Real}}} where {T, S}"><code>ADRIA.recruitment</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">recruitment(larval_pool, A::Matrix{&lt;:Real}; α=2.5, β=5000.0)</code></pre><p><strong>Arguments</strong></p><ul><li>larval_pool : Available larval pool</li><li>A : Available space (0 - 1) relative to maximum area covered by     cropped algal turf, i.e., the substratum that is suitable      for coral recruitment</li><li>α : Maximum achievable density (settlers/m²) for a 100% free space</li><li>β : Stock of larvae required to produce 50% of the maximum settlement</li></ul><p><strong>Returns</strong></p><p>Total coral recruitment for each coral taxa and site based on a Poisson distribution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth.jl#L353-L366">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.recruitment_rate-Tuple{AbstractMatrix{&lt;:Real}, AbstractArray{&lt;:Real}}" href="#ADRIA.recruitment_rate-Tuple{AbstractMatrix{&lt;:Real}, AbstractArray{&lt;:Real}}"><code>ADRIA.recruitment_rate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">recruitment_rate(larval_pool, α=2.5, β=5000.0)</code></pre><p><strong>Arguments</strong></p><ul><li>larval_pool : Available larval pool</li><li>A : Proportion of available area</li><li>α : Maximum achievable density (settlers/m²) for a 100% free space</li><li>β : Stock of larvae required to produce 50% of the maximum settlement</li></ul><p><strong>Returns</strong></p><p>λ, coral recruitment for each coral taxa based on a Poisson distribution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth.jl#L333-L344">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.relative_leftover_space-Tuple{Domain, Matrix{Float64}}" href="#ADRIA.relative_leftover_space-Tuple{Domain, Matrix{Float64}}"><code>ADRIA.relative_leftover_space</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">relative_leftover_space(domain::Domain)::Vector{Float64}
relative_leftover_space(site_k::Matrix{Float64}, site_coral_cover::Matrix{Float64})::Matrix{Float64}</code></pre><p>Get proportion of leftover space, given site_k and proportional cover on each site, summed over species.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L499-L504">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.result_location-Tuple{Domain}" href="#ADRIA.result_location-Tuple{Domain}"><code>ADRIA.result_location</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">result_location(d::Domain)::String</code></pre><p>Generate path to the data store of results for the given Domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/result_io.jl#L390-L394">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.run_model-Tuple{Domain, Union{AbstractVector, DataFrames.DataFrameRow}, DataFrames.DataFrame, NamedTuple}" href="#ADRIA.run_model-Tuple{Domain, Union{AbstractVector, DataFrames.DataFrameRow}, DataFrames.DataFrame, NamedTuple}"><code>ADRIA.run_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_model(domain::Domain, param_set::Union{NamedTuple,DataFrameRow}, corals::DataFrame, cache::NamedTuple)::NamedTuple</code></pre><p>Core scenario running function.</p><p><strong>Notes</strong></p><p>Only the mean site rankings are kept</p><p><strong>Returns</strong></p><p>NamedTuple of collated results</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/scenario.jl#L288-L298">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.run_scenario-Tuple{Int64, Union{AbstractVector, DataFrames.DataFrameRow}, Domain, NamedTuple, NamedTuple}" href="#ADRIA.run_scenario-Tuple{Int64, Union{AbstractVector, DataFrames.DataFrameRow}, Domain, NamedTuple, NamedTuple}"><code>ADRIA.run_scenario</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_scenario(idx, param_set::Union{AbstractVector, DataFrameRow}, domain::Domain, data_store::NamedTuple, cache::NamedTuple)::NamedTuple
run_scenario(idx, param_set::Union{AbstractVector, DataFrameRow}, domain::Domain, data_store::NamedTuple)::NamedTuple
run_scenario(param_set::Union{AbstractVector, DataFrameRow}, domain::Domain, cache::NamedTuple)::NamedTuple
run_scenario(param_set::NamedTuple, domain::Domain)::NamedTuple</code></pre><p>Run individual scenarios for a given domain, saving results to a Zarr data store. Results are stored in Zarr format at a pre-configured location. Sets up a new <code>cache</code> if not provided.</p><p><strong>Notes</strong></p><p>Logs of site ranks only store the mean site rankings over all environmental scenarios. This is to reduce the volume of data stored.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/scenario.jl#L179-L192">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.run_scenarios-Tuple{DataFrames.DataFrame, Domain}" href="#ADRIA.run_scenarios-Tuple{DataFrames.DataFrame, Domain}"><code>ADRIA.run_scenarios</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_scenarios(param_df::DataFrame, domain::Domain; remove_workers=true)
run_scenarios(param_df::DataFrame, domain::Domain, rcp::String; remove_workers=true)
run_scenarios(param_df::DataFrame, domain::Domain, rcp::Array{String}; remove_workers=true)</code></pre><p>Run scenarios defined by the parameter table storing results to disk. Scenarios are run in parallel where the number of scenarios &gt; 256.</p><p><strong>Notes</strong></p><ul><li>Returned <code>domain</code> holds scenario invoke time used as unique result set identifier.</li><li>If multiple RCPs are specified, this method will temporarily use double the disk space to consolidate results into a single ResultSet.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">...
julia&gt; rs_45 = ADRIA.run_scenarios(p_df, dom, &quot;45&quot;)
julia&gt; rs_45_60 = ADRIA.run_scenarios(p_df, dom, [&quot;45&quot;, &quot;60&quot;])
julia&gt; rs_all = ADRIA.run_scenarios(p_df, dom)</code></pre><p><strong>Arguments</strong></p><ul><li>param_df : DataFrame of scenarios to run</li><li>domain : Domain, to run scenarios with</li><li>rcp : ID of RCP(s) to run scenarios under.</li><li>remove_workers : if running in parallel, removes workers after completion</li></ul><p><strong>Returns</strong></p><p>ResultSet</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/scenario.jl#L39-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sample_cf" href="#ADRIA.sample_cf"><code>ADRIA.sample_cf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sample_cf(d::Domain, n::Int, sampler=SobolSample())::DataFrame</code></pre><p>Generate only counterfactual scenarios using any sampler from QuasiMonteCarlo.jl</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/sampling.jl#L110-L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.sample_guided" href="#ADRIA.sample_guided"><code>ADRIA.sample_guided</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sample_guided(d::Domain, n::Int, sampler=SobolSample())::DataFrame</code></pre><p>Generate only guided scenarios using any sampler from QuasiMonteCarlo.jl</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/sampling.jl#L121-L125">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.scenario_attributes-NTuple{10, Any}" href="#ADRIA.scenario_attributes-NTuple{10, Any}"><code>ADRIA.scenario_attributes</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scenario_attributes(name, RCP, input_cols, invoke_time, env_layer, sim_constants, unique_sites, area, k)
scenario_attributes(domain::Domain, param_df::DataFrame)</code></pre><p>Generate dictionary of scenario attributes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/result_io.jl#L80-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.select-Tuple{ADRIA.ResultSet, String}" href="#ADRIA.select-Tuple{ADRIA.ResultSet, String}"><code>ADRIA.select</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">select(r::ResultSet, op::String)</code></pre><p>Hacky scenario filtering - to be replaced with more robust approach.</p><p>Only supports filtering by single attribute. Should be expanded to support filtering metric results too.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">select(result, &quot;guided .&gt; 0.0&quot;)

# Above expands to:
# result.inputs.guided .&gt; 0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/ResultSet.jl#L269-L284">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.set-Tuple{ModelParameters.Param, Number}" href="#ADRIA.set-Tuple{ModelParameters.Param, Number}"><code>ADRIA.set</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Set a model parameter value directly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/Ecosystem.jl#L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.settler_cover-Union{Tuple{V}, Tuple{T}, Tuple{T, T, T, Matrix{Float64}, V, V, V}} where {T&lt;:(AbstractMatrix{&lt;:Real}), V&lt;:Vector{Float64}}" href="#ADRIA.settler_cover-Union{Tuple{V}, Tuple{T}, Tuple{T, T, T, Matrix{Float64}, V, V, V}} where {T&lt;:(AbstractMatrix{&lt;:Real}), V&lt;:Vector{Float64}}"><code>ADRIA.settler_cover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">settler_cover(fec_scope, sf, TP_data, leftover_space, α, β, basal_area_per_settler)</code></pre><p><strong>Arguments</strong></p><ul><li>fec_scope : fecundity scope</li><li>sf : stressed fecundity</li><li>TP_data : Transition probability</li><li>leftover<em>space : difference between sites&#39; maximum carrying capacity and current coral cover (k - C</em>s)</li><li>α : max number of settlers / m²</li><li>β : larvae / m² required to produce 50% of maximum settlement (default: 5000.0)</li><li>basal<em>area</em>per_settler : area taken up by a single settler</li></ul><p><strong>Returns</strong></p><p>Area covered by recruited larvae (in m²)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth.jl#L373-L387">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.settler_density-Tuple{Any, Any, Any}" href="#ADRIA.settler_density-Tuple{Any, Any, Any}"><code>ADRIA.settler_density</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">settler_density(α, β, L)</code></pre><p>Note for β: &quot;For corals, the actual number of 6-month old recruits for each coral group     is generated [...] following a Poisson distribution with recruitment event rate λ.</p><p><strong>Arguments</strong></p><ul><li>α : Maximum achievable density (settlers/m²) for a 100% free space (set to 2.5 in [1] for Corymbose)</li><li>β : Stock of larvae required to produce one-half the maximum settlement (larvae/m²),       i.e., α/2(m²), set to 5000 in [1].</li><li>L : Available larval pool</li></ul><p><strong>Returns</strong></p><p>Settler density (settlers / m²)</p><p><strong>References</strong></p><ol><li>Bozec, Y.-M., Hock, K., Mason, R. A. B., Baird, M. E.,   Castro-Sanguino, C., Condie, S. A., Puotinen, M.,   Thompson, A., &amp; Mumby, P. J. (2022). Cumulative impacts across Australia&#39;s Great Barrier Reef:   A mechanistic evaluation. Ecological Monographs, 92(1), e01494. https://doi.org/10.1002/ecm.1494</li></ol><p><strong>Examples</strong></p><p>settler_density(2.5, 5000.0, L)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth.jl#L301-L327">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.setup_cache-Tuple{Domain}" href="#ADRIA.setup_cache-Tuple{Domain}"><code>ADRIA.setup_cache</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setup_cache(domain::Domain)::NamedTuple</code></pre><p>Establish tuple of matrices/vectors for use as reusable data stores to avoid repeated memory allocations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/scenario.jl#L7-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.setup_result_store!-Tuple{Domain, DataFrames.DataFrame}" href="#ADRIA.setup_result_store!-Tuple{Domain, DataFrames.DataFrame}"><code>ADRIA.setup_result_store!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setup_result_store!(domain::Domain, param_df::DataFrame)</code></pre><p>Sets up an on-disk result store.</p><p><strong>Structure of Store</strong></p><pre><code class="nohighlight hljs">├───logs
│   ├───fog
│   ├───rankings
│   ├───seed
│   └───shade
├───results
│   ├───relative_cover
│   ├───relative_shelter_volume
│   └───absolute_shelter_volume
├───site_data
├───model_spec
└───inputs</code></pre><ul><li><code>inputs</code> : includes domain specification metadata including what connectivity/DHW/wave data was used.</li><li><code>site_data</code> : contains a copy of the spatial domain data (as geopackage).</li><li><code>model_spec</code> : contains a copy of the ADRIA model specification (as CSV).</li></ul><p><strong>Notes</strong></p><ul><li><code>domain</code> is replaced with an identical copy with an updated scenario invoke time.</li><li>-9999.0 is used as an arbitrary fill value.</li></ul><p><strong>Arguments</strong></p><ul><li>domain : ADRIA scenario domain</li><li>param_df : ADRIA scenario specification</li></ul><p><strong>Returns</strong></p><p>domain, (relative<em>cover, relative</em>shelter<em>volume, absolute</em>shelter<em>volume, site</em>ranks, seed<em>log, fog</em>log, shade_log)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/result_io.jl#L151-L187">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.site_area-Tuple{Domain}" href="#ADRIA.site_area-Tuple{Domain}"><code>ADRIA.site_area</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">site_area(domain::Domain)::Vector{Float64}</code></pre><p>Get site area for the given domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L483-L486">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.site_connectivity-Tuple{String, Vector{String}}" href="#ADRIA.site_connectivity-Tuple{String, Vector{String}}"><code>ADRIA.site_connectivity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">site_connectivity(file_loc, site_order; con_cutoff=0.02, agg_func=mean, swap=false)::NamedTuple</code></pre><p>Create transitional probability matrix indicating connectivity between sites, level of centrality, and the strongest predecessor for each site.</p><p>NOTE: Transposes transitional probability matrix if <code>swap == true</code>       If multiple files are read in, this assumes all file rows/cols       follow the same order as the first file read in.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">    site_connectivity(&quot;MooreTPmean.csv&quot;, site_order)
    site_connectivity(&quot;MooreTPmean.csv&quot;, site_order; con_cutoff=0.02, agg_func=mean, swap=true)</code></pre><p><strong>Arguments</strong></p><ul><li>file_loc : str, path to data file (or datasets) to load.              If a folder, searches subfolders as well.</li><li>unique_ids : Vector, of unique site ids in their expected order</li><li>site<em>order : Vector, of indices mapping duplicate conn</em>ids to their unique ID positions</li><li>con_cutoff : float, percent thresholds of max for weak connections in               network (defined by user or defaults in simConstants)</li><li>agg<em>func : function</em>handle, defaults to <code>mean</code>.</li><li>swap : boolean, whether to transpose data.</li></ul><p><strong>Returns</strong></p><p>NamedTuple:</p><ul><li>TP_data : Matrix, containing the transition probability for all sites</li><li>truncated : ID of sites removed</li><li>site_ids : ID of sites kept</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/connectivity.jl#L1-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.site_k-Tuple{Domain}" href="#ADRIA.site_k-Tuple{Domain}"><code>ADRIA.site_k</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">site_k(domain::Domain)::Vector{Float64}</code></pre><p>Get maximum coral cover area as a proportion of site area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L513-L517">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.site_k_area-Tuple{Domain}" href="#ADRIA.site_k_area-Tuple{Domain}"><code>ADRIA.site_k_area</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">site_k_area(domain::Domain)::Vector{Float64}</code></pre><p>Get maximum coral cover area for the given domain in absolute area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L491-L494">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.site_selection-Tuple{Domain, DataFrames.DataFrame, Float64, Int64, Int64, Int64}" href="#ADRIA.site_selection-Tuple{Domain, DataFrames.DataFrame, Float64, Int64, Int64, Int64}"><code>ADRIA.site_selection</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">site_selection(domain::Domain, criteria::DataFrame, area_to_seed::Float64, ts::Int, n_reps::Int, alg_ind::Int)</code></pre><p><strong>Returns</strong></p><p>Matrix : n<em>reps * sites * 3 last dimension indicates: site</em>id, seeding rank, shading rank</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L392-L398">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.slow_ODE-NTuple{4, Any}" href="#ADRIA.slow_ODE-NTuple{4, Any}"><code>ADRIA.slow_ODE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">slow_ODE(Y, X, p, t)</code></pre><p>Slow version of the growth model, ported directly from MATLAB.</p><p>Proportions of corals within a size class transitioning to the next size class up (r) is based on the assumption that colony sizes within each size bin are evenly distributed within bins. Transitions are then a simple ratio of the change in colony size to the width of the bin. See coralParms for further explanation of these coral metrics.</p><p>Note that recruitment pertains to coral groups (n = 6) and represents the contribution to the cover of the smallest size class within each group.  While growth and mortality metrics pertain to groups (6) as well as size classes (6) across all sites (total of 36 by nsites), recruitment is a 6 by nsites array.</p><p>Reshape flattened input from ODE back to expected matrix shape Dims: (coral species, sites)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth.jl#L80-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.store_env_summary-Tuple{AbstractArray, String, String, String, Zarr.Compressor}" href="#ADRIA.store_env_summary-Tuple{AbstractArray, String, String, String, Zarr.Compressor}"><code>ADRIA.store_env_summary</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">store_env_summary(data_cube::AbstractArray, type::String, file_loc::String, compressor::Zarr.Compressor)</code></pre><p>Retrieve summary statistics matrices from DataFrames of dhws and waves. Produce summary statistics (mean/std) for given data cube saved to a Zarr data store.</p><p><strong>Arguments</strong></p><ul><li>data_cube : data to summarize</li><li>type : dimension identifier to use</li><li>file_loc : path for Zarr data store</li></ul><p><strong>Returns</strong></p><p>Zarr data store holding a 2*N matrix.</p><p>First row is mean over time Second row is the std over time N is the number of dhw/wave scenarios.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/result_io.jl#L44-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.store_location-Tuple{ADRIA.ResultSet}" href="#ADRIA.store_location-Tuple{ADRIA.ResultSet}"><code>ADRIA.store_location</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">store_location(r::ResultSet)::String</code></pre><p>Get location of result set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/ResultSet.jl#L247-L251">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.store_name-Tuple{ADRIA.ResultSet}" href="#ADRIA.store_name-Tuple{ADRIA.ResultSet}"><code>ADRIA.store_name</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">store_name(r::ResultSet)::String</code></pre><p>Get name of result set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/ResultSet.jl#L237-L241">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.stressed_fecundity-Tuple{Int64, Vector{Float64}, Float64, Vector{Float64}, Float64, Float64, Float64, Int64}" href="#ADRIA.stressed_fecundity-Tuple{Int64, Vector{Float64}, Float64, Vector{Float64}, Float64, Float64, Float64, Int64}"><code>ADRIA.stressed_fecundity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">stressed_fecundity(tstep, a_adapt, n_adapt, stresspast, LPdhwcoeff, DHWmaxtot, LPDprm2, n_groups)</code></pre><p>Estimate how scope for larval production by each coral type changes as a function of last year&#39;s heat stress. The function is theoretical and is not yet verified by data.</p><p>Stressed Fecundity (sf) is based on the proportion of baseline fecundity that is unaffected by heat stress in the previous year - e.g., a value of 0.9 inside sf(i, j) indicates that species i at site j can only produce 90% of its usual larval output.</p><p><strong>Arguments</strong></p><ul><li>tstep : Current time step</li><li>a_adapt : DHW reduction of enhanced corals</li><li>n_adapt : DHWs reduction (linearly scales with <code>tstep</code>)</li><li>stresspast : DHW at previous time step for each site</li><li>LPdhwcoeff : </li><li>DHWmaxtot : Maximum DHW</li><li>LPDprm2 : Larval production parameter 2</li><li>n_groups : Number of groups</li></ul><p><strong>Returns</strong></p><p>sf : Array of values ∈ [0,1] indicating reduced fecundity from a baseline.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/growth.jl#L259-L283">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.summarize_env_data-Tuple{AbstractArray}" href="#ADRIA.summarize_env_data-Tuple{AbstractArray}"><code>ADRIA.summarize_env_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summarize_env_data(data_cube::AbstractArray)</code></pre><p>Summarize environmental data layers (mean and standard deviation).</p><p><strong>Returns</strong></p><p>Matrix{Float64, 2}, of mean and standard deviation for each environmental scenario.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/result_io.jl#L28-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.switch_RCPs!-Tuple{Domain, String}" href="#ADRIA.switch_RCPs!-Tuple{Domain, String}"><code>ADRIA.switch_RCPs!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">switch_RCPs!(d::Domain, RCP::String)::Domain</code></pre><p>Switch environmental datasets to represent the given RCP.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L537-L541">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.timesteps-Tuple{ADRIA.ResultSet}" href="#ADRIA.timesteps-Tuple{ADRIA.ResultSet}"><code>ADRIA.timesteps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">timesteps(rs::ResultSet)</code></pre><p>Retrieve the time steps represented in the result set.</p><p><strong>Arguments</strong></p><ul><li>rs : ResultSet</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/ResultSet.jl#L297-L304">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.timesteps-Tuple{Domain}" href="#ADRIA.timesteps-Tuple{Domain}"><code>ADRIA.timesteps</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Extract the time steps represented in the data package.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L522">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.to_spec-Tuple{ADRIA.Coral}" href="#ADRIA.to_spec-Tuple{ADRIA.Coral}"><code>ADRIA.to_spec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">to_spec(m::Model)::DataFrame</code></pre><p>Convert Coral Model specification to a coral spec DataFrame</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/spec.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.to_spec-Tuple{DataFrames.DataFrame}" href="#ADRIA.to_spec-Tuple{DataFrames.DataFrame}"><code>ADRIA.to_spec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">to_spec(coral_df::DataFrame)::DataFrame</code></pre><p>Convert dataframe of model parameters to a coral spec.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/spec.jl#L18-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.topsis-Tuple{Matrix{Float64}}" href="#ADRIA.topsis-Tuple{Matrix{Float64}}"><code>ADRIA.topsis</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">topsis(S::Array{Float64, 2})</code></pre><p>Calculates ranks using the aggregation method of the TOPSIS MCDA algorithm. Rank for a particular site is calculated as a ratio</p><pre><code class="nohighlight hljs">C = S_n/(S_p + S_n)</code></pre><p>S<em>n = √{∑(criteria .- NIS)²}     is the squareroot of the summed differences between the criteria for a site and the     Negative Ideal Solution (NIS), or worst performing site in each criteria. S</em>p  = √{∑(criteria .- NIS)²}     is the squareroot of the summed differences between the criteria for a site and the     Positive Ideal Solution (PIS), or best performing site in each criteria.</p><pre><code class="nohighlight hljs">Details of this aggregation method in, for example [1].</code></pre><p><strong>References</strong></p><ol><li>Opricovic, Serafim &amp; Tzeng, Gwo-Hshiung. (2004) European Journal of Operational Research.  Vol. 156. pp. 445.  https://doi.org/10.1016/S0377-2217(03)00020-1.</li></ol><p><strong>Arguments</strong></p><ul><li>S : Decision matrix (seeding or shading)</li></ul><p><strong>Returns</strong></p><ul><li>s_order :<ol><li>site ids</li><li>calculated site rank score (higher values = higher ranked)</li><li>site order id</li></ol></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L563-L593">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.unguided_site_selection-NTuple{7, Any}" href="#ADRIA.unguided_site_selection-NTuple{7, Any}"><code>ADRIA.unguided_site_selection</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unguided_site_selection(prefseedsites, prefshadesites, seed_years, shade_years, nsiteint, max_cover)</code></pre><p>Randomly select seed/shade site locations for the given year, constraining to sites with max. carrying capacity &gt; 0. Here, <code>max_cover</code> represents the max. carrying capacity for each site (the <code>k</code> value).</p><p><strong>Arguments</strong></p><ul><li>prefseedsites : Previously selected sites</li><li>seed_years : bool, indicating whether to seed this year or not</li><li>shade_years : bool, indicating whether to shade this year or not</li><li>nsiteint : int, number of sites to intervene on</li><li>available_space : vector/matrix : space available at each site (<code>k</code> value)</li><li>depth : vector of site ids found to be within desired depth range</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L695-L708">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.update_params!-Tuple{Domain, Union{AbstractVector, DataFrames.DataFrameRow}}" href="#ADRIA.update_params!-Tuple{Domain, Union{AbstractVector, DataFrames.DataFrameRow}}"><code>ADRIA.update_params!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update_params!(d::Domain, params::DataFrameRow)</code></pre><p>Update given domain with new parameter values. Maps sampled continuous values to discrete values for categorical variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L338-L343">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.vikor-Tuple{Matrix{Float64}}" href="#ADRIA.vikor-Tuple{Matrix{Float64}}"><code>ADRIA.vikor</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">vikor(S; v=0.5)</code></pre><p>Calculates ranks using the aggregation method of the VIKOR MCDA algorithm. Rank for a particular site is calculated as a linear combination of ratios, weighted by v:     Q = v(Sr - S<em>h) / (S</em>s - S<em>h) + (1 - v)(R - R</em>h) / (R<em>s - R</em>h)</p><p>where</p><ul><li>Sr = ∑(PIS-criteria) for each site, summed over criteria.</li><li>R = max(PIS-criteria) for each site, with the max over criteria.</li><li>S_h = min(∑(PIS-criteria)) over sites, the minimum summed distance from   the positive ideal solution.</li><li>S_s = max(∑(PIS-criteria)) over sites, maximum summed distance from   the positive ideal solution.</li><li>R_h = min(max(PIS-criteria)) over sites, the minimum max distance from   the positive ideal solution.</li><li>R_s = max(max(PIS-criteria)) over sites, the maximum max distance from   the positive ideal solution.</li><li>v = weighting, representing different decision-making strategies,   or level of compromise between utility (overall performance)   and regret (risk of performing very badly in one criteria despite   exceptional performance in others)<ul><li>v = 0.5 is consensus</li><li>v &lt; 0.5 is minimal regret</li><li>v &gt; 0.5 is max group utility (majority rules)</li></ul></li></ul><p>Details of this aggregation method in, for example [1]</p><p><strong>References</strong></p><ol><li>Alidrisi H. (2021) Journal of Risk and Financial Management.  Vol. 14. No. 6. pp. 271.  https://doi.org/10.3390/jrfm14060271</li></ol><p><strong>Arguments</strong></p><ul><li>S : Matrix</li><li>v : Real</li></ul><p><strong>Returns</strong></p><ul><li>s_order :<ol><li>site ids</li><li>calculated site rank score (higher values = higher ranked)</li><li>site order id</li></ol></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/sites/dMCDA.jl#L623-L666">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ModelParameters.update!-Tuple{ModelParameters.Model, Union{Tuple, Array}}" href="#ModelParameters.update!-Tuple{ModelParameters.Model, Union{Tuple, Array}}"><code>ModelParameters.update!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Update a given model with new uncertain parameter values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/Ecosystem.jl#L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Surrogates.sample" href="#Surrogates.sample"><code>Surrogates.sample</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sample(dom::Domain, n::Int, sampler=SobolSample())::DataFrame</code></pre><p>Create samples using provided sampler, and rescale to distribution defined in the model spec.</p><p>Notes:</p><ul><li>assumes all parameters are independent.</li></ul><p><strong>Arguments</strong></p><ul><li>dom : Domain</li><li>n : Int</li><li>sampler : Sampling method</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/io/sampling.jl#L57-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.CoralGrowth" href="#ADRIA.CoralGrowth"><code>ADRIA.CoralGrowth</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CoralGrowth(n_sites::Integer, n_species::Integer, n_groups::Integer, ode_p::NamedTuple)</code></pre><p>Coral growth specification for growth ODE model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/CoralGrowth.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.CoralGrowth-Tuple{Int64}" href="#ADRIA.CoralGrowth-Tuple{Int64}"><code>ADRIA.CoralGrowth</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">CoralGrowth(n_sites)</code></pre><p>Implements temporary hardcoded caches for a scenario with 36 &#39;species&#39; (split into 6 groups).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/corals/CoralGrowth.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.Domain" href="#ADRIA.Domain"><code>ADRIA.Domain</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Domain{M,I,D,S,V,T,X}</code></pre><p>Core ADRIA domain. Represents study area.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L19-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.Domain-Tuple{String, String, ADRIA.EnvLayer, NamedArrays.NamedMatrix, Vector{Float64}, Vector{Float64}, Vector{Int64}, DataFrames.DataFrame, Matrix{Float64}, Float64, String, String, NamedArrays.NamedMatrix, ADRIA.CoralGrowth, Vector{String}, Vector{String}, Union{Matrix, NamedArrays.NamedArray}, Union{Matrix, NamedArrays.NamedArray}}" href="#ADRIA.Domain-Tuple{String, String, ADRIA.EnvLayer, NamedArrays.NamedMatrix, Vector{Float64}, Vector{Float64}, Vector{Int64}, DataFrames.DataFrame, Matrix{Float64}, Float64, String, String, NamedArrays.NamedMatrix, ADRIA.CoralGrowth, Vector{String}, Vector{String}, Union{Matrix, NamedArrays.NamedArray}, Union{Matrix, NamedArrays.NamedArray}}"><code>ADRIA.Domain</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Barrier function to create Domain struct without specifying Intervention/Criteria/Coral/SimConstant parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L51-L53">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.Domain-Tuple{String, String, String, Vector, String, String, String, String, String, String, String}" href="#ADRIA.Domain-Tuple{String, String, String, Vector, String, String, String, String, String, String, String}"><code>ADRIA.Domain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Domain(name::String, rcp::String, timeframe::Vector, site_data_fn::String, site_id_col::String, unique_site_id_col::String, init_coral_fn::String,
       conn_path::String, dhw_fn::String, wave_fn::String)::Domain</code></pre><p>Convenience constructor for Domain.</p><p><strong>Arguments</strong></p><ul><li>name : Name of domain</li><li>dpkg_path : location of data package</li><li>rcp : RCP scenario represented</li><li>timeframe : Time steps represented</li><li>site<em>data</em>fn : File name of spatial data used</li><li>site<em>id</em>col : Column holding name of reef the site is associated with (non-unique)</li><li>unique<em>site</em>id_col : Column holding unique site names/ids</li><li>init<em>coral</em>fn : Name of file holding initial coral cover values</li><li>conn_path : Path to directory holding connectivity data</li><li>dhw_fn : Filename of DHW data cube in use</li><li>wave_fn : Filename of wave data cube</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L113-L131">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.EnvLayer" href="#ADRIA.EnvLayer"><code>ADRIA.EnvLayer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EnvLayer{S, TF}</code></pre><p>Store environmental data layers used for scenario</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/Domain.jl#L3-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ADRIA.SimConstants" href="#ADRIA.SimConstants"><code>ADRIA.SimConstants</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SimConstants</code></pre><p>Struct of simulation constants for ADRIA</p><p><strong>References</strong></p><ol><li><p>Lough, J. M., Anderson, K. D., &amp; Hughes, T. P. (2018). Increasing thermal stress for tropical coral reefs: 1871-2017. Scientific Reports, 8(1), 6079. https://doi.org/10.1038/s41598-018-24530-9</p></li><li><p>Hughes, T. P., Kerry, J. T., Baird, A. H., Connolly, S. R.,   Dietzel, A., Eakin, C. M., Heron, S. F., Hoey, A. S.,   Hoogenboom, M. O., Liu, G., McWilliam, M. J., Pears, R. J.,   Pratchett, M. S., Skirving, W. J., Stella, J. S., &amp; Torda, G. (2018). Global warming transforms coral reef assemblages. Nature, 556(7702), 492-496. https://doi.org/10.1038/s41586-018-0041-2</p></li><li><p>Bozec, Y.-M., Rowell, D., Harrison, L., Gaskell, J., Hock, K.,   Callaghan, D., Gorton, R., Kovacs, E. M., Lyons, M., Mumby, P.,   &amp; Roelfsema, C. (2021). Baseline mapping to support reef restoration and   resilience-based management in the Whitsundays. https://doi.org/10.13140/RG.2.2.26976.20482</p></li><li><p>Bozec, Y.-M., Hock, K., Mason, R. A. B., Baird, M. E., Castro-Sanguino, C.,   Condie, S. A., Puotinen, M., Thompson, A., &amp; Mumby, P. J. (2022). Cumulative impacts across Australia&#39;s Great Barrier Reef: A mechanistic evaluation.  Ecological Monographs, 92(1), e01494. https://doi.org/10.1002/ecm.1494</p></li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIA.jl/blob/5d9f859de4be4457ecb16303ddd6ee8363c4f40b/src/ecosystem/const_params.jl#L1-L32">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../development/building_docs/">« Building Documentation</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Tuesday 24 January 2023 20:23">Tuesday 24 January 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
